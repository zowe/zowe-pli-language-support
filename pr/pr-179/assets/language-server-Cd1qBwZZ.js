var Yd=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var cC=Yd((Wt,Vt)=>{function Xd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){return Reflect.construct(t,arguments,this.constructor)}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};Object.defineProperty(n,"__esModule",{value:true});Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:true,get:function(){return e[r]}})});return n}var gr={};var dr={};var Cn={};var _r={};var Er={};var Ja={};var po={};var re={};var ft={};var nu;function Oa(){if(nu)return ft;nu=1;Object.defineProperty(ft,"__esModule",{value:true});ft.stringArray=ft.array=ft.func=ft.error=ft.number=ft.string=ft.boolean=void 0;function e(o){return o===true||o===false}ft.boolean=e;function t(o){return typeof o==="string"||o instanceof String}ft.string=t;function n(o){return typeof o==="number"||o instanceof Number}ft.number=n;function r(o){return o instanceof Error}ft.error=r;function i(o){return typeof o==="function"}ft.func=i;function a(o){return Array.isArray(o)}ft.array=a;function s(o){return a(o)&&o.every(c=>t(c))}ft.stringArray=s;return ft}var ru;function Fm(){if(ru)return re;ru=1;Object.defineProperty(re,"__esModule",{value:true});re.Message=re.NotificationType9=re.NotificationType8=re.NotificationType7=re.NotificationType6=re.NotificationType5=re.NotificationType4=re.NotificationType3=re.NotificationType2=re.NotificationType1=re.NotificationType0=re.NotificationType=re.RequestType9=re.RequestType8=re.RequestType7=re.RequestType6=re.RequestType5=re.RequestType4=re.RequestType3=re.RequestType2=re.RequestType1=re.RequestType=re.RequestType0=re.AbstractMessageSignature=re.ParameterStructures=re.ResponseError=re.ErrorCodes=void 0;const e=Oa();var t;(function(P){P.ParseError=-32700;P.InvalidRequest=-32600;P.MethodNotFound=-32601;P.InvalidParams=-32602;P.InternalError=-32603;P.jsonrpcReservedErrorRangeStart=-32099;P.serverErrorStart=-32099;P.MessageWriteError=-32099;P.MessageReadError=-32098;P.PendingResponseRejected=-32097;P.ConnectionInactive=-32096;P.ServerNotInitialized=-32002;P.UnknownErrorCode=-32001;P.jsonrpcReservedErrorRangeEnd=-32e3;P.serverErrorEnd=-32e3})(t||(re.ErrorCodes=t={}));class n extends Error{constructor(A,U,R){super(U);this.code=e.number(A)?A:t.UnknownErrorCode;this.data=R;Object.setPrototypeOf(this,n.prototype)}toJson(){const A={code:this.code,message:this.message};if(this.data!==void 0){A.data=this.data}return A}}re.ResponseError=n;class r{constructor(A){this.kind=A}static is(A){return A===r.auto||A===r.byName||A===r.byPosition}toString(){return this.kind}}re.ParameterStructures=r;r.auto=new r("auto");r.byPosition=new r("byPosition");r.byName=new r("byName");class i{constructor(A,U){this.method=A;this.numberOfParams=U}get parameterStructures(){return r.auto}}re.AbstractMessageSignature=i;class a extends i{constructor(A){super(A,0)}}re.RequestType0=a;class s extends i{constructor(A,U=r.auto){super(A,1);this._parameterStructures=U}get parameterStructures(){return this._parameterStructures}}re.RequestType=s;class o extends i{constructor(A,U=r.auto){super(A,1);this._parameterStructures=U}get parameterStructures(){return this._parameterStructures}}re.RequestType1=o;class c extends i{constructor(A){super(A,2)}}re.RequestType2=c;class h extends i{constructor(A){super(A,3)}}re.RequestType3=h;class f extends i{constructor(A){super(A,4)}}re.RequestType4=f;class S extends i{constructor(A){super(A,5)}}re.RequestType5=S;class g extends i{constructor(A){super(A,6)}}re.RequestType6=g;class _ extends i{constructor(A){super(A,7)}}re.RequestType7=_;class I extends i{constructor(A){super(A,8)}}re.RequestType8=I;class M extends i{constructor(A){super(A,9)}}re.RequestType9=M;class W extends i{constructor(A,U=r.auto){super(A,1);this._parameterStructures=U}get parameterStructures(){return this._parameterStructures}}re.NotificationType=W;class C extends i{constructor(A){super(A,0)}}re.NotificationType0=C;class T extends i{constructor(A,U=r.auto){super(A,1);this._parameterStructures=U}get parameterStructures(){return this._parameterStructures}}re.NotificationType1=T;class O extends i{constructor(A){super(A,2)}}re.NotificationType2=O;class F extends i{constructor(A){super(A,3)}}re.NotificationType3=F;class Z extends i{constructor(A){super(A,4)}}re.NotificationType4=Z;class Q extends i{constructor(A){super(A,5)}}re.NotificationType5=Q;class le extends i{constructor(A){super(A,6)}}re.NotificationType6=le;class pe extends i{constructor(A){super(A,7)}}re.NotificationType7=pe;class Oe extends i{constructor(A){super(A,8)}}re.NotificationType8=Oe;class ke extends i{constructor(A){super(A,9)}}re.NotificationType9=ke;var V;(function(P){function A(y){const D=y;return D&&e.string(D.method)&&(e.string(D.id)||e.number(D.id))}P.isRequest=A;function U(y){const D=y;return D&&e.string(D.method)&&y.id===void 0}P.isNotification=U;function R(y){const D=y;return D&&(D.result!==void 0||!!D.error)&&(e.string(D.id)||e.number(D.id)||D.id===null)}P.isResponse=R})(V||(re.Message=V={}));return re}var Un={};var iu;function xm(){if(iu)return Un;iu=1;var e;Object.defineProperty(Un,"__esModule",{value:true});Un.LRUCache=Un.LinkedMap=Un.Touch=void 0;var t;(function(i){i.None=0;i.First=1;i.AsOld=i.First;i.Last=2;i.AsNew=i.Last})(t||(Un.Touch=t={}));class n{constructor(){this[e]="LinkedMap";this._map=new Map;this._head=void 0;this._tail=void 0;this._size=0;this._state=0}clear(){this._map.clear();this._head=void 0;this._tail=void 0;this._size=0;this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(a){return this._map.has(a)}get(a,s=t.None){const o=this._map.get(a);if(!o){return void 0}if(s!==t.None){this.touch(o,s)}return o.value}set(a,s,o=t.None){let c=this._map.get(a);if(c){c.value=s;if(o!==t.None){this.touch(c,o)}}else{c={key:a,value:s,next:void 0,previous:void 0};switch(o){case t.None:this.addItemLast(c);break;case t.First:this.addItemFirst(c);break;case t.Last:this.addItemLast(c);break;default:this.addItemLast(c);break}this._map.set(a,c);this._size++}return this}delete(a){return!!this.remove(a)}remove(a){const s=this._map.get(a);if(!s){return void 0}this._map.delete(a);this.removeItem(s);this._size--;return s.value}shift(){if(!this._head&&!this._tail){return void 0}if(!this._head||!this._tail){throw new Error("Invalid list")}const a=this._head;this._map.delete(a.key);this.removeItem(a);this._size--;return a.value}forEach(a,s){const o=this._state;let c=this._head;while(c){if(s){a.bind(s)(c.value,c.key,this)}else{a(c.value,c.key,this)}if(this._state!==o){throw new Error(`LinkedMap got modified during iteration.`)}c=c.next}}keys(){const a=this._state;let s=this._head;const o={[Symbol.iterator]:()=>{return o},next:()=>{if(this._state!==a){throw new Error(`LinkedMap got modified during iteration.`)}if(s){const c={value:s.key,done:false};s=s.next;return c}else{return{value:void 0,done:true}}}};return o}values(){const a=this._state;let s=this._head;const o={[Symbol.iterator]:()=>{return o},next:()=>{if(this._state!==a){throw new Error(`LinkedMap got modified during iteration.`)}if(s){const c={value:s.value,done:false};s=s.next;return c}else{return{value:void 0,done:true}}}};return o}entries(){const a=this._state;let s=this._head;const o={[Symbol.iterator]:()=>{return o},next:()=>{if(this._state!==a){throw new Error(`LinkedMap got modified during iteration.`)}if(s){const c={value:[s.key,s.value],done:false};s=s.next;return c}else{return{value:void 0,done:true}}}};return o}[(e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(a){if(a>=this.size){return}if(a===0){this.clear();return}let s=this._head;let o=this.size;while(s&&o>a){this._map.delete(s.key);s=s.next;o--}this._head=s;this._size=o;if(s){s.previous=void 0}this._state++}addItemFirst(a){if(!this._head&&!this._tail){this._tail=a}else if(!this._head){throw new Error("Invalid list")}else{a.next=this._head;this._head.previous=a}this._head=a;this._state++}addItemLast(a){if(!this._head&&!this._tail){this._head=a}else if(!this._tail){throw new Error("Invalid list")}else{a.previous=this._tail;this._tail.next=a}this._tail=a;this._state++}removeItem(a){if(a===this._head&&a===this._tail){this._head=void 0;this._tail=void 0}else if(a===this._head){if(!a.next){throw new Error("Invalid list")}a.next.previous=void 0;this._head=a.next}else if(a===this._tail){if(!a.previous){throw new Error("Invalid list")}a.previous.next=void 0;this._tail=a.previous}else{const s=a.next;const o=a.previous;if(!s||!o){throw new Error("Invalid list")}s.previous=o;o.next=s}a.next=void 0;a.previous=void 0;this._state++}touch(a,s){if(!this._head||!this._tail){throw new Error("Invalid list")}if(s!==t.First&&s!==t.Last){return}if(s===t.First){if(a===this._head){return}const o=a.next;const c=a.previous;if(a===this._tail){c.next=void 0;this._tail=c}else{o.previous=c;c.next=o}a.previous=void 0;a.next=this._head;this._head.previous=a;this._head=a;this._state++}else if(s===t.Last){if(a===this._tail){return}const o=a.next;const c=a.previous;if(a===this._head){o.previous=void 0;this._head=o}else{o.previous=c;c.next=o}a.next=void 0;a.previous=this._tail;this._tail.next=a;this._tail=a;this._state++}}toJSON(){const a=[];this.forEach((s,o)=>{a.push([o,s])});return a}fromJSON(a){this.clear();for(const[s,o]of a){this.set(s,o)}}}Un.LinkedMap=n;class r extends n{constructor(a,s=1){super();this._limit=a;this._ratio=Math.min(Math.max(0,s),1)}get limit(){return this._limit}set limit(a){this._limit=a;this.checkTrim()}get ratio(){return this._ratio}set ratio(a){this._ratio=Math.min(Math.max(0,a),1);this.checkTrim()}get(a,s=t.AsNew){return super.get(a,s)}peek(a){return super.get(a,t.None)}set(a,s){super.set(a,s,t.Last);this.checkTrim();return this}checkTrim(){if(this.size>this._limit){this.trimOld(Math.round(this._limit*this._ratio))}}}Un.LRUCache=r;return Un}var _i={};var au;function Qd(){if(au)return _i;au=1;Object.defineProperty(_i,"__esModule",{value:true});_i.Disposable=void 0;var e;(function(t){function n(r){return{dispose:r}}t.create=n})(e||(_i.Disposable=e={}));return _i}var Ar={};var Za={};var su;function Fr(){if(su)return Za;su=1;Object.defineProperty(Za,"__esModule",{value:true});let e;function t(){if(e===void 0){throw new Error(`No runtime abstraction layer installed`)}return e}(function(n){function r(i){if(i===void 0){throw new Error(`No runtime abstraction layer provided`)}e=i}n.install=r})(t||(t={}));Za.default=t;return Za}var ou;function Ra(){if(ou)return Ar;ou=1;Object.defineProperty(Ar,"__esModule",{value:true});Ar.Emitter=Ar.Event=void 0;const e=Fr();var t;(function(i){const a={dispose(){}};i.None=function(){return a}})(t||(Ar.Event=t={}));class n{add(a,s=null,o){if(!this._callbacks){this._callbacks=[];this._contexts=[]}this._callbacks.push(a);this._contexts.push(s);if(Array.isArray(o)){o.push({dispose:()=>this.remove(a,s)})}}remove(a,s=null){if(!this._callbacks){return}let o=false;for(let c=0,h=this._callbacks.length;c<h;c++){if(this._callbacks[c]===a){if(this._contexts[c]===s){this._callbacks.splice(c,1);this._contexts.splice(c,1);return}else{o=true}}}if(o){throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...a){if(!this._callbacks){return[]}const s=[],o=this._callbacks.slice(0),c=this._contexts.slice(0);for(let h=0,f=o.length;h<f;h++){try{s.push(o[h].apply(c[h],a))}catch(S){(0,e.default)().console.error(S)}}return s}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0;this._contexts=void 0}}class r{constructor(a){this._options=a}get event(){if(!this._event){this._event=(a,s,o)=>{if(!this._callbacks){this._callbacks=new n}if(this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()){this._options.onFirstListenerAdd(this)}this._callbacks.add(a,s);const c={dispose:()=>{if(!this._callbacks){return}this._callbacks.remove(a,s);c.dispose=r._noop;if(this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()){this._options.onLastListenerRemove(this)}}};if(Array.isArray(o)){o.push(c)}return c}}return this._event}fire(a){if(this._callbacks){this._callbacks.invoke.call(this._callbacks,a)}}dispose(){if(this._callbacks){this._callbacks.dispose();this._callbacks=void 0}}}Ar.Emitter=r;r._noop=function(){};return Ar}var Ir={};var cu;function Al(){if(cu)return Ir;cu=1;Object.defineProperty(Ir,"__esModule",{value:true});Ir.CancellationTokenSource=Ir.CancellationToken=void 0;const e=Fr();const t=Oa();const n=Ra();var r;(function(o){o.None=Object.freeze({isCancellationRequested:false,onCancellationRequested:n.Event.None});o.Cancelled=Object.freeze({isCancellationRequested:true,onCancellationRequested:n.Event.None});function c(h){const f=h;return f&&(f===o.None||f===o.Cancelled||t.boolean(f.isCancellationRequested)&&!!f.onCancellationRequested)}o.is=c})(r||(Ir.CancellationToken=r={}));const i=Object.freeze(function(o,c){const h=(0,e.default)().timer.setTimeout(o.bind(c),0);return{dispose(){h.dispose()}}});class a{constructor(){this._isCancelled=false}cancel(){if(!this._isCancelled){this._isCancelled=true;if(this._emitter){this._emitter.fire(void 0);this.dispose()}}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled){return i}if(!this._emitter){this._emitter=new n.Emitter}return this._emitter.event}dispose(){if(this._emitter){this._emitter.dispose();this._emitter=void 0}}}class s{get token(){if(!this._token){this._token=new a}return this._token}cancel(){if(!this._token){this._token=r.Cancelled}else{this._token.cancel()}}dispose(){if(!this._token){this._token=r.None}else if(this._token instanceof a){this._token.dispose()}}}Ir.CancellationTokenSource=s;return Ir}var Or={};var lu;function Jd(){if(lu)return Or;lu=1;Object.defineProperty(Or,"__esModule",{value:true});Or.SharedArrayReceiverStrategy=Or.SharedArraySenderStrategy=void 0;const e=Al();var t;(function(s){s.Continue=0;s.Cancelled=1})(t||(t={}));class n{constructor(){this.buffers=new Map}enableCancellation(o){if(o.id===null){return}const c=new SharedArrayBuffer(4);const h=new Int32Array(c,0,1);h[0]=t.Continue;this.buffers.set(o.id,c);o.$cancellationData=c}async sendCancellation(o,c){const h=this.buffers.get(c);if(h===void 0){return}const f=new Int32Array(h,0,1);Atomics.store(f,0,t.Cancelled)}cleanup(o){this.buffers.delete(o)}dispose(){this.buffers.clear()}}Or.SharedArraySenderStrategy=n;class r{constructor(o){this.data=new Int32Array(o,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===t.Cancelled}get onCancellationRequested(){throw new Error(`Cancellation over SharedArrayBuffer doesn't support cancellation events`)}}class i{constructor(o){this.token=new r(o)}cancel(){}dispose(){}}class a{constructor(){this.kind="request"}createCancellationTokenSource(o){const c=o.$cancellationData;if(c===void 0){return new e.CancellationTokenSource}return new i(c)}}Or.SharedArrayReceiverStrategy=a;return Or}var Mn={};var Ei={};var uu;function Bm(){if(uu)return Ei;uu=1;Object.defineProperty(Ei,"__esModule",{value:true});Ei.Semaphore=void 0;const e=Fr();class t{constructor(r=1){if(r<=0){throw new Error("Capacity must be greater than 0")}this._capacity=r;this._active=0;this._waiting=[]}lock(r){return new Promise((i,a)=>{this._waiting.push({thunk:r,resolve:i,reject:a});this.runNext()})}get active(){return this._active}runNext(){if(this._waiting.length===0||this._active===this._capacity){return}(0,e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity){return}const r=this._waiting.shift();this._active++;if(this._active>this._capacity){throw new Error(`To many thunks active`)}try{const i=r.thunk();if(i instanceof Promise){i.then(a=>{this._active--;r.resolve(a);this.runNext()},a=>{this._active--;r.reject(a);this.runNext()})}else{this._active--;r.resolve(i);this.runNext()}}catch(i){this._active--;r.reject(i);this.runNext()}}}Ei.Semaphore=t;return Ei}var hu;function Zd(){if(hu)return Mn;hu=1;Object.defineProperty(Mn,"__esModule",{value:true});Mn.ReadableStreamMessageReader=Mn.AbstractMessageReader=Mn.MessageReader=void 0;const e=Fr();const t=Oa();const n=Ra();const r=Bm();var i;(function(c){function h(f){let S=f;return S&&t.func(S.listen)&&t.func(S.dispose)&&t.func(S.onError)&&t.func(S.onClose)&&t.func(S.onPartialMessage)}c.is=h})(i||(Mn.MessageReader=i={}));class a{constructor(){this.errorEmitter=new n.Emitter;this.closeEmitter=new n.Emitter;this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose();this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(h){this.errorEmitter.fire(this.asError(h))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(h){this.partialMessageEmitter.fire(h)}asError(h){if(h instanceof Error){return h}else{return new Error(`Reader received error. Reason: ${t.string(h.message)?h.message:"unknown"}`)}}}Mn.AbstractMessageReader=a;var s;(function(c){function h(f){let S;let g;const _=new Map;let I;const M=new Map;if(f===void 0||typeof f==="string"){S=f??"utf-8"}else{S=f.charset??"utf-8";if(f.contentDecoder!==void 0){g=f.contentDecoder;_.set(g.name,g)}if(f.contentDecoders!==void 0){for(const W of f.contentDecoders){_.set(W.name,W)}}if(f.contentTypeDecoder!==void 0){I=f.contentTypeDecoder;M.set(I.name,I)}if(f.contentTypeDecoders!==void 0){for(const W of f.contentTypeDecoders){M.set(W.name,W)}}}if(I===void 0){I=(0,e.default)().applicationJson.decoder;M.set(I.name,I)}return{charset:S,contentDecoder:g,contentDecoders:_,contentTypeDecoder:I,contentTypeDecoders:M}}c.fromOptions=h})(s||(s={}));class o extends a{constructor(h,f){super();this.readable=h;this.options=s.fromOptions(f);this.buffer=(0,e.default)().messageBuffer.create(this.options.charset);this._partialMessageTimeout=1e4;this.nextMessageLength=-1;this.messageToken=0;this.readSemaphore=new r.Semaphore(1)}set partialMessageTimeout(h){this._partialMessageTimeout=h}get partialMessageTimeout(){return this._partialMessageTimeout}listen(h){this.nextMessageLength=-1;this.messageToken=0;this.partialMessageTimer=void 0;this.callback=h;const f=this.readable.onData(S=>{this.onData(S)});this.readable.onError(S=>this.fireError(S));this.readable.onClose(()=>this.fireClose());return f}onData(h){try{this.buffer.append(h);while(true){if(this.nextMessageLength===-1){const S=this.buffer.tryReadHeaders(true);if(!S){return}const g=S.get("content-length");if(!g){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(S))}`));return}const _=parseInt(g);if(isNaN(_)){this.fireError(new Error(`Content-Length value must be a number. Got ${g}`));return}this.nextMessageLength=_}const f=this.buffer.tryReadBody(this.nextMessageLength);if(f===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer();this.nextMessageLength=-1;this.readSemaphore.lock(async()=>{const S=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(f):f;const g=await this.options.contentTypeDecoder.decode(S,this.options);this.callback(g)}).catch(S=>{this.fireError(S)})}}catch(f){this.fireError(f)}}clearPartialMessageTimer(){if(this.partialMessageTimer){this.partialMessageTimer.dispose();this.partialMessageTimer=void 0}}setPartialMessageTimer(){this.clearPartialMessageTimer();if(this._partialMessageTimeout<=0){return}this.partialMessageTimer=(0,e.default)().timer.setTimeout((h,f)=>{this.partialMessageTimer=void 0;if(h===this.messageToken){this.firePartialMessage({messageToken:h,waitingTime:f});this.setPartialMessageTimer()}},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout)}}Mn.ReadableStreamMessageReader=o;return Mn}var wn={};var mu;function Kd(){if(mu)return wn;mu=1;Object.defineProperty(wn,"__esModule",{value:true});wn.WriteableStreamMessageWriter=wn.AbstractMessageWriter=wn.MessageWriter=void 0;const e=Fr();const t=Oa();const n=Bm();const r=Ra();const i="Content-Length: ";const a="\r\n";var s;(function(f){function S(g){let _=g;return _&&t.func(_.dispose)&&t.func(_.onClose)&&t.func(_.onError)&&t.func(_.write)}f.is=S})(s||(wn.MessageWriter=s={}));class o{constructor(){this.errorEmitter=new r.Emitter;this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose();this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(S,g,_){this.errorEmitter.fire([this.asError(S),g,_])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(S){if(S instanceof Error){return S}else{return new Error(`Writer received error. Reason: ${t.string(S.message)?S.message:"unknown"}`)}}}wn.AbstractMessageWriter=o;var c;(function(f){function S(g){if(g===void 0||typeof g==="string"){return{charset:g??"utf-8",contentTypeEncoder:(0,e.default)().applicationJson.encoder}}else{return{charset:g.charset??"utf-8",contentEncoder:g.contentEncoder,contentTypeEncoder:g.contentTypeEncoder??(0,e.default)().applicationJson.encoder}}}f.fromOptions=S})(c||(c={}));class h extends o{constructor(S,g){super();this.writable=S;this.options=c.fromOptions(g);this.errorCount=0;this.writeSemaphore=new n.Semaphore(1);this.writable.onError(_=>this.fireError(_));this.writable.onClose(()=>this.fireClose())}async write(S){return this.writeSemaphore.lock(async()=>{const g=this.options.contentTypeEncoder.encode(S,this.options).then(_=>{if(this.options.contentEncoder!==void 0){return this.options.contentEncoder.encode(_)}else{return _}});return g.then(_=>{const I=[];I.push(i,_.byteLength.toString(),a);I.push(a);return this.doWrite(S,I,_)},_=>{this.fireError(_);throw _})})}async doWrite(S,g,_){try{await this.writable.write(g.join(""),"ascii");return this.writable.write(_)}catch(I){this.handleError(I,S);return Promise.reject(I)}}handleError(S,g){this.errorCount++;this.fireError(S,g,this.errorCount)}end(){this.writable.end()}}wn.WriteableStreamMessageWriter=h;return wn}var Ai={};var fu;function e_(){if(fu)return Ai;fu=1;Object.defineProperty(Ai,"__esModule",{value:true});Ai.AbstractMessageBuffer=void 0;const e=13;const t=10;const n="\r\n";class r{constructor(a="utf-8"){this._encoding=a;this._chunks=[];this._totalLength=0}get encoding(){return this._encoding}append(a){const s=typeof a==="string"?this.fromString(a,this._encoding):a;this._chunks.push(s);this._totalLength+=s.byteLength}tryReadHeaders(a=false){if(this._chunks.length===0){return void 0}let s=0;let o=0;let c=0;let h=0;e:while(o<this._chunks.length){const _=this._chunks[o];c=0;while(c<_.length){const I=_[c];switch(I){case e:switch(s){case 0:s=1;break;case 2:s=3;break;default:s=0}break;case t:switch(s){case 1:s=2;break;case 3:s=4;c++;break e;default:s=0}break;default:s=0}c++}h+=_.byteLength;o++}if(s!==4){return void 0}const f=this._read(h+c);const S=new Map;const g=this.toString(f,"ascii").split(n);if(g.length<2){return S}for(let _=0;_<g.length-2;_++){const I=g[_];const M=I.indexOf(":");if(M===-1){throw new Error(`Message header must separate key and value using ':'
${I}`)}const W=I.substr(0,M);const C=I.substr(M+1).trim();S.set(a?W.toLowerCase():W,C)}return S}tryReadBody(a){if(this._totalLength<a){return void 0}return this._read(a)}get numberOfBytes(){return this._totalLength}_read(a){if(a===0){return this.emptyBuffer()}if(a>this._totalLength){throw new Error(`Cannot read so many bytes!`)}if(this._chunks[0].byteLength===a){const h=this._chunks[0];this._chunks.shift();this._totalLength-=a;return this.asNative(h)}if(this._chunks[0].byteLength>a){const h=this._chunks[0];const f=this.asNative(h,a);this._chunks[0]=h.slice(a);this._totalLength-=a;return f}const s=this.allocNative(a);let o=0;let c=0;while(a>0){const h=this._chunks[c];if(h.byteLength>a){const f=h.slice(0,a);s.set(f,o);o+=a;this._chunks[c]=h.slice(a);this._totalLength-=a;a-=a}else{s.set(h,o);o+=h.byteLength;this._chunks.shift();this._totalLength-=h.byteLength;a-=h.byteLength}}return s}}Ai.AbstractMessageBuffer=r;return Ai}var So={};var pu;function t_(){if(pu)return So;pu=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=Fr();const n=Oa();const r=Fm();const i=xm();const a=Ra();const s=Al();var o;(function(A){A.type=new r.NotificationType("$/cancelRequest")})(o||(o={}));var c;(function(A){function U(R){return typeof R==="string"||typeof R==="number"}A.is=U})(c||(e.ProgressToken=c={}));var h;(function(A){A.type=new r.NotificationType("$/progress")})(h||(h={}));class f{constructor(){}}e.ProgressType=f;var S;(function(A){function U(R){return n.func(R)}A.is=U})(S||(S={}));e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var g;(function(A){A[A["Off"]=0]="Off";A[A["Messages"]=1]="Messages";A[A["Compact"]=2]="Compact";A[A["Verbose"]=3]="Verbose"})(g||(e.Trace=g={}));var _;(function(A){A.Off="off";A.Messages="messages";A.Compact="compact";A.Verbose="verbose"})(_||(e.TraceValues=_={}));(function(A){function U(y){if(!n.string(y)){return A.Off}y=y.toLowerCase();switch(y){case"off":return A.Off;case"messages":return A.Messages;case"compact":return A.Compact;case"verbose":return A.Verbose;default:return A.Off}}A.fromString=U;function R(y){switch(y){case A.Off:return"off";case A.Messages:return"messages";case A.Compact:return"compact";case A.Verbose:return"verbose";default:return"off"}}A.toString=R})(g||(e.Trace=g={}));var I;(function(A){A["Text"]="text";A["JSON"]="json"})(I||(e.TraceFormat=I={}));(function(A){function U(R){if(!n.string(R)){return A.Text}R=R.toLowerCase();if(R==="json"){return A.JSON}else{return A.Text}}A.fromString=U})(I||(e.TraceFormat=I={}));var M;(function(A){A.type=new r.NotificationType("$/setTrace")})(M||(e.SetTraceNotification=M={}));var W;(function(A){A.type=new r.NotificationType("$/logTrace")})(W||(e.LogTraceNotification=W={}));var C;(function(A){A[A["Closed"]=1]="Closed";A[A["Disposed"]=2]="Disposed";A[A["AlreadyListening"]=3]="AlreadyListening"})(C||(e.ConnectionErrors=C={}));class T extends Error{constructor(U,R){super(R);this.code=U;Object.setPrototypeOf(this,T.prototype)}}e.ConnectionError=T;var O;(function(A){function U(R){const y=R;return y&&n.func(y.cancelUndispatched)}A.is=U})(O||(e.ConnectionStrategy=O={}));var F;(function(A){function U(R){const y=R;return y&&(y.kind===void 0||y.kind==="id")&&n.func(y.createCancellationTokenSource)&&(y.dispose===void 0||n.func(y.dispose))}A.is=U})(F||(e.IdCancellationReceiverStrategy=F={}));var Z;(function(A){function U(R){const y=R;return y&&y.kind==="request"&&n.func(y.createCancellationTokenSource)&&(y.dispose===void 0||n.func(y.dispose))}A.is=U})(Z||(e.RequestCancellationReceiverStrategy=Z={}));var Q;(function(A){A.Message=Object.freeze({createCancellationTokenSource(R){return new s.CancellationTokenSource}});function U(R){return F.is(R)||Z.is(R)}A.is=U})(Q||(e.CancellationReceiverStrategy=Q={}));var le;(function(A){A.Message=Object.freeze({sendCancellation(R,y){return R.sendNotification(o.type,{id:y})},cleanup(R){}});function U(R){const y=R;return y&&n.func(y.sendCancellation)&&n.func(y.cleanup)}A.is=U})(le||(e.CancellationSenderStrategy=le={}));var pe;(function(A){A.Message=Object.freeze({receiver:Q.Message,sender:le.Message});function U(R){const y=R;return y&&Q.is(y.receiver)&&le.is(y.sender)}A.is=U})(pe||(e.CancellationStrategy=pe={}));var Oe;(function(A){function U(R){const y=R;return y&&n.func(y.handleMessage)}A.is=U})(Oe||(e.MessageStrategy=Oe={}));var ke;(function(A){function U(R){const y=R;return y&&(pe.is(y.cancellationStrategy)||O.is(y.connectionStrategy)||Oe.is(y.messageStrategy))}A.is=U})(ke||(e.ConnectionOptions=ke={}));var V;(function(A){A[A["New"]=1]="New";A[A["Listening"]=2]="Listening";A[A["Closed"]=3]="Closed";A[A["Disposed"]=4]="Disposed"})(V||(V={}));function P(A,U,R,y){const D=R!==void 0?R:e.NullLogger;let H=0;let X=0;let j=0;const ce="2.0";let ue=void 0;const Pe=new Map;let he=void 0;const Ve=new Map;const Ee=new Map;let $e;let st=new i.LinkedMap;let ve=new Map;let ee=new Set;let b=new Map;let L=g.Off;let te=I.Text;let v;let ye=V.New;const It=new a.Emitter;const on=new a.Emitter;const Qn=new a.Emitter;const Jn=new a.Emitter;const Zn=new a.Emitter;const Ct=y&&y.cancellationStrategy?y.cancellationStrategy:pe.Message;function _n(E){if(E===null){throw new Error(`Can't send requests with id null since the response can't be correlated.`)}return"req-"+E.toString()}function Vr(E){if(E===null){return"res-unknown-"+(++j).toString()}else{return"res-"+E.toString()}}function Dn(){return"not-"+(++X).toString()}function vn(E,x){if(r.Message.isRequest(x)){E.set(_n(x.id),x)}else if(r.Message.isResponse(x)){E.set(Vr(x.id),x)}else{E.set(Dn(),x)}}function En(E){return void 0}function Jt(){return ye===V.Listening}function w(){return ye===V.Closed}function G(){return ye===V.Disposed}function J(){if(ye===V.New||ye===V.Listening){ye=V.Closed;on.fire(void 0)}}function Ut(E){It.fire([E,void 0,void 0])}function yt(E){It.fire(E)}A.onClose(J);A.onError(Ut);U.onClose(J);U.onError(yt);function pr(){if($e||st.size===0){return}$e=(0,t.default)().timer.setImmediate(()=>{$e=void 0;xa()})}function gi(E){if(r.Message.isRequest(E)){qa(E)}else if(r.Message.isNotification(E)){Va(E)}else if(r.Message.isResponse(E)){Wa(E)}else{$a(E)}}function xa(){if(st.size===0){return}const E=st.shift();try{const x=y?.messageStrategy;if(Oe.is(x)){x.handleMessage(E,gi)}else{gi(E)}}finally{pr()}}const Ba=E=>{try{if(r.Message.isNotification(E)&&E.method===o.type.method){const x=E.params.id;const z=_n(x);const ne=st.get(z);if(r.Message.isRequest(ne)){const De=y?.connectionStrategy;const He=De&&De.cancelUndispatched?De.cancelUndispatched(ne,En):En(ne);if(He&&(He.error!==void 0||He.result!==void 0)){st.delete(z);b.delete(x);He.id=ne.id;Sr(He,E.method,Date.now());U.write(He).catch(()=>D.error(`Sending response for canceled message failed.`));return}}const Ce=b.get(x);if(Ce!==void 0){Ce.cancel();$r(E);return}else{ee.add(x)}}vn(st,E)}finally{pr()}};function qa(E){if(G()){return}function x(Ae,Fe,be){const ot={jsonrpc:ce,id:E.id};if(Ae instanceof r.ResponseError){ot.error=Ae.toJson()}else{ot.result=Ae===void 0?null:Ae}Sr(ot,Fe,be);U.write(ot).catch(()=>D.error(`Sending response failed.`))}function z(Ae,Fe,be){const ot={jsonrpc:ce,id:E.id,error:Ae.toJson()};Sr(ot,Fe,be);U.write(ot).catch(()=>D.error(`Sending response failed.`))}function ne(Ae,Fe,be){if(Ae===void 0){Ae=null}const ot={jsonrpc:ce,id:E.id,result:Ae};Sr(ot,Fe,be);U.write(ot).catch(()=>D.error(`Sending response failed.`))}za(E);const Ce=Pe.get(E.method);let De;let He;if(Ce){De=Ce.type;He=Ce.handler}const Qe=Date.now();if(He||ue){const Ae=E.id??String(Date.now());const Fe=F.is(Ct.receiver)?Ct.receiver.createCancellationTokenSource(Ae):Ct.receiver.createCancellationTokenSource(E);if(E.id!==null&&ee.has(E.id)){Fe.cancel()}if(E.id!==null){b.set(Ae,Fe)}try{let be;if(He){if(E.params===void 0){if(De!==void 0&&De.numberOfParams!==0){z(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${E.method} defines ${De.numberOfParams} params but received none.`),E.method,Qe);return}be=He(Fe.token)}else if(Array.isArray(E.params)){if(De!==void 0&&De.parameterStructures===r.ParameterStructures.byName){z(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${E.method} defines parameters by name but received parameters by position`),E.method,Qe);return}be=He(...E.params,Fe.token)}else{if(De!==void 0&&De.parameterStructures===r.ParameterStructures.byPosition){z(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${E.method} defines parameters by position but received parameters by name`),E.method,Qe);return}be=He(E.params,Fe.token)}}else if(ue){be=ue(E.method,E.params,Fe.token)}const ot=be;if(!be){b.delete(Ae);ne(be,E.method,Qe)}else if(ot.then){ot.then(bt=>{b.delete(Ae);x(bt,E.method,Qe)},bt=>{b.delete(Ae);if(bt instanceof r.ResponseError){z(bt,E.method,Qe)}else if(bt&&n.string(bt.message)){z(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${E.method} failed with message: ${bt.message}`),E.method,Qe)}else{z(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${E.method} failed unexpectedly without providing any details.`),E.method,Qe)}})}else{b.delete(Ae);x(be,E.method,Qe)}}catch(be){b.delete(Ae);if(be instanceof r.ResponseError){x(be,E.method,Qe)}else if(be&&n.string(be.message)){z(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${E.method} failed with message: ${be.message}`),E.method,Qe)}else{z(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${E.method} failed unexpectedly without providing any details.`),E.method,Qe)}}}else{z(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${E.method}`),E.method,Qe)}}function Wa(E){if(G()){return}if(E.id===null){if(E.error){D.error(`Received response message without id: Error is: 
${JSON.stringify(E.error,void 0,4)}`)}else{D.error(`Received response message without id. No further error information provided.`)}}else{const x=E.id;const z=ve.get(x);Ya(E,z);if(z!==void 0){ve.delete(x);try{if(E.error){const ne=E.error;z.reject(new r.ResponseError(ne.code,ne.message,ne.data))}else if(E.result!==void 0){z.resolve(E.result)}else{throw new Error("Should never happen.")}}catch(ne){if(ne.message){D.error(`Response handler '${z.method}' failed with message: ${ne.message}`)}else{D.error(`Response handler '${z.method}' failed unexpectedly.`)}}}}}function Va(E){if(G()){return}let x=void 0;let z;if(E.method===o.type.method){const ne=E.params.id;ee.delete(ne);$r(E);return}else{const ne=Ve.get(E.method);if(ne){z=ne.handler;x=ne.type}}if(z||he){try{$r(E);if(z){if(E.params===void 0){if(x!==void 0){if(x.numberOfParams!==0&&x.parameterStructures!==r.ParameterStructures.byName){D.error(`Notification ${E.method} defines ${x.numberOfParams} params but received none.`)}}z()}else if(Array.isArray(E.params)){const ne=E.params;if(E.method===h.type.method&&ne.length===2&&c.is(ne[0])){z({token:ne[0],value:ne[1]})}else{if(x!==void 0){if(x.parameterStructures===r.ParameterStructures.byName){D.error(`Notification ${E.method} defines parameters by name but received parameters by position`)}if(x.numberOfParams!==E.params.length){D.error(`Notification ${E.method} defines ${x.numberOfParams} params but received ${ne.length} arguments`)}}z(...ne)}}else{if(x!==void 0&&x.parameterStructures===r.ParameterStructures.byPosition){D.error(`Notification ${E.method} defines parameters by position but received parameters by name`)}z(E.params)}}else if(he){he(E.method,E.params)}}catch(ne){if(ne.message){D.error(`Notification handler '${E.method}' failed with message: ${ne.message}`)}else{D.error(`Notification handler '${E.method}' failed unexpectedly.`)}}}else{Qn.fire(E)}}function $a(E){if(!E){D.error("Received empty message.");return}D.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(E,null,4)}`);const x=E;if(n.string(x.id)||n.number(x.id)){const z=x.id;const ne=ve.get(z);if(ne){ne.reject(new Error("The received response has neither a result nor an error property."))}}}function cn(E){if(E===void 0||E===null){return void 0}switch(L){case g.Verbose:return JSON.stringify(E,null,4);case g.Compact:return JSON.stringify(E);default:return void 0}}function Ha(E){if(L===g.Off||!v){return}if(te===I.Text){let x=void 0;if((L===g.Verbose||L===g.Compact)&&E.params){x=`Params: ${cn(E.params)}

`}v.log(`Sending request '${E.method} - (${E.id})'.`,x)}else{Ln("send-request",E)}}function ja(E){if(L===g.Off||!v){return}if(te===I.Text){let x=void 0;if(L===g.Verbose||L===g.Compact){if(E.params){x=`Params: ${cn(E.params)}

`}else{x="No parameters provided.\n\n"}}v.log(`Sending notification '${E.method}'.`,x)}else{Ln("send-notification",E)}}function Sr(E,x,z){if(L===g.Off||!v){return}if(te===I.Text){let ne=void 0;if(L===g.Verbose||L===g.Compact){if(E.error&&E.error.data){ne=`Error data: ${cn(E.error.data)}

`}else{if(E.result){ne=`Result: ${cn(E.result)}

`}else if(E.error===void 0){ne="No result returned.\n\n"}}}v.log(`Sending response '${x} - (${E.id})'. Processing request took ${Date.now()-z}ms`,ne)}else{Ln("send-response",E)}}function za(E){if(L===g.Off||!v){return}if(te===I.Text){let x=void 0;if((L===g.Verbose||L===g.Compact)&&E.params){x=`Params: ${cn(E.params)}

`}v.log(`Received request '${E.method} - (${E.id})'.`,x)}else{Ln("receive-request",E)}}function $r(E){if(L===g.Off||!v||E.method===W.type.method){return}if(te===I.Text){let x=void 0;if(L===g.Verbose||L===g.Compact){if(E.params){x=`Params: ${cn(E.params)}

`}else{x="No parameters provided.\n\n"}}v.log(`Received notification '${E.method}'.`,x)}else{Ln("receive-notification",E)}}function Ya(E,x){if(L===g.Off||!v){return}if(te===I.Text){let z=void 0;if(L===g.Verbose||L===g.Compact){if(E.error&&E.error.data){z=`Error data: ${cn(E.error.data)}

`}else{if(E.result){z=`Result: ${cn(E.result)}

`}else if(E.error===void 0){z="No result returned.\n\n"}}}if(x){const ne=E.error?` Request failed: ${E.error.message} (${E.error.code}).`:"";v.log(`Received response '${x.method} - (${E.id})' in ${Date.now()-x.timerStart}ms.${ne}`,z)}else{v.log(`Received response ${E.id} without active response promise.`,z)}}else{Ln("receive-response",E)}}function Ln(E,x){if(!v||L===g.Off){return}const z={isLSPMessage:true,type:E,message:x,timestamp:Date.now()};v.log(z)}function Kn(){if(w()){throw new T(C.Closed,"Connection is closed.")}if(G()){throw new T(C.Disposed,"Connection is disposed.")}}function Xa(){if(Jt()){throw new T(C.AlreadyListening,"Connection is already listening")}}function Qa(){if(!Jt()){throw new Error("Call listen() first.")}}function er(E){if(E===void 0){return null}else{return E}}function di(E){if(E===null){return void 0}else{return E}}function d(E){return E!==void 0&&E!==null&&!Array.isArray(E)&&typeof E==="object"}function Ye(E,x){switch(E){case r.ParameterStructures.auto:if(d(x)){return di(x)}else{return[er(x)]}case r.ParameterStructures.byName:if(!d(x)){throw new Error(`Received parameters by name but param is not an object literal.`)}return di(x);case r.ParameterStructures.byPosition:return[er(x)];default:throw new Error(`Unknown parameter structure ${E.toString()}`)}}function Xe(E,x){let z;const ne=E.numberOfParams;switch(ne){case 0:z=void 0;break;case 1:z=Ye(E.parameterStructures,x[0]);break;default:z=[];for(let Ce=0;Ce<x.length&&Ce<ne;Ce++){z.push(er(x[Ce]))}if(x.length<ne){for(let Ce=x.length;Ce<ne;Ce++){z.push(null)}}break}return z}const Se={sendNotification:(E,...x)=>{Kn();let z;let ne;if(n.string(E)){z=E;const De=x[0];let He=0;let Qe=r.ParameterStructures.auto;if(r.ParameterStructures.is(De)){He=1;Qe=De}let Ae=x.length;const Fe=Ae-He;switch(Fe){case 0:ne=void 0;break;case 1:ne=Ye(Qe,x[He]);break;default:if(Qe===r.ParameterStructures.byName){throw new Error(`Received ${Fe} parameters for 'by Name' notification parameter structure.`)}ne=x.slice(He,Ae).map(be=>er(be));break}}else{const De=x;z=E.method;ne=Xe(E,De)}const Ce={jsonrpc:ce,method:z,params:ne};ja(Ce);return U.write(Ce).catch(De=>{D.error(`Sending notification failed.`);throw De})},onNotification:(E,x)=>{Kn();let z;if(n.func(E)){he=E}else if(x){if(n.string(E)){z=E;Ve.set(E,{type:void 0,handler:x})}else{z=E.method;Ve.set(E.method,{type:E,handler:x})}}return{dispose:()=>{if(z!==void 0){Ve.delete(z)}else{he=void 0}}}},onProgress:(E,x,z)=>{if(Ee.has(x)){throw new Error(`Progress handler for token ${x} already registered`)}Ee.set(x,z);return{dispose:()=>{Ee.delete(x)}}},sendProgress:(E,x,z)=>{return Se.sendNotification(h.type,{token:x,value:z})},onUnhandledProgress:Jn.event,sendRequest:(E,...x)=>{Kn();Qa();let z;let ne;let Ce=void 0;if(n.string(E)){z=E;const Ae=x[0];const Fe=x[x.length-1];let be=0;let ot=r.ParameterStructures.auto;if(r.ParameterStructures.is(Ae)){be=1;ot=Ae}let bt=x.length;if(s.CancellationToken.is(Fe)){bt=bt-1;Ce=Fe}const An=bt-be;switch(An){case 0:ne=void 0;break;case 1:ne=Ye(ot,x[be]);break;default:if(ot===r.ParameterStructures.byName){throw new Error(`Received ${An} parameters for 'by Name' request parameter structure.`)}ne=x.slice(be,bt).map(zd=>er(zd));break}}else{const Ae=x;z=E.method;ne=Xe(E,Ae);const Fe=E.numberOfParams;Ce=s.CancellationToken.is(Ae[Fe])?Ae[Fe]:void 0}const De=H++;let He;if(Ce){He=Ce.onCancellationRequested(()=>{const Ae=Ct.sender.sendCancellation(Se,De);if(Ae===void 0){D.log(`Received no promise from cancellation strategy when cancelling id ${De}`);return Promise.resolve()}else{return Ae.catch(()=>{D.log(`Sending cancellation messages for id ${De} failed`)})}})}const Qe={jsonrpc:ce,id:De,method:z,params:ne};Ha(Qe);if(typeof Ct.sender.enableCancellation==="function"){Ct.sender.enableCancellation(Qe)}return new Promise(async(Ae,Fe)=>{const be=An=>{Ae(An);Ct.sender.cleanup(De);He?.dispose()};const ot=An=>{Fe(An);Ct.sender.cleanup(De);He?.dispose()};const bt={method:z,timerStart:Date.now(),resolve:be,reject:ot};try{await U.write(Qe);ve.set(De,bt)}catch(An){D.error(`Sending request failed.`);bt.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,An.message?An.message:"Unknown reason"));throw An}})},onRequest:(E,x)=>{Kn();let z=null;if(S.is(E)){z=void 0;ue=E}else if(n.string(E)){z=null;if(x!==void 0){z=E;Pe.set(E,{handler:x,type:void 0})}}else{if(x!==void 0){z=E.method;Pe.set(E.method,{type:E,handler:x})}}return{dispose:()=>{if(z===null){return}if(z!==void 0){Pe.delete(z)}else{ue=void 0}}}},hasPendingResponse:()=>{return ve.size>0},trace:async(E,x,z)=>{let ne=false;let Ce=I.Text;if(z!==void 0){if(n.boolean(z)){ne=z}else{ne=z.sendNotification||false;Ce=z.traceFormat||I.Text}}L=E;te=Ce;if(L===g.Off){v=void 0}else{v=x}if(ne&&!w()&&!G()){await Se.sendNotification(M.type,{value:g.toString(E)})}},onError:It.event,onClose:on.event,onUnhandledNotification:Qn.event,onDispose:Zn.event,end:()=>{U.end()},dispose:()=>{if(G()){return}ye=V.Disposed;Zn.fire(void 0);const E=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const x of ve.values()){x.reject(E)}ve=new Map;b=new Map;ee=new Set;st=new i.LinkedMap;if(n.func(U.dispose)){U.dispose()}if(n.func(A.dispose)){A.dispose()}},listen:()=>{Kn();Xa();ye=V.Listening;A.listen(Ba)},inspect:()=>{(0,t.default)().console.log("inspect")}};Se.onNotification(W.type,E=>{if(L===g.Off||!v){return}const x=L===g.Verbose||L===g.Compact;v.log(E.message,x?E.verbose:void 0)});Se.onNotification(h.type,E=>{const x=Ee.get(E.token);if(x){x(E.value)}else{Jn.fire(E)}});return Se}e.createMessageConnection=P})(So);return So}var Su;function Mo(){if(Su)return po;Su=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0;e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;const t=Fm();Object.defineProperty(e,"Message",{enumerable:true,get:function(){return t.Message}});Object.defineProperty(e,"RequestType",{enumerable:true,get:function(){return t.RequestType}});Object.defineProperty(e,"RequestType0",{enumerable:true,get:function(){return t.RequestType0}});Object.defineProperty(e,"RequestType1",{enumerable:true,get:function(){return t.RequestType1}});Object.defineProperty(e,"RequestType2",{enumerable:true,get:function(){return t.RequestType2}});Object.defineProperty(e,"RequestType3",{enumerable:true,get:function(){return t.RequestType3}});Object.defineProperty(e,"RequestType4",{enumerable:true,get:function(){return t.RequestType4}});Object.defineProperty(e,"RequestType5",{enumerable:true,get:function(){return t.RequestType5}});Object.defineProperty(e,"RequestType6",{enumerable:true,get:function(){return t.RequestType6}});Object.defineProperty(e,"RequestType7",{enumerable:true,get:function(){return t.RequestType7}});Object.defineProperty(e,"RequestType8",{enumerable:true,get:function(){return t.RequestType8}});Object.defineProperty(e,"RequestType9",{enumerable:true,get:function(){return t.RequestType9}});Object.defineProperty(e,"ResponseError",{enumerable:true,get:function(){return t.ResponseError}});Object.defineProperty(e,"ErrorCodes",{enumerable:true,get:function(){return t.ErrorCodes}});Object.defineProperty(e,"NotificationType",{enumerable:true,get:function(){return t.NotificationType}});Object.defineProperty(e,"NotificationType0",{enumerable:true,get:function(){return t.NotificationType0}});Object.defineProperty(e,"NotificationType1",{enumerable:true,get:function(){return t.NotificationType1}});Object.defineProperty(e,"NotificationType2",{enumerable:true,get:function(){return t.NotificationType2}});Object.defineProperty(e,"NotificationType3",{enumerable:true,get:function(){return t.NotificationType3}});Object.defineProperty(e,"NotificationType4",{enumerable:true,get:function(){return t.NotificationType4}});Object.defineProperty(e,"NotificationType5",{enumerable:true,get:function(){return t.NotificationType5}});Object.defineProperty(e,"NotificationType6",{enumerable:true,get:function(){return t.NotificationType6}});Object.defineProperty(e,"NotificationType7",{enumerable:true,get:function(){return t.NotificationType7}});Object.defineProperty(e,"NotificationType8",{enumerable:true,get:function(){return t.NotificationType8}});Object.defineProperty(e,"NotificationType9",{enumerable:true,get:function(){return t.NotificationType9}});Object.defineProperty(e,"ParameterStructures",{enumerable:true,get:function(){return t.ParameterStructures}});const n=xm();Object.defineProperty(e,"LinkedMap",{enumerable:true,get:function(){return n.LinkedMap}});Object.defineProperty(e,"LRUCache",{enumerable:true,get:function(){return n.LRUCache}});Object.defineProperty(e,"Touch",{enumerable:true,get:function(){return n.Touch}});const r=Qd();Object.defineProperty(e,"Disposable",{enumerable:true,get:function(){return r.Disposable}});const i=Ra();Object.defineProperty(e,"Event",{enumerable:true,get:function(){return i.Event}});Object.defineProperty(e,"Emitter",{enumerable:true,get:function(){return i.Emitter}});const a=Al();Object.defineProperty(e,"CancellationTokenSource",{enumerable:true,get:function(){return a.CancellationTokenSource}});Object.defineProperty(e,"CancellationToken",{enumerable:true,get:function(){return a.CancellationToken}});const s=Jd();Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:true,get:function(){return s.SharedArraySenderStrategy}});Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:true,get:function(){return s.SharedArrayReceiverStrategy}});const o=Zd();Object.defineProperty(e,"MessageReader",{enumerable:true,get:function(){return o.MessageReader}});Object.defineProperty(e,"AbstractMessageReader",{enumerable:true,get:function(){return o.AbstractMessageReader}});Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:true,get:function(){return o.ReadableStreamMessageReader}});const c=Kd();Object.defineProperty(e,"MessageWriter",{enumerable:true,get:function(){return c.MessageWriter}});Object.defineProperty(e,"AbstractMessageWriter",{enumerable:true,get:function(){return c.AbstractMessageWriter}});Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:true,get:function(){return c.WriteableStreamMessageWriter}});const h=e_();Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:true,get:function(){return h.AbstractMessageBuffer}});const f=t_();Object.defineProperty(e,"ConnectionStrategy",{enumerable:true,get:function(){return f.ConnectionStrategy}});Object.defineProperty(e,"ConnectionOptions",{enumerable:true,get:function(){return f.ConnectionOptions}});Object.defineProperty(e,"NullLogger",{enumerable:true,get:function(){return f.NullLogger}});Object.defineProperty(e,"createMessageConnection",{enumerable:true,get:function(){return f.createMessageConnection}});Object.defineProperty(e,"ProgressToken",{enumerable:true,get:function(){return f.ProgressToken}});Object.defineProperty(e,"ProgressType",{enumerable:true,get:function(){return f.ProgressType}});Object.defineProperty(e,"Trace",{enumerable:true,get:function(){return f.Trace}});Object.defineProperty(e,"TraceValues",{enumerable:true,get:function(){return f.TraceValues}});Object.defineProperty(e,"TraceFormat",{enumerable:true,get:function(){return f.TraceFormat}});Object.defineProperty(e,"SetTraceNotification",{enumerable:true,get:function(){return f.SetTraceNotification}});Object.defineProperty(e,"LogTraceNotification",{enumerable:true,get:function(){return f.LogTraceNotification}});Object.defineProperty(e,"ConnectionErrors",{enumerable:true,get:function(){return f.ConnectionErrors}});Object.defineProperty(e,"ConnectionError",{enumerable:true,get:function(){return f.ConnectionError}});Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:true,get:function(){return f.CancellationReceiverStrategy}});Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:true,get:function(){return f.CancellationSenderStrategy}});Object.defineProperty(e,"CancellationStrategy",{enumerable:true,get:function(){return f.CancellationStrategy}});Object.defineProperty(e,"MessageStrategy",{enumerable:true,get:function(){return f.MessageStrategy}});const S=Fr();e.RAL=S.default})(po);return po}var gu;function n_(){if(gu)return Ja;gu=1;Object.defineProperty(Ja,"__esModule",{value:true});const e=Mo();class t extends e.AbstractMessageBuffer{constructor(c="utf-8"){super(c);this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return t.emptyBuffer}fromString(c,h){return new TextEncoder().encode(c)}toString(c,h){if(h==="ascii"){return this.asciiDecoder.decode(c)}else{return new TextDecoder(h).decode(c)}}asNative(c,h){if(h===void 0){return c}else{return c.slice(0,h)}}allocNative(c){return new Uint8Array(c)}}t.emptyBuffer=new Uint8Array(0);class n{constructor(c){this.socket=c;this._onData=new e.Emitter;this._messageListener=h=>{const f=h.data;f.arrayBuffer().then(S=>{this._onData.fire(new Uint8Array(S))},()=>{(0,e.RAL)().console.error(`Converting blob to array buffer failed.`)})};this.socket.addEventListener("message",this._messageListener)}onClose(c){this.socket.addEventListener("close",c);return e.Disposable.create(()=>this.socket.removeEventListener("close",c))}onError(c){this.socket.addEventListener("error",c);return e.Disposable.create(()=>this.socket.removeEventListener("error",c))}onEnd(c){this.socket.addEventListener("end",c);return e.Disposable.create(()=>this.socket.removeEventListener("end",c))}onData(c){return this._onData.event(c)}}class r{constructor(c){this.socket=c}onClose(c){this.socket.addEventListener("close",c);return e.Disposable.create(()=>this.socket.removeEventListener("close",c))}onError(c){this.socket.addEventListener("error",c);return e.Disposable.create(()=>this.socket.removeEventListener("error",c))}onEnd(c){this.socket.addEventListener("end",c);return e.Disposable.create(()=>this.socket.removeEventListener("end",c))}write(c,h){if(typeof c==="string"){if(h!==void 0&&h!=="utf-8"){throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${h}`)}this.socket.send(c)}else{this.socket.send(c)}return Promise.resolve()}end(){this.socket.close()}}const i=new TextEncoder;const a=Object.freeze({messageBuffer:Object.freeze({create:o=>new t(o)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(o,c)=>{if(c.charset!=="utf-8"){throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${c.charset}`)}return Promise.resolve(i.encode(JSON.stringify(o,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(o,c)=>{if(!(o instanceof Uint8Array)){throw new Error(`In a Browser environments only Uint8Arrays are supported.`)}return Promise.resolve(JSON.parse(new TextDecoder(c.charset).decode(o)))}})}),stream:Object.freeze({asReadableStream:o=>new n(o),asWritableStream:o=>new r(o)}),console,timer:Object.freeze({setTimeout(o,c,...h){const f=setTimeout(o,c,...h);return{dispose:()=>clearTimeout(f)}},setImmediate(o,...c){const h=setTimeout(o,0,...c);return{dispose:()=>clearTimeout(h)}},setInterval(o,c,...h){const f=setInterval(o,c,...h);return{dispose:()=>clearInterval(f)}}})});function s(){return a}(function(o){function c(){e.RAL.install(a)}o.install=c})(s||(s={}));Ja.default=s;return Ja}var du;function li(){if(du)return Er;du=1;(function(e){var t=Er&&Er.__createBinding||(Object.create?function(c,h,f,S){if(S===void 0)S=f;var g=Object.getOwnPropertyDescriptor(h,f);if(!g||("get"in g?!h.__esModule:g.writable||g.configurable)){g={enumerable:true,get:function(){return h[f]}}}Object.defineProperty(c,S,g)}:function(c,h,f,S){if(S===void 0)S=f;c[S]=h[f]});var n=Er&&Er.__exportStar||function(c,h){for(var f in c)if(f!=="default"&&!Object.prototype.hasOwnProperty.call(h,f))t(h,c,f)};Object.defineProperty(e,"__esModule",{value:true});e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0;const r=n_();r.default.install();const i=Mo();n(Mo(),e);class a extends i.AbstractMessageReader{constructor(h){super();this._onData=new i.Emitter;this._messageListener=f=>{this._onData.fire(f.data)};h.addEventListener("error",f=>this.fireError(f));h.onmessage=this._messageListener}listen(h){return this._onData.event(h)}}e.BrowserMessageReader=a;class s extends i.AbstractMessageWriter{constructor(h){super();this.port=h;this.errorCount=0;h.addEventListener("error",f=>this.fireError(f))}write(h){try{this.port.postMessage(h);return Promise.resolve()}catch(f){this.handleError(f,h);return Promise.reject(f)}}handleError(h,f){this.errorCount++;this.fireError(h,f,this.errorCount)}end(){}}e.BrowserMessageWriter=s;function o(c,h,f,S){if(f===void 0){f=i.NullLogger}if(i.ConnectionStrategy.is(S)){S={connectionStrategy:S}}return(0,i.createMessageConnection)(c,h,f,S)}e.createMessageConnection=o})(Er);return Er}var go;var _u;function Eu(){if(_u)return go;_u=1;go=li();return go}var Rr={};var wo;(function(e){function t(n){return typeof n==="string"}e.is=t})(wo||(wo={}));var gs;(function(e){function t(n){return typeof n==="string"}e.is=t})(gs||(gs={}));var Go;(function(e){e.MIN_VALUE=-2147483648;e.MAX_VALUE=2147483647;function t(n){return typeof n==="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Go||(Go={}));var oa;(function(e){e.MIN_VALUE=0;e.MAX_VALUE=2147483647;function t(n){return typeof n==="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(oa||(oa={}));var Kt;(function(e){function t(r,i){if(r===Number.MAX_VALUE){r=oa.MAX_VALUE}if(i===Number.MAX_VALUE){i=oa.MAX_VALUE}return{line:r,character:i}}e.create=t;function n(r){let i=r;return k.objectLiteral(i)&&k.uinteger(i.line)&&k.uinteger(i.character)}e.is=n})(Kt||(Kt={}));var ze;(function(e){function t(r,i,a,s){if(k.uinteger(r)&&k.uinteger(i)&&k.uinteger(a)&&k.uinteger(s)){return{start:Kt.create(r,i),end:Kt.create(a,s)}}else if(Kt.is(r)&&Kt.is(i)){return{start:r,end:i}}else{throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${a}, ${s}]`)}}e.create=t;function n(r){let i=r;return k.objectLiteral(i)&&Kt.is(i.start)&&Kt.is(i.end)}e.is=n})(ze||(ze={}));var ca;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){let i=r;return k.objectLiteral(i)&&ze.is(i.range)&&(k.string(i.uri)||k.undefined(i.uri))}e.is=n})(ca||(ca={}));var Fo;(function(e){function t(r,i,a,s){return{targetUri:r,targetRange:i,targetSelectionRange:a,originSelectionRange:s}}e.create=t;function n(r){let i=r;return k.objectLiteral(i)&&ze.is(i.targetRange)&&k.string(i.targetUri)&&ze.is(i.targetSelectionRange)&&(ze.is(i.originSelectionRange)||k.undefined(i.originSelectionRange))}e.is=n})(Fo||(Fo={}));var ds;(function(e){function t(r,i,a,s){return{red:r,green:i,blue:a,alpha:s}}e.create=t;function n(r){const i=r;return k.objectLiteral(i)&&k.numberRange(i.red,0,1)&&k.numberRange(i.green,0,1)&&k.numberRange(i.blue,0,1)&&k.numberRange(i.alpha,0,1)}e.is=n})(ds||(ds={}));var xo;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){const i=r;return k.objectLiteral(i)&&ze.is(i.range)&&ds.is(i.color)}e.is=n})(xo||(xo={}));var Bo;(function(e){function t(r,i,a){return{label:r,textEdit:i,additionalTextEdits:a}}e.create=t;function n(r){const i=r;return k.objectLiteral(i)&&k.string(i.label)&&(k.undefined(i.textEdit)||Rn.is(i))&&(k.undefined(i.additionalTextEdits)||k.typedArray(i.additionalTextEdits,Rn.is))}e.is=n})(Bo||(Bo={}));var qo;(function(e){e.Comment="comment";e.Imports="imports";e.Region="region"})(qo||(qo={}));var Wo;(function(e){function t(r,i,a,s,o,c){const h={startLine:r,endLine:i};if(k.defined(a)){h.startCharacter=a}if(k.defined(s)){h.endCharacter=s}if(k.defined(o)){h.kind=o}if(k.defined(c)){h.collapsedText=c}return h}e.create=t;function n(r){const i=r;return k.objectLiteral(i)&&k.uinteger(i.startLine)&&k.uinteger(i.startLine)&&(k.undefined(i.startCharacter)||k.uinteger(i.startCharacter))&&(k.undefined(i.endCharacter)||k.uinteger(i.endCharacter))&&(k.undefined(i.kind)||k.string(i.kind))}e.is=n})(Wo||(Wo={}));var _s;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){let i=r;return k.defined(i)&&ca.is(i.location)&&k.string(i.message)}e.is=n})(_s||(_s={}));var nr;(function(e){e.Error=1;e.Warning=2;e.Information=3;e.Hint=4})(nr||(nr={}));var Vo;(function(e){e.Unnecessary=1;e.Deprecated=2})(Vo||(Vo={}));var $o;(function(e){function t(n){const r=n;return k.objectLiteral(r)&&k.string(r.href)}e.is=t})($o||($o={}));var la;(function(e){function t(r,i,a,s,o,c){let h={range:r,message:i};if(k.defined(a)){h.severity=a}if(k.defined(s)){h.code=s}if(k.defined(o)){h.source=o}if(k.defined(c)){h.relatedInformation=c}return h}e.create=t;function n(r){var i;let a=r;return k.defined(a)&&ze.is(a.range)&&k.string(a.message)&&(k.number(a.severity)||k.undefined(a.severity))&&(k.integer(a.code)||k.string(a.code)||k.undefined(a.code))&&(k.undefined(a.codeDescription)||k.string((i=a.codeDescription)===null||i===void 0?void 0:i.href))&&(k.string(a.source)||k.undefined(a.source))&&(k.undefined(a.relatedInformation)||k.typedArray(a.relatedInformation,_s.is))}e.is=n})(la||(la={}));var Lr;(function(e){function t(r,i,...a){let s={title:r,command:i};if(k.defined(a)&&a.length>0){s.arguments=a}return s}e.create=t;function n(r){let i=r;return k.defined(i)&&k.string(i.title)&&k.string(i.command)}e.is=n})(Lr||(Lr={}));var Rn;(function(e){function t(a,s){return{range:a,newText:s}}e.replace=t;function n(a,s){return{range:{start:a,end:a},newText:s}}e.insert=n;function r(a){return{range:a,newText:""}}e.del=r;function i(a){const s=a;return k.objectLiteral(s)&&k.string(s.newText)&&ze.is(s.range)}e.is=i})(Rn||(Rn={}));var vr;(function(e){function t(r,i,a){const s={label:r};if(i!==void 0){s.needsConfirmation=i}if(a!==void 0){s.description=a}return s}e.create=t;function n(r){const i=r;return k.objectLiteral(i)&&k.string(i.label)&&(k.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(k.string(i.description)||i.description===void 0)}e.is=n})(vr||(vr={}));var dt;(function(e){function t(n){const r=n;return k.string(r)}e.is=t})(dt||(dt={}));var $n;(function(e){function t(a,s,o){return{range:a,newText:s,annotationId:o}}e.replace=t;function n(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}e.insert=n;function r(a,s){return{range:a,newText:"",annotationId:s}}e.del=r;function i(a){const s=a;return Rn.is(s)&&(vr.is(s.annotationId)||dt.is(s.annotationId))}e.is=i})($n||($n={}));var ua;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){let i=r;return k.defined(i)&&ha.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(ua||(ua={}));var ei;(function(e){function t(r,i,a){let s={kind:"create",uri:r};if(i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)){s.options=i}if(a!==void 0){s.annotationId=a}return s}e.create=t;function n(r){let i=r;return i&&i.kind==="create"&&k.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||k.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||k.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||dt.is(i.annotationId))}e.is=n})(ei||(ei={}));var ti;(function(e){function t(r,i,a,s){let o={kind:"rename",oldUri:r,newUri:i};if(a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)){o.options=a}if(s!==void 0){o.annotationId=s}return o}e.create=t;function n(r){let i=r;return i&&i.kind==="rename"&&k.string(i.oldUri)&&k.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||k.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||k.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||dt.is(i.annotationId))}e.is=n})(ti||(ti={}));var ni;(function(e){function t(r,i,a){let s={kind:"delete",uri:r};if(i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)){s.options=i}if(a!==void 0){s.annotationId=a}return s}e.create=t;function n(r){let i=r;return i&&i.kind==="delete"&&k.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||k.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||k.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||dt.is(i.annotationId))}e.is=n})(ni||(ni={}));var Es;(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>{if(k.string(i.kind)){return ei.is(i)||ti.is(i)||ni.is(i)}else{return ua.is(i)}}))}e.is=t})(Es||(Es={}));class Ka{constructor(t,n){this.edits=t;this.changeAnnotations=n}insert(t,n,r){let i;let a;if(r===void 0){i=Rn.insert(t,n)}else if(dt.is(r)){a=r;i=$n.insert(t,n,r)}else{this.assertChangeAnnotations(this.changeAnnotations);a=this.changeAnnotations.manage(r);i=$n.insert(t,n,a)}this.edits.push(i);if(a!==void 0){return a}}replace(t,n,r){let i;let a;if(r===void 0){i=Rn.replace(t,n)}else if(dt.is(r)){a=r;i=$n.replace(t,n,r)}else{this.assertChangeAnnotations(this.changeAnnotations);a=this.changeAnnotations.manage(r);i=$n.replace(t,n,a)}this.edits.push(i);if(a!==void 0){return a}}delete(t,n){let r;let i;if(n===void 0){r=Rn.del(t)}else if(dt.is(n)){i=n;r=$n.del(t,n)}else{this.assertChangeAnnotations(this.changeAnnotations);i=this.changeAnnotations.manage(n);r=$n.del(t,i)}this.edits.push(r);if(i!==void 0){return i}}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0){throw new Error(`Text edit change is not configured to manage change annotations.`)}}}class Au{constructor(t){this._annotations=t===void 0?Object.create(null):t;this._counter=0;this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,n){let r;if(dt.is(t)){r=t}else{r=this.nextId();n=t}if(this._annotations[r]!==void 0){throw new Error(`Id ${r} is already in use.`)}if(n===void 0){throw new Error(`No annotation provided for id ${r}`)}this._annotations[r]=n;this._size++;return r}nextId(){this._counter++;return this._counter.toString()}}class r_{constructor(t){this._textEditChanges=Object.create(null);if(t!==void 0){this._workspaceEdit=t;if(t.documentChanges){this._changeAnnotations=new Au(t.changeAnnotations);t.changeAnnotations=this._changeAnnotations.all();t.documentChanges.forEach(n=>{if(ua.is(n)){const r=new Ka(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})}else if(t.changes){Object.keys(t.changes).forEach(n=>{const r=new Ka(t.changes[n]);this._textEditChanges[n]=r})}}else{this._workspaceEdit={}}}get edit(){this.initDocumentChanges();if(this._changeAnnotations!==void 0){if(this._changeAnnotations.size===0){this._workspaceEdit.changeAnnotations=void 0}else{this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()}}return this._workspaceEdit}getTextEditChange(t){if(ha.is(t)){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.")}const n={uri:t.uri,version:t.version};let r=this._textEditChanges[n.uri];if(!r){const i=[];const a={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(a);r=new Ka(i,this._changeAnnotations);this._textEditChanges[n.uri]=r}return r}else{this.initChanges();if(this._workspaceEdit.changes===void 0){throw new Error("Workspace edit is not configured for normal text edit changes.")}let n=this._textEditChanges[t];if(!n){let r=[];this._workspaceEdit.changes[t]=r;n=new Ka(r);this._textEditChanges[t]=n}return n}}initDocumentChanges(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0){this._changeAnnotations=new Au;this._workspaceEdit.documentChanges=[];this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()}}initChanges(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0){this._workspaceEdit.changes=Object.create(null)}}createFile(t,n,r){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.")}let i;if(vr.is(n)||dt.is(n)){i=n}else{r=n}let a;let s;if(i===void 0){a=ei.create(t,r)}else{s=dt.is(i)?i:this._changeAnnotations.manage(i);a=ei.create(t,r,s)}this._workspaceEdit.documentChanges.push(a);if(s!==void 0){return s}}renameFile(t,n,r,i){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.")}let a;if(vr.is(r)||dt.is(r)){a=r}else{i=r}let s;let o;if(a===void 0){s=ti.create(t,n,i)}else{o=dt.is(a)?a:this._changeAnnotations.manage(a);s=ti.create(t,n,i,o)}this._workspaceEdit.documentChanges.push(s);if(o!==void 0){return o}}deleteFile(t,n,r){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.")}let i;if(vr.is(n)||dt.is(n)){i=n}else{r=n}let a;let s;if(i===void 0){a=ni.create(t,r)}else{s=dt.is(i)?i:this._changeAnnotations.manage(i);a=ni.create(t,r,s)}this._workspaceEdit.documentChanges.push(a);if(s!==void 0){return s}}}var Ho;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let i=r;return k.defined(i)&&k.string(i.uri)}e.is=n})(Ho||(Ho={}));var jo;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return k.defined(i)&&k.string(i.uri)&&k.integer(i.version)}e.is=n})(jo||(jo={}));var ha;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return k.defined(i)&&k.string(i.uri)&&(i.version===null||k.integer(i.version))}e.is=n})(ha||(ha={}));var zo;(function(e){function t(r,i,a,s){return{uri:r,languageId:i,version:a,text:s}}e.create=t;function n(r){let i=r;return k.defined(i)&&k.string(i.uri)&&k.string(i.languageId)&&k.integer(i.version)&&k.string(i.text)}e.is=n})(zo||(zo={}));var As;(function(e){e.PlainText="plaintext";e.Markdown="markdown";function t(n){const r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(As||(As={}));var ri;(function(e){function t(n){const r=n;return k.objectLiteral(n)&&As.is(r.kind)&&k.string(r.value)}e.is=t})(ri||(ri={}));var Jr;(function(e){e.Text=1;e.Method=2;e.Function=3;e.Constructor=4;e.Field=5;e.Variable=6;e.Class=7;e.Interface=8;e.Module=9;e.Property=10;e.Unit=11;e.Value=12;e.Enum=13;e.Keyword=14;e.Snippet=15;e.Color=16;e.File=17;e.Reference=18;e.Folder=19;e.EnumMember=20;e.Constant=21;e.Struct=22;e.Event=23;e.Operator=24;e.TypeParameter=25})(Jr||(Jr={}));var Yo;(function(e){e.PlainText=1;e.Snippet=2})(Yo||(Yo={}));var Xo;(function(e){e.Deprecated=1})(Xo||(Xo={}));var Qo;(function(e){function t(r,i,a){return{newText:r,insert:i,replace:a}}e.create=t;function n(r){const i=r;return i&&k.string(i.newText)&&ze.is(i.insert)&&ze.is(i.replace)}e.is=n})(Qo||(Qo={}));var Jo;(function(e){e.asIs=1;e.adjustIndentation=2})(Jo||(Jo={}));var Zo;(function(e){function t(n){const r=n;return r&&(k.string(r.detail)||r.detail===void 0)&&(k.string(r.description)||r.description===void 0)}e.is=t})(Zo||(Zo={}));var Ko;(function(e){function t(n){return{label:n}}e.create=t})(Ko||(Ko={}));var ec;(function(e){function t(n,r){return{items:n?n:[],isIncomplete:!!r}}e.create=t})(ec||(ec={}));var ma;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){const i=r;return k.string(i)||k.objectLiteral(i)&&k.string(i.language)&&k.string(i.value)}e.is=n})(ma||(ma={}));var tc;(function(e){function t(n){let r=n;return!!r&&k.objectLiteral(r)&&(ri.is(r.contents)||ma.is(r.contents)||k.typedArray(r.contents,ma.is))&&(n.range===void 0||ze.is(n.range))}e.is=t})(tc||(tc={}));var nc;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(nc||(nc={}));var rc;(function(e){function t(n,r,...i){let a={label:n};if(k.defined(r)){a.documentation=r}if(k.defined(i)){a.parameters=i}else{a.parameters=[]}return a}e.create=t})(rc||(rc={}));var ic;(function(e){e.Text=1;e.Read=2;e.Write=3})(ic||(ic={}));var ac;(function(e){function t(n,r){let i={range:n};if(k.number(r)){i.kind=r}return i}e.create=t})(ac||(ac={}));var Tn;(function(e){e.File=1;e.Module=2;e.Namespace=3;e.Package=4;e.Class=5;e.Method=6;e.Property=7;e.Field=8;e.Constructor=9;e.Enum=10;e.Interface=11;e.Function=12;e.Variable=13;e.Constant=14;e.String=15;e.Number=16;e.Boolean=17;e.Array=18;e.Object=19;e.Key=20;e.Null=21;e.EnumMember=22;e.Struct=23;e.Event=24;e.Operator=25;e.TypeParameter=26})(Tn||(Tn={}));var sc;(function(e){e.Deprecated=1})(sc||(sc={}));var Is;(function(e){function t(n,r,i,a,s){let o={name:n,kind:r,location:{uri:a,range:i}};if(s){o.containerName=s}return o}e.create=t})(Is||(Is={}));var oc;(function(e){function t(n,r,i,a){return a!==void 0?{name:n,kind:r,location:{uri:i,range:a}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(oc||(oc={}));var Os;(function(e){function t(r,i,a,s,o,c){let h={name:r,detail:i,kind:a,range:s,selectionRange:o};if(c!==void 0){h.children=c}return h}e.create=t;function n(r){let i=r;return i&&k.string(i.name)&&k.number(i.kind)&&ze.is(i.range)&&ze.is(i.selectionRange)&&(i.detail===void 0||k.string(i.detail))&&(i.deprecated===void 0||k.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(Os||(Os={}));var cc;(function(e){e.Empty="";e.QuickFix="quickfix";e.Refactor="refactor";e.RefactorExtract="refactor.extract";e.RefactorInline="refactor.inline";e.RefactorRewrite="refactor.rewrite";e.Source="source";e.SourceOrganizeImports="source.organizeImports";e.SourceFixAll="source.fixAll"})(cc||(cc={}));var fa;(function(e){e.Invoked=1;e.Automatic=2})(fa||(fa={}));var lc;(function(e){function t(r,i,a){let s={diagnostics:r};if(i!==void 0&&i!==null){s.only=i}if(a!==void 0&&a!==null){s.triggerKind=a}return s}e.create=t;function n(r){let i=r;return k.defined(i)&&k.typedArray(i.diagnostics,la.is)&&(i.only===void 0||k.typedArray(i.only,k.string))&&(i.triggerKind===void 0||i.triggerKind===fa.Invoked||i.triggerKind===fa.Automatic)}e.is=n})(lc||(lc={}));var uc;(function(e){function t(r,i,a){let s={title:r};let o=true;if(typeof i==="string"){o=false;s.kind=i}else if(Lr.is(i)){s.command=i}else{s.edit=i}if(o&&a!==void 0){s.kind=a}return s}e.create=t;function n(r){let i=r;return i&&k.string(i.title)&&(i.diagnostics===void 0||k.typedArray(i.diagnostics,la.is))&&(i.kind===void 0||k.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Lr.is(i.command))&&(i.isPreferred===void 0||k.boolean(i.isPreferred))&&(i.edit===void 0||Es.is(i.edit))}e.is=n})(uc||(uc={}));var hc;(function(e){function t(r,i){let a={range:r};if(k.defined(i)){a.data=i}return a}e.create=t;function n(r){let i=r;return k.defined(i)&&ze.is(i.range)&&(k.undefined(i.command)||Lr.is(i.command))}e.is=n})(hc||(hc={}));var mc;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){let i=r;return k.defined(i)&&k.uinteger(i.tabSize)&&k.boolean(i.insertSpaces)}e.is=n})(mc||(mc={}));var fc;(function(e){function t(r,i,a){return{range:r,target:i,data:a}}e.create=t;function n(r){let i=r;return k.defined(i)&&ze.is(i.range)&&(k.undefined(i.target)||k.string(i.target))}e.is=n})(fc||(fc={}));var pc;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){let i=r;return k.objectLiteral(i)&&ze.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(pc||(pc={}));var hn;(function(e){e["namespace"]="namespace";e["type"]="type";e["class"]="class";e["enum"]="enum";e["interface"]="interface";e["struct"]="struct";e["typeParameter"]="typeParameter";e["parameter"]="parameter";e["variable"]="variable";e["property"]="property";e["enumMember"]="enumMember";e["event"]="event";e["function"]="function";e["method"]="method";e["macro"]="macro";e["keyword"]="keyword";e["modifier"]="modifier";e["comment"]="comment";e["string"]="string";e["number"]="number";e["regexp"]="regexp";e["operator"]="operator";e["decorator"]="decorator"})(hn||(hn={}));var Sc;(function(e){e["declaration"]="declaration";e["definition"]="definition";e["readonly"]="readonly";e["static"]="static";e["deprecated"]="deprecated";e["abstract"]="abstract";e["async"]="async";e["modification"]="modification";e["documentation"]="documentation";e["defaultLibrary"]="defaultLibrary"})(Sc||(Sc={}));var gc;(function(e){function t(n){const r=n;return k.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId==="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]==="number")}e.is=t})(gc||(gc={}));var dc;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){const i=r;return i!==void 0&&i!==null&&ze.is(i.range)&&k.string(i.text)}e.is=n})(dc||(dc={}));var _c;(function(e){function t(r,i,a){return{range:r,variableName:i,caseSensitiveLookup:a}}e.create=t;function n(r){const i=r;return i!==void 0&&i!==null&&ze.is(i.range)&&k.boolean(i.caseSensitiveLookup)&&(k.string(i.variableName)||i.variableName===void 0)}e.is=n})(_c||(_c={}));var Ec;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){const i=r;return i!==void 0&&i!==null&&ze.is(i.range)&&(k.string(i.expression)||i.expression===void 0)}e.is=n})(Ec||(Ec={}));var Ac;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){const i=r;return k.defined(i)&&ze.is(r.stoppedLocation)}e.is=n})(Ac||(Ac={}));var Rs;(function(e){e.Type=1;e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(Rs||(Rs={}));var Ps;(function(e){function t(r){return{value:r}}e.create=t;function n(r){const i=r;return k.objectLiteral(i)&&(i.tooltip===void 0||k.string(i.tooltip)||ri.is(i.tooltip))&&(i.location===void 0||ca.is(i.location))&&(i.command===void 0||Lr.is(i.command))}e.is=n})(Ps||(Ps={}));var Ic;(function(e){function t(r,i,a){const s={position:r,label:i};if(a!==void 0){s.kind=a}return s}e.create=t;function n(r){const i=r;return k.objectLiteral(i)&&Kt.is(i.position)&&(k.string(i.label)||k.typedArray(i.label,Ps.is))&&(i.kind===void 0||Rs.is(i.kind))&&i.textEdits===void 0||k.typedArray(i.textEdits,Rn.is)&&(i.tooltip===void 0||k.string(i.tooltip)||ri.is(i.tooltip))&&(i.paddingLeft===void 0||k.boolean(i.paddingLeft))&&(i.paddingRight===void 0||k.boolean(i.paddingRight))}e.is=n})(Ic||(Ic={}));var Oc;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(Oc||(Oc={}));var Rc;(function(e){function t(n,r,i,a){return{insertText:n,filterText:r,range:i,command:a}}e.create=t})(Rc||(Rc={}));var Pc;(function(e){function t(n){return{items:n}}e.create=t})(Pc||(Pc={}));var Tc;(function(e){e.Invoked=0;e.Automatic=1})(Tc||(Tc={}));var yc;(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(yc||(yc={}));var bc;(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(bc||(bc={}));var Nc;(function(e){function t(n){const r=n;return k.objectLiteral(r)&&gs.is(r.uri)&&k.string(r.name)}e.is=t})(Nc||(Nc={}));const i_=["\n","\r\n","\r"];var kc;(function(e){function t(a,s,o,c){return new a_(a,s,o,c)}e.create=t;function n(a){let s=a;return k.defined(s)&&k.string(s.uri)&&(k.undefined(s.languageId)||k.string(s.languageId))&&k.uinteger(s.lineCount)&&k.func(s.getText)&&k.func(s.positionAt)&&k.func(s.offsetAt)?true:false}e.is=n;function r(a,s){let o=a.getText();let c=i(s,(f,S)=>{let g=f.range.start.line-S.range.start.line;if(g===0){return f.range.start.character-S.range.start.character}return g});let h=o.length;for(let f=c.length-1;f>=0;f--){let S=c[f];let g=a.offsetAt(S.range.start);let _=a.offsetAt(S.range.end);if(_<=h){o=o.substring(0,g)+S.newText+o.substring(_,o.length)}else{throw new Error("Overlapping edit")}h=g}return o}e.applyEdits=r;function i(a,s){if(a.length<=1){return a}const o=a.length/2|0;const c=a.slice(0,o);const h=a.slice(o);i(c,s);i(h,s);let f=0;let S=0;let g=0;while(f<c.length&&S<h.length){let _=s(c[f],h[S]);if(_<=0){a[g++]=c[f++]}else{a[g++]=h[S++]}}while(f<c.length){a[g++]=c[f++]}while(S<h.length){a[g++]=h[S++]}return a}})(kc||(kc={}));let a_=class uC{constructor(t,n,r,i){this._uri=t;this._languageId=n;this._version=r;this._content=i;this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start);let r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text;this._version=n;this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[];let n=this._content;let r=true;for(let i=0;i<n.length;i++){if(r){t.push(i);r=false}let a=n.charAt(i);r=a==="\r"||a==="\n";if(a==="\r"&&i+1<n.length&&n.charAt(i+1)==="\n"){i++}}if(r&&n.length>0){t.push(n.length)}this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets();let r=0,i=n.length;if(i===0){return Kt.create(0,t)}while(r<i){let s=Math.floor((r+i)/2);if(n[s]>t){i=s}else{r=s+1}}let a=r-1;return Kt.create(a,t-n[a])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length){return this._content.length}else if(t.line<0){return 0}let r=n[t.line];let i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}};var k;(function(e){const t=Object.prototype.toString;function n(_){return typeof _!=="undefined"}e.defined=n;function r(_){return typeof _==="undefined"}e.undefined=r;function i(_){return _===true||_===false}e.boolean=i;function a(_){return t.call(_)==="[object String]"}e.string=a;function s(_){return t.call(_)==="[object Number]"}e.number=s;function o(_,I,M){return t.call(_)==="[object Number]"&&I<=_&&_<=M}e.numberRange=o;function c(_){return t.call(_)==="[object Number]"&&-2147483648<=_&&_<=2147483647}e.integer=c;function h(_){return t.call(_)==="[object Number]"&&0<=_&&_<=2147483647}e.uinteger=h;function f(_){return t.call(_)==="[object Function]"}e.func=f;function S(_){return _!==null&&typeof _==="object"}e.objectLiteral=S;function g(_,I){return Array.isArray(_)&&_.every(I)}e.typedArray=g})(k||(k={}));var s_=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return $n},get ChangeAnnotation(){return vr},get ChangeAnnotationIdentifier(){return dt},get CodeAction(){return uc},get CodeActionContext(){return lc},get CodeActionKind(){return cc},get CodeActionTriggerKind(){return fa},get CodeDescription(){return $o},get CodeLens(){return hc},get Color(){return ds},get ColorInformation(){return xo},get ColorPresentation(){return Bo},get Command(){return Lr},get CompletionItem(){return Ko},get CompletionItemKind(){return Jr},get CompletionItemLabelDetails(){return Zo},get CompletionItemTag(){return Xo},get CompletionList(){return ec},get CreateFile(){return ei},get DeleteFile(){return ni},get Diagnostic(){return la},get DiagnosticRelatedInformation(){return _s},get DiagnosticSeverity(){return nr},get DiagnosticTag(){return Vo},get DocumentHighlight(){return ac},get DocumentHighlightKind(){return ic},get DocumentLink(){return fc},get DocumentSymbol(){return Os},get DocumentUri(){return wo},EOL:i_,get FoldingRange(){return Wo},get FoldingRangeKind(){return qo},get FormattingOptions(){return mc},get Hover(){return tc},get InlayHint(){return Ic},get InlayHintKind(){return Rs},get InlayHintLabelPart(){return Ps},get InlineCompletionContext(){return bc},get InlineCompletionItem(){return Rc},get InlineCompletionList(){return Pc},get InlineCompletionTriggerKind(){return Tc},get InlineValueContext(){return Ac},get InlineValueEvaluatableExpression(){return Ec},get InlineValueText(){return dc},get InlineValueVariableLookup(){return _c},get InsertReplaceEdit(){return Qo},get InsertTextFormat(){return Yo},get InsertTextMode(){return Jo},get Location(){return ca},get LocationLink(){return Fo},get MarkedString(){return ma},get MarkupContent(){return ri},get MarkupKind(){return As},get OptionalVersionedTextDocumentIdentifier(){return ha},get ParameterInformation(){return nc},get Position(){return Kt},get Range(){return ze},get RenameFile(){return ti},get SelectedCompletionInfo(){return yc},get SelectionRange(){return pc},get SemanticTokenModifiers(){return Sc},get SemanticTokenTypes(){return hn},get SemanticTokens(){return gc},get SignatureInformation(){return rc},get StringValue(){return Oc},get SymbolInformation(){return Is},get SymbolKind(){return Tn},get SymbolTag(){return sc},get TextDocument(){return kc},get TextDocumentEdit(){return ua},get TextDocumentIdentifier(){return Ho},get TextDocumentItem(){return zo},get TextEdit(){return Rn},get URI(){return gs},get VersionedTextDocumentIdentifier(){return jo},WorkspaceChange:r_,get WorkspaceEdit(){return Es},get WorkspaceFolder(){return Nc},get WorkspaceSymbol(){return oc},get integer(){return Go},get uinteger(){return oa}});var Il=Xd(s_);var Nt={};var Iu;function We(){if(Iu)return Nt;Iu=1;Object.defineProperty(Nt,"__esModule",{value:true});Nt.ProtocolNotificationType=Nt.ProtocolNotificationType0=Nt.ProtocolRequestType=Nt.ProtocolRequestType0=Nt.RegistrationType=Nt.MessageDirection=void 0;const e=li();var t;(function(o){o["clientToServer"]="clientToServer";o["serverToClient"]="serverToClient";o["both"]="both"})(t||(Nt.MessageDirection=t={}));class n{constructor(c){this.method=c}}Nt.RegistrationType=n;class r extends e.RequestType0{constructor(c){super(c)}}Nt.ProtocolRequestType0=r;class i extends e.RequestType{constructor(c){super(c,e.ParameterStructures.byName)}}Nt.ProtocolRequestType=i;class a extends e.NotificationType0{constructor(c){super(c)}}Nt.ProtocolNotificationType0=a;class s extends e.NotificationType{constructor(c){super(c,e.ParameterStructures.byName)}}Nt.ProtocolNotificationType=s;return Nt}var _o={};var Je={};var Ou;function Ol(){if(Ou)return Je;Ou=1;Object.defineProperty(Je,"__esModule",{value:true});Je.objectLiteral=Je.typedArray=Je.stringArray=Je.array=Je.func=Je.error=Je.number=Je.string=Je.boolean=void 0;function e(h){return h===true||h===false}Je.boolean=e;function t(h){return typeof h==="string"||h instanceof String}Je.string=t;function n(h){return typeof h==="number"||h instanceof Number}Je.number=n;function r(h){return h instanceof Error}Je.error=r;function i(h){return typeof h==="function"}Je.func=i;function a(h){return Array.isArray(h)}Je.array=a;function s(h){return a(h)&&h.every(f=>t(f))}Je.stringArray=s;function o(h,f){return Array.isArray(h)&&h.every(f)}Je.typedArray=o;function c(h){return h!==null&&typeof h==="object"}Je.objectLiteral=c;return Je}var Ii={};var Ru;function o_(){if(Ru)return Ii;Ru=1;Object.defineProperty(Ii,"__esModule",{value:true});Ii.ImplementationRequest=void 0;const e=We();var t;(function(n){n.method="textDocument/implementation";n.messageDirection=e.MessageDirection.clientToServer;n.type=new e.ProtocolRequestType(n.method)})(t||(Ii.ImplementationRequest=t={}));return Ii}var Oi={};var Pu;function c_(){if(Pu)return Oi;Pu=1;Object.defineProperty(Oi,"__esModule",{value:true});Oi.TypeDefinitionRequest=void 0;const e=We();var t;(function(n){n.method="textDocument/typeDefinition";n.messageDirection=e.MessageDirection.clientToServer;n.type=new e.ProtocolRequestType(n.method)})(t||(Oi.TypeDefinitionRequest=t={}));return Oi}var Pr={};var Tu;function l_(){if(Tu)return Pr;Tu=1;Object.defineProperty(Pr,"__esModule",{value:true});Pr.DidChangeWorkspaceFoldersNotification=Pr.WorkspaceFoldersRequest=void 0;const e=We();var t;(function(r){r.method="workspace/workspaceFolders";r.messageDirection=e.MessageDirection.serverToClient;r.type=new e.ProtocolRequestType0(r.method)})(t||(Pr.WorkspaceFoldersRequest=t={}));var n;(function(r){r.method="workspace/didChangeWorkspaceFolders";r.messageDirection=e.MessageDirection.clientToServer;r.type=new e.ProtocolNotificationType(r.method)})(n||(Pr.DidChangeWorkspaceFoldersNotification=n={}));return Pr}var Ri={};var yu;function u_(){if(yu)return Ri;yu=1;Object.defineProperty(Ri,"__esModule",{value:true});Ri.ConfigurationRequest=void 0;const e=We();var t;(function(n){n.method="workspace/configuration";n.messageDirection=e.MessageDirection.serverToClient;n.type=new e.ProtocolRequestType(n.method)})(t||(Ri.ConfigurationRequest=t={}));return Ri}var Tr={};var bu;function h_(){if(bu)return Tr;bu=1;Object.defineProperty(Tr,"__esModule",{value:true});Tr.ColorPresentationRequest=Tr.DocumentColorRequest=void 0;const e=We();var t;(function(r){r.method="textDocument/documentColor";r.messageDirection=e.MessageDirection.clientToServer;r.type=new e.ProtocolRequestType(r.method)})(t||(Tr.DocumentColorRequest=t={}));var n;(function(r){r.method="textDocument/colorPresentation";r.messageDirection=e.MessageDirection.clientToServer;r.type=new e.ProtocolRequestType(r.method)})(n||(Tr.ColorPresentationRequest=n={}));return Tr}var yr={};var Nu;function m_(){if(Nu)return yr;Nu=1;Object.defineProperty(yr,"__esModule",{value:true});yr.FoldingRangeRefreshRequest=yr.FoldingRangeRequest=void 0;const e=We();var t;(function(r){r.method="textDocument/foldingRange";r.messageDirection=e.MessageDirection.clientToServer;r.type=new e.ProtocolRequestType(r.method)})(t||(yr.FoldingRangeRequest=t={}));var n;(function(r){r.method=`workspace/foldingRange/refresh`;r.messageDirection=e.MessageDirection.serverToClient;r.type=new e.ProtocolRequestType0(r.method)})(n||(yr.FoldingRangeRefreshRequest=n={}));return yr}var Pi={};var ku;function f_(){if(ku)return Pi;ku=1;Object.defineProperty(Pi,"__esModule",{value:true});Pi.DeclarationRequest=void 0;const e=We();var t;(function(n){n.method="textDocument/declaration";n.messageDirection=e.MessageDirection.clientToServer;n.type=new e.ProtocolRequestType(n.method)})(t||(Pi.DeclarationRequest=t={}));return Pi}var Ti={};var Du;function p_(){if(Du)return Ti;Du=1;Object.defineProperty(Ti,"__esModule",{value:true});Ti.SelectionRangeRequest=void 0;const e=We();var t;(function(n){n.method="textDocument/selectionRange";n.messageDirection=e.MessageDirection.clientToServer;n.type=new e.ProtocolRequestType(n.method)})(t||(Ti.SelectionRangeRequest=t={}));return Ti}var Gn={};var vu;function S_(){if(vu)return Gn;vu=1;Object.defineProperty(Gn,"__esModule",{value:true});Gn.WorkDoneProgressCancelNotification=Gn.WorkDoneProgressCreateRequest=Gn.WorkDoneProgress=void 0;const e=li();const t=We();var n;(function(a){a.type=new e.ProgressType;function s(o){return o===a.type}a.is=s})(n||(Gn.WorkDoneProgress=n={}));var r;(function(a){a.method="window/workDoneProgress/create";a.messageDirection=t.MessageDirection.serverToClient;a.type=new t.ProtocolRequestType(a.method)})(r||(Gn.WorkDoneProgressCreateRequest=r={}));var i;(function(a){a.method="window/workDoneProgress/cancel";a.messageDirection=t.MessageDirection.clientToServer;a.type=new t.ProtocolNotificationType(a.method)})(i||(Gn.WorkDoneProgressCancelNotification=i={}));return Gn}var Fn={};var Lu;function g_(){if(Lu)return Fn;Lu=1;Object.defineProperty(Fn,"__esModule",{value:true});Fn.CallHierarchyOutgoingCallsRequest=Fn.CallHierarchyIncomingCallsRequest=Fn.CallHierarchyPrepareRequest=void 0;const e=We();var t;(function(i){i.method="textDocument/prepareCallHierarchy";i.messageDirection=e.MessageDirection.clientToServer;i.type=new e.ProtocolRequestType(i.method)})(t||(Fn.CallHierarchyPrepareRequest=t={}));var n;(function(i){i.method="callHierarchy/incomingCalls";i.messageDirection=e.MessageDirection.clientToServer;i.type=new e.ProtocolRequestType(i.method)})(n||(Fn.CallHierarchyIncomingCallsRequest=n={}));var r;(function(i){i.method="callHierarchy/outgoingCalls";i.messageDirection=e.MessageDirection.clientToServer;i.type=new e.ProtocolRequestType(i.method)})(r||(Fn.CallHierarchyOutgoingCallsRequest=r={}));return Fn}var kt={};var Cu;function d_(){if(Cu)return kt;Cu=1;Object.defineProperty(kt,"__esModule",{value:true});kt.SemanticTokensRefreshRequest=kt.SemanticTokensRangeRequest=kt.SemanticTokensDeltaRequest=kt.SemanticTokensRequest=kt.SemanticTokensRegistrationType=kt.TokenFormat=void 0;const e=We();var t;(function(o){o.Relative="relative"})(t||(kt.TokenFormat=t={}));var n;(function(o){o.method="textDocument/semanticTokens";o.type=new e.RegistrationType(o.method)})(n||(kt.SemanticTokensRegistrationType=n={}));var r;(function(o){o.method="textDocument/semanticTokens/full";o.messageDirection=e.MessageDirection.clientToServer;o.type=new e.ProtocolRequestType(o.method);o.registrationMethod=n.method})(r||(kt.SemanticTokensRequest=r={}));var i;(function(o){o.method="textDocument/semanticTokens/full/delta";o.messageDirection=e.MessageDirection.clientToServer;o.type=new e.ProtocolRequestType(o.method);o.registrationMethod=n.method})(i||(kt.SemanticTokensDeltaRequest=i={}));var a;(function(o){o.method="textDocument/semanticTokens/range";o.messageDirection=e.MessageDirection.clientToServer;o.type=new e.ProtocolRequestType(o.method);o.registrationMethod=n.method})(a||(kt.SemanticTokensRangeRequest=a={}));var s;(function(o){o.method=`workspace/semanticTokens/refresh`;o.messageDirection=e.MessageDirection.serverToClient;o.type=new e.ProtocolRequestType0(o.method)})(s||(kt.SemanticTokensRefreshRequest=s={}));return kt}var yi={};var Uu;function __(){if(Uu)return yi;Uu=1;Object.defineProperty(yi,"__esModule",{value:true});yi.ShowDocumentRequest=void 0;const e=We();var t;(function(n){n.method="window/showDocument";n.messageDirection=e.MessageDirection.serverToClient;n.type=new e.ProtocolRequestType(n.method)})(t||(yi.ShowDocumentRequest=t={}));return yi}var bi={};var Mu;function E_(){if(Mu)return bi;Mu=1;Object.defineProperty(bi,"__esModule",{value:true});bi.LinkedEditingRangeRequest=void 0;const e=We();var t;(function(n){n.method="textDocument/linkedEditingRange";n.messageDirection=e.MessageDirection.clientToServer;n.type=new e.ProtocolRequestType(n.method)})(t||(bi.LinkedEditingRangeRequest=t={}));return bi}var pt={};var wu;function A_(){if(wu)return pt;wu=1;Object.defineProperty(pt,"__esModule",{value:true});pt.WillDeleteFilesRequest=pt.DidDeleteFilesNotification=pt.DidRenameFilesNotification=pt.WillRenameFilesRequest=pt.DidCreateFilesNotification=pt.WillCreateFilesRequest=pt.FileOperationPatternKind=void 0;const e=We();var t;(function(c){c.file="file";c.folder="folder"})(t||(pt.FileOperationPatternKind=t={}));var n;(function(c){c.method="workspace/willCreateFiles";c.messageDirection=e.MessageDirection.clientToServer;c.type=new e.ProtocolRequestType(c.method)})(n||(pt.WillCreateFilesRequest=n={}));var r;(function(c){c.method="workspace/didCreateFiles";c.messageDirection=e.MessageDirection.clientToServer;c.type=new e.ProtocolNotificationType(c.method)})(r||(pt.DidCreateFilesNotification=r={}));var i;(function(c){c.method="workspace/willRenameFiles";c.messageDirection=e.MessageDirection.clientToServer;c.type=new e.ProtocolRequestType(c.method)})(i||(pt.WillRenameFilesRequest=i={}));var a;(function(c){c.method="workspace/didRenameFiles";c.messageDirection=e.MessageDirection.clientToServer;c.type=new e.ProtocolNotificationType(c.method)})(a||(pt.DidRenameFilesNotification=a={}));var s;(function(c){c.method="workspace/didDeleteFiles";c.messageDirection=e.MessageDirection.clientToServer;c.type=new e.ProtocolNotificationType(c.method)})(s||(pt.DidDeleteFilesNotification=s={}));var o;(function(c){c.method="workspace/willDeleteFiles";c.messageDirection=e.MessageDirection.clientToServer;c.type=new e.ProtocolRequestType(c.method)})(o||(pt.WillDeleteFilesRequest=o={}));return pt}var xn={};var Gu;function I_(){if(Gu)return xn;Gu=1;Object.defineProperty(xn,"__esModule",{value:true});xn.MonikerRequest=xn.MonikerKind=xn.UniquenessLevel=void 0;const e=We();var t;(function(i){i.document="document";i.project="project";i.group="group";i.scheme="scheme";i.global="global"})(t||(xn.UniquenessLevel=t={}));var n;(function(i){i.$import="import";i.$export="export";i.local="local"})(n||(xn.MonikerKind=n={}));var r;(function(i){i.method="textDocument/moniker";i.messageDirection=e.MessageDirection.clientToServer;i.type=new e.ProtocolRequestType(i.method)})(r||(xn.MonikerRequest=r={}));return xn}var Bn={};var Fu;function O_(){if(Fu)return Bn;Fu=1;Object.defineProperty(Bn,"__esModule",{value:true});Bn.TypeHierarchySubtypesRequest=Bn.TypeHierarchySupertypesRequest=Bn.TypeHierarchyPrepareRequest=void 0;const e=We();var t;(function(i){i.method="textDocument/prepareTypeHierarchy";i.messageDirection=e.MessageDirection.clientToServer;i.type=new e.ProtocolRequestType(i.method)})(t||(Bn.TypeHierarchyPrepareRequest=t={}));var n;(function(i){i.method="typeHierarchy/supertypes";i.messageDirection=e.MessageDirection.clientToServer;i.type=new e.ProtocolRequestType(i.method)})(n||(Bn.TypeHierarchySupertypesRequest=n={}));var r;(function(i){i.method="typeHierarchy/subtypes";i.messageDirection=e.MessageDirection.clientToServer;i.type=new e.ProtocolRequestType(i.method)})(r||(Bn.TypeHierarchySubtypesRequest=r={}));return Bn}var br={};var xu;function R_(){if(xu)return br;xu=1;Object.defineProperty(br,"__esModule",{value:true});br.InlineValueRefreshRequest=br.InlineValueRequest=void 0;const e=We();var t;(function(r){r.method="textDocument/inlineValue";r.messageDirection=e.MessageDirection.clientToServer;r.type=new e.ProtocolRequestType(r.method)})(t||(br.InlineValueRequest=t={}));var n;(function(r){r.method=`workspace/inlineValue/refresh`;r.messageDirection=e.MessageDirection.serverToClient;r.type=new e.ProtocolRequestType0(r.method)})(n||(br.InlineValueRefreshRequest=n={}));return br}var qn={};var Bu;function P_(){if(Bu)return qn;Bu=1;Object.defineProperty(qn,"__esModule",{value:true});qn.InlayHintRefreshRequest=qn.InlayHintResolveRequest=qn.InlayHintRequest=void 0;const e=We();var t;(function(i){i.method="textDocument/inlayHint";i.messageDirection=e.MessageDirection.clientToServer;i.type=new e.ProtocolRequestType(i.method)})(t||(qn.InlayHintRequest=t={}));var n;(function(i){i.method="inlayHint/resolve";i.messageDirection=e.MessageDirection.clientToServer;i.type=new e.ProtocolRequestType(i.method)})(n||(qn.InlayHintResolveRequest=n={}));var r;(function(i){i.method=`workspace/inlayHint/refresh`;i.messageDirection=e.MessageDirection.serverToClient;i.type=new e.ProtocolRequestType0(i.method)})(r||(qn.InlayHintRefreshRequest=r={}));return qn}var Bt={};var qu;function T_(){if(qu)return Bt;qu=1;Object.defineProperty(Bt,"__esModule",{value:true});Bt.DiagnosticRefreshRequest=Bt.WorkspaceDiagnosticRequest=Bt.DocumentDiagnosticRequest=Bt.DocumentDiagnosticReportKind=Bt.DiagnosticServerCancellationData=void 0;const e=li();const t=Ol();const n=We();var r;(function(c){function h(f){const S=f;return S&&t.boolean(S.retriggerRequest)}c.is=h})(r||(Bt.DiagnosticServerCancellationData=r={}));var i;(function(c){c.Full="full";c.Unchanged="unchanged"})(i||(Bt.DocumentDiagnosticReportKind=i={}));var a;(function(c){c.method="textDocument/diagnostic";c.messageDirection=n.MessageDirection.clientToServer;c.type=new n.ProtocolRequestType(c.method);c.partialResult=new e.ProgressType})(a||(Bt.DocumentDiagnosticRequest=a={}));var s;(function(c){c.method="workspace/diagnostic";c.messageDirection=n.MessageDirection.clientToServer;c.type=new n.ProtocolRequestType(c.method);c.partialResult=new e.ProgressType})(s||(Bt.WorkspaceDiagnosticRequest=s={}));var o;(function(c){c.method=`workspace/diagnostic/refresh`;c.messageDirection=n.MessageDirection.serverToClient;c.type=new n.ProtocolRequestType0(c.method)})(o||(Bt.DiagnosticRefreshRequest=o={}));return Bt}var xe={};var Wu;function y_(){if(Wu)return xe;Wu=1;Object.defineProperty(xe,"__esModule",{value:true});xe.DidCloseNotebookDocumentNotification=xe.DidSaveNotebookDocumentNotification=xe.DidChangeNotebookDocumentNotification=xe.NotebookCellArrayChange=xe.DidOpenNotebookDocumentNotification=xe.NotebookDocumentSyncRegistrationType=xe.NotebookDocument=xe.NotebookCell=xe.ExecutionSummary=xe.NotebookCellKind=void 0;const e=Il;const t=Ol();const n=We();var r;(function(_){_.Markup=1;_.Code=2;function I(M){return M===1||M===2}_.is=I})(r||(xe.NotebookCellKind=r={}));var i;(function(_){function I(C,T){const O={executionOrder:C};if(T===true||T===false){O.success=T}return O}_.create=I;function M(C){const T=C;return t.objectLiteral(T)&&e.uinteger.is(T.executionOrder)&&(T.success===void 0||t.boolean(T.success))}_.is=M;function W(C,T){if(C===T){return true}if(C===null||C===void 0||T===null||T===void 0){return false}return C.executionOrder===T.executionOrder&&C.success===T.success}_.equals=W})(i||(xe.ExecutionSummary=i={}));var a;(function(_){function I(T,O){return{kind:T,document:O}}_.create=I;function M(T){const O=T;return t.objectLiteral(O)&&r.is(O.kind)&&e.DocumentUri.is(O.document)&&(O.metadata===void 0||t.objectLiteral(O.metadata))}_.is=M;function W(T,O){const F=new Set;if(T.document!==O.document){F.add("document")}if(T.kind!==O.kind){F.add("kind")}if(T.executionSummary!==O.executionSummary){F.add("executionSummary")}if((T.metadata!==void 0||O.metadata!==void 0)&&!C(T.metadata,O.metadata)){F.add("metadata")}if((T.executionSummary!==void 0||O.executionSummary!==void 0)&&!i.equals(T.executionSummary,O.executionSummary)){F.add("executionSummary")}return F}_.diff=W;function C(T,O){if(T===O){return true}if(T===null||T===void 0||O===null||O===void 0){return false}if(typeof T!==typeof O){return false}if(typeof T!=="object"){return false}const F=Array.isArray(T);const Z=Array.isArray(O);if(F!==Z){return false}if(F&&Z){if(T.length!==O.length){return false}for(let Q=0;Q<T.length;Q++){if(!C(T[Q],O[Q])){return false}}}if(t.objectLiteral(T)&&t.objectLiteral(O)){const Q=Object.keys(T);const le=Object.keys(O);if(Q.length!==le.length){return false}Q.sort();le.sort();if(!C(Q,le)){return false}for(let pe=0;pe<Q.length;pe++){const Oe=Q[pe];if(!C(T[Oe],O[Oe])){return false}}}return true}})(a||(xe.NotebookCell=a={}));var s;(function(_){function I(W,C,T,O){return{uri:W,notebookType:C,version:T,cells:O}}_.create=I;function M(W){const C=W;return t.objectLiteral(C)&&t.string(C.uri)&&e.integer.is(C.version)&&t.typedArray(C.cells,a.is)}_.is=M})(s||(xe.NotebookDocument=s={}));var o;(function(_){_.method="notebookDocument/sync";_.messageDirection=n.MessageDirection.clientToServer;_.type=new n.RegistrationType(_.method)})(o||(xe.NotebookDocumentSyncRegistrationType=o={}));var c;(function(_){_.method="notebookDocument/didOpen";_.messageDirection=n.MessageDirection.clientToServer;_.type=new n.ProtocolNotificationType(_.method);_.registrationMethod=o.method})(c||(xe.DidOpenNotebookDocumentNotification=c={}));var h;(function(_){function I(W){const C=W;return t.objectLiteral(C)&&e.uinteger.is(C.start)&&e.uinteger.is(C.deleteCount)&&(C.cells===void 0||t.typedArray(C.cells,a.is))}_.is=I;function M(W,C,T){const O={start:W,deleteCount:C};if(T!==void 0){O.cells=T}return O}_.create=M})(h||(xe.NotebookCellArrayChange=h={}));var f;(function(_){_.method="notebookDocument/didChange";_.messageDirection=n.MessageDirection.clientToServer;_.type=new n.ProtocolNotificationType(_.method);_.registrationMethod=o.method})(f||(xe.DidChangeNotebookDocumentNotification=f={}));var S;(function(_){_.method="notebookDocument/didSave";_.messageDirection=n.MessageDirection.clientToServer;_.type=new n.ProtocolNotificationType(_.method);_.registrationMethod=o.method})(S||(xe.DidSaveNotebookDocumentNotification=S={}));var g;(function(_){_.method="notebookDocument/didClose";_.messageDirection=n.MessageDirection.clientToServer;_.type=new n.ProtocolNotificationType(_.method);_.registrationMethod=o.method})(g||(xe.DidCloseNotebookDocumentNotification=g={}));return xe}var Ni={};var Vu;function b_(){if(Vu)return Ni;Vu=1;Object.defineProperty(Ni,"__esModule",{value:true});Ni.InlineCompletionRequest=void 0;const e=We();var t;(function(n){n.method="textDocument/inlineCompletion";n.messageDirection=e.MessageDirection.clientToServer;n.type=new e.ProtocolRequestType(n.method)})(t||(Ni.InlineCompletionRequest=t={}));return Ni}var $u;function N_(){if($u)return _o;$u=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0;e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0;e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=We();const n=Il;const r=Ol();const i=o_();Object.defineProperty(e,"ImplementationRequest",{enumerable:true,get:function(){return i.ImplementationRequest}});const a=c_();Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:true,get:function(){return a.TypeDefinitionRequest}});const s=l_();Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:true,get:function(){return s.WorkspaceFoldersRequest}});Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:true,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const o=u_();Object.defineProperty(e,"ConfigurationRequest",{enumerable:true,get:function(){return o.ConfigurationRequest}});const c=h_();Object.defineProperty(e,"DocumentColorRequest",{enumerable:true,get:function(){return c.DocumentColorRequest}});Object.defineProperty(e,"ColorPresentationRequest",{enumerable:true,get:function(){return c.ColorPresentationRequest}});const h=m_();Object.defineProperty(e,"FoldingRangeRequest",{enumerable:true,get:function(){return h.FoldingRangeRequest}});Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:true,get:function(){return h.FoldingRangeRefreshRequest}});const f=f_();Object.defineProperty(e,"DeclarationRequest",{enumerable:true,get:function(){return f.DeclarationRequest}});const S=p_();Object.defineProperty(e,"SelectionRangeRequest",{enumerable:true,get:function(){return S.SelectionRangeRequest}});const g=S_();Object.defineProperty(e,"WorkDoneProgress",{enumerable:true,get:function(){return g.WorkDoneProgress}});Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:true,get:function(){return g.WorkDoneProgressCreateRequest}});Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:true,get:function(){return g.WorkDoneProgressCancelNotification}});const _=g_();Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:true,get:function(){return _.CallHierarchyIncomingCallsRequest}});Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:true,get:function(){return _.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:true,get:function(){return _.CallHierarchyPrepareRequest}});const I=d_();Object.defineProperty(e,"TokenFormat",{enumerable:true,get:function(){return I.TokenFormat}});Object.defineProperty(e,"SemanticTokensRequest",{enumerable:true,get:function(){return I.SemanticTokensRequest}});Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:true,get:function(){return I.SemanticTokensDeltaRequest}});Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:true,get:function(){return I.SemanticTokensRangeRequest}});Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:true,get:function(){return I.SemanticTokensRefreshRequest}});Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:true,get:function(){return I.SemanticTokensRegistrationType}});const M=__();Object.defineProperty(e,"ShowDocumentRequest",{enumerable:true,get:function(){return M.ShowDocumentRequest}});const W=E_();Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:true,get:function(){return W.LinkedEditingRangeRequest}});const C=A_();Object.defineProperty(e,"FileOperationPatternKind",{enumerable:true,get:function(){return C.FileOperationPatternKind}});Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:true,get:function(){return C.DidCreateFilesNotification}});Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:true,get:function(){return C.WillCreateFilesRequest}});Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:true,get:function(){return C.DidRenameFilesNotification}});Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:true,get:function(){return C.WillRenameFilesRequest}});Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:true,get:function(){return C.DidDeleteFilesNotification}});Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:true,get:function(){return C.WillDeleteFilesRequest}});const T=I_();Object.defineProperty(e,"UniquenessLevel",{enumerable:true,get:function(){return T.UniquenessLevel}});Object.defineProperty(e,"MonikerKind",{enumerable:true,get:function(){return T.MonikerKind}});Object.defineProperty(e,"MonikerRequest",{enumerable:true,get:function(){return T.MonikerRequest}});const O=O_();Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:true,get:function(){return O.TypeHierarchyPrepareRequest}});Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:true,get:function(){return O.TypeHierarchySubtypesRequest}});Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:true,get:function(){return O.TypeHierarchySupertypesRequest}});const F=R_();Object.defineProperty(e,"InlineValueRequest",{enumerable:true,get:function(){return F.InlineValueRequest}});Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:true,get:function(){return F.InlineValueRefreshRequest}});const Z=P_();Object.defineProperty(e,"InlayHintRequest",{enumerable:true,get:function(){return Z.InlayHintRequest}});Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:true,get:function(){return Z.InlayHintResolveRequest}});Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:true,get:function(){return Z.InlayHintRefreshRequest}});const Q=T_();Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:true,get:function(){return Q.DiagnosticServerCancellationData}});Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:true,get:function(){return Q.DocumentDiagnosticReportKind}});Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:true,get:function(){return Q.DocumentDiagnosticRequest}});Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:true,get:function(){return Q.WorkspaceDiagnosticRequest}});Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:true,get:function(){return Q.DiagnosticRefreshRequest}});const le=y_();Object.defineProperty(e,"NotebookCellKind",{enumerable:true,get:function(){return le.NotebookCellKind}});Object.defineProperty(e,"ExecutionSummary",{enumerable:true,get:function(){return le.ExecutionSummary}});Object.defineProperty(e,"NotebookCell",{enumerable:true,get:function(){return le.NotebookCell}});Object.defineProperty(e,"NotebookDocument",{enumerable:true,get:function(){return le.NotebookDocument}});Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:true,get:function(){return le.NotebookDocumentSyncRegistrationType}});Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:true,get:function(){return le.DidOpenNotebookDocumentNotification}});Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:true,get:function(){return le.NotebookCellArrayChange}});Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:true,get:function(){return le.DidChangeNotebookDocumentNotification}});Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:true,get:function(){return le.DidSaveNotebookDocumentNotification}});Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:true,get:function(){return le.DidCloseNotebookDocumentNotification}});const pe=b_();Object.defineProperty(e,"InlineCompletionRequest",{enumerable:true,get:function(){return pe.InlineCompletionRequest}});var Oe;(function(d){function Ye(Xe){const Se=Xe;return r.string(Se)||(r.string(Se.language)||r.string(Se.scheme)||r.string(Se.pattern))}d.is=Ye})(Oe||(e.TextDocumentFilter=Oe={}));var ke;(function(d){function Ye(Xe){const Se=Xe;return r.objectLiteral(Se)&&(r.string(Se.notebookType)||r.string(Se.scheme)||r.string(Se.pattern))}d.is=Ye})(ke||(e.NotebookDocumentFilter=ke={}));var V;(function(d){function Ye(Xe){const Se=Xe;return r.objectLiteral(Se)&&(r.string(Se.notebook)||ke.is(Se.notebook))&&(Se.language===void 0||r.string(Se.language))}d.is=Ye})(V||(e.NotebookCellTextDocumentFilter=V={}));var P;(function(d){function Ye(Xe){if(!Array.isArray(Xe)){return false}for(let Se of Xe){if(!r.string(Se)&&!Oe.is(Se)&&!V.is(Se)){return false}}return true}d.is=Ye})(P||(e.DocumentSelector=P={}));var A;(function(d){d.method="client/registerCapability";d.messageDirection=t.MessageDirection.serverToClient;d.type=new t.ProtocolRequestType(d.method)})(A||(e.RegistrationRequest=A={}));var U;(function(d){d.method="client/unregisterCapability";d.messageDirection=t.MessageDirection.serverToClient;d.type=new t.ProtocolRequestType(d.method)})(U||(e.UnregistrationRequest=U={}));var R;(function(d){d.Create="create";d.Rename="rename";d.Delete="delete"})(R||(e.ResourceOperationKind=R={}));var y;(function(d){d.Abort="abort";d.Transactional="transactional";d.TextOnlyTransactional="textOnlyTransactional";d.Undo="undo"})(y||(e.FailureHandlingKind=y={}));var D;(function(d){d.UTF8="utf-8";d.UTF16="utf-16";d.UTF32="utf-32"})(D||(e.PositionEncodingKind=D={}));var H;(function(d){function Ye(Xe){const Se=Xe;return Se&&r.string(Se.id)&&Se.id.length>0}d.hasId=Ye})(H||(e.StaticRegistrationOptions=H={}));var X;(function(d){function Ye(Xe){const Se=Xe;return Se&&(Se.documentSelector===null||P.is(Se.documentSelector))}d.is=Ye})(X||(e.TextDocumentRegistrationOptions=X={}));var j;(function(d){function Ye(Se){const E=Se;return r.objectLiteral(E)&&(E.workDoneProgress===void 0||r.boolean(E.workDoneProgress))}d.is=Ye;function Xe(Se){const E=Se;return E&&r.boolean(E.workDoneProgress)}d.hasWorkDoneProgress=Xe})(j||(e.WorkDoneProgressOptions=j={}));var ce;(function(d){d.method="initialize";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(ce||(e.InitializeRequest=ce={}));var ue;(function(d){d.unknownProtocolVersion=1})(ue||(e.InitializeErrorCodes=ue={}));var Pe;(function(d){d.method="initialized";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolNotificationType(d.method)})(Pe||(e.InitializedNotification=Pe={}));var he;(function(d){d.method="shutdown";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType0(d.method)})(he||(e.ShutdownRequest=he={}));var Ve;(function(d){d.method="exit";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolNotificationType0(d.method)})(Ve||(e.ExitNotification=Ve={}));var Ee;(function(d){d.method="workspace/didChangeConfiguration";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolNotificationType(d.method)})(Ee||(e.DidChangeConfigurationNotification=Ee={}));var $e;(function(d){d.Error=1;d.Warning=2;d.Info=3;d.Log=4;d.Debug=5})($e||(e.MessageType=$e={}));var st;(function(d){d.method="window/showMessage";d.messageDirection=t.MessageDirection.serverToClient;d.type=new t.ProtocolNotificationType(d.method)})(st||(e.ShowMessageNotification=st={}));var ve;(function(d){d.method="window/showMessageRequest";d.messageDirection=t.MessageDirection.serverToClient;d.type=new t.ProtocolRequestType(d.method)})(ve||(e.ShowMessageRequest=ve={}));var ee;(function(d){d.method="window/logMessage";d.messageDirection=t.MessageDirection.serverToClient;d.type=new t.ProtocolNotificationType(d.method)})(ee||(e.LogMessageNotification=ee={}));var b;(function(d){d.method="telemetry/event";d.messageDirection=t.MessageDirection.serverToClient;d.type=new t.ProtocolNotificationType(d.method)})(b||(e.TelemetryEventNotification=b={}));var L;(function(d){d.None=0;d.Full=1;d.Incremental=2})(L||(e.TextDocumentSyncKind=L={}));var te;(function(d){d.method="textDocument/didOpen";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolNotificationType(d.method)})(te||(e.DidOpenTextDocumentNotification=te={}));var v;(function(d){function Ye(Se){let E=Se;return E!==void 0&&E!==null&&typeof E.text==="string"&&E.range!==void 0&&(E.rangeLength===void 0||typeof E.rangeLength==="number")}d.isIncremental=Ye;function Xe(Se){let E=Se;return E!==void 0&&E!==null&&typeof E.text==="string"&&E.range===void 0&&E.rangeLength===void 0}d.isFull=Xe})(v||(e.TextDocumentContentChangeEvent=v={}));var ye;(function(d){d.method="textDocument/didChange";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolNotificationType(d.method)})(ye||(e.DidChangeTextDocumentNotification=ye={}));var It;(function(d){d.method="textDocument/didClose";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolNotificationType(d.method)})(It||(e.DidCloseTextDocumentNotification=It={}));var on;(function(d){d.method="textDocument/didSave";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolNotificationType(d.method)})(on||(e.DidSaveTextDocumentNotification=on={}));var Qn;(function(d){d.Manual=1;d.AfterDelay=2;d.FocusOut=3})(Qn||(e.TextDocumentSaveReason=Qn={}));var Jn;(function(d){d.method="textDocument/willSave";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolNotificationType(d.method)})(Jn||(e.WillSaveTextDocumentNotification=Jn={}));var Zn;(function(d){d.method="textDocument/willSaveWaitUntil";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Zn||(e.WillSaveTextDocumentWaitUntilRequest=Zn={}));var Ct;(function(d){d.method="workspace/didChangeWatchedFiles";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolNotificationType(d.method)})(Ct||(e.DidChangeWatchedFilesNotification=Ct={}));var _n;(function(d){d.Created=1;d.Changed=2;d.Deleted=3})(_n||(e.FileChangeType=_n={}));var Vr;(function(d){function Ye(Xe){const Se=Xe;return r.objectLiteral(Se)&&(n.URI.is(Se.baseUri)||n.WorkspaceFolder.is(Se.baseUri))&&r.string(Se.pattern)}d.is=Ye})(Vr||(e.RelativePattern=Vr={}));var Dn;(function(d){d.Create=1;d.Change=2;d.Delete=4})(Dn||(e.WatchKind=Dn={}));var vn;(function(d){d.method="textDocument/publishDiagnostics";d.messageDirection=t.MessageDirection.serverToClient;d.type=new t.ProtocolNotificationType(d.method)})(vn||(e.PublishDiagnosticsNotification=vn={}));var En;(function(d){d.Invoked=1;d.TriggerCharacter=2;d.TriggerForIncompleteCompletions=3})(En||(e.CompletionTriggerKind=En={}));var Jt;(function(d){d.method="textDocument/completion";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Jt||(e.CompletionRequest=Jt={}));var w;(function(d){d.method="completionItem/resolve";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(w||(e.CompletionResolveRequest=w={}));var G;(function(d){d.method="textDocument/hover";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(G||(e.HoverRequest=G={}));var J;(function(d){d.Invoked=1;d.TriggerCharacter=2;d.ContentChange=3})(J||(e.SignatureHelpTriggerKind=J={}));var Ut;(function(d){d.method="textDocument/signatureHelp";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Ut||(e.SignatureHelpRequest=Ut={}));var yt;(function(d){d.method="textDocument/definition";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(yt||(e.DefinitionRequest=yt={}));var pr;(function(d){d.method="textDocument/references";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(pr||(e.ReferencesRequest=pr={}));var gi;(function(d){d.method="textDocument/documentHighlight";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(gi||(e.DocumentHighlightRequest=gi={}));var xa;(function(d){d.method="textDocument/documentSymbol";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(xa||(e.DocumentSymbolRequest=xa={}));var Ba;(function(d){d.method="textDocument/codeAction";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Ba||(e.CodeActionRequest=Ba={}));var qa;(function(d){d.method="codeAction/resolve";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(qa||(e.CodeActionResolveRequest=qa={}));var Wa;(function(d){d.method="workspace/symbol";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Wa||(e.WorkspaceSymbolRequest=Wa={}));var Va;(function(d){d.method="workspaceSymbol/resolve";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Va||(e.WorkspaceSymbolResolveRequest=Va={}));var $a;(function(d){d.method="textDocument/codeLens";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})($a||(e.CodeLensRequest=$a={}));var cn;(function(d){d.method="codeLens/resolve";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(cn||(e.CodeLensResolveRequest=cn={}));var Ha;(function(d){d.method=`workspace/codeLens/refresh`;d.messageDirection=t.MessageDirection.serverToClient;d.type=new t.ProtocolRequestType0(d.method)})(Ha||(e.CodeLensRefreshRequest=Ha={}));var ja;(function(d){d.method="textDocument/documentLink";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(ja||(e.DocumentLinkRequest=ja={}));var Sr;(function(d){d.method="documentLink/resolve";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Sr||(e.DocumentLinkResolveRequest=Sr={}));var za;(function(d){d.method="textDocument/formatting";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(za||(e.DocumentFormattingRequest=za={}));var $r;(function(d){d.method="textDocument/rangeFormatting";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})($r||(e.DocumentRangeFormattingRequest=$r={}));var Ya;(function(d){d.method="textDocument/rangesFormatting";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Ya||(e.DocumentRangesFormattingRequest=Ya={}));var Ln;(function(d){d.method="textDocument/onTypeFormatting";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Ln||(e.DocumentOnTypeFormattingRequest=Ln={}));var Kn;(function(d){d.Identifier=1})(Kn||(e.PrepareSupportDefaultBehavior=Kn={}));var Xa;(function(d){d.method="textDocument/rename";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Xa||(e.RenameRequest=Xa={}));var Qa;(function(d){d.method="textDocument/prepareRename";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(Qa||(e.PrepareRenameRequest=Qa={}));var er;(function(d){d.method="workspace/executeCommand";d.messageDirection=t.MessageDirection.clientToServer;d.type=new t.ProtocolRequestType(d.method)})(er||(e.ExecuteCommandRequest=er={}));var di;(function(d){d.method="workspace/applyEdit";d.messageDirection=t.MessageDirection.serverToClient;d.type=new t.ProtocolRequestType("workspace/applyEdit")})(di||(e.ApplyWorkspaceEditRequest=di={}))})(_o);return _o}var ki={};var Hu;function k_(){if(Hu)return ki;Hu=1;Object.defineProperty(ki,"__esModule",{value:true});ki.createProtocolConnection=void 0;const e=li();function t(n,r,i,a){if(e.ConnectionStrategy.is(a)){a={connectionStrategy:a}}return(0,e.createMessageConnection)(n,r,i,a)}ki.createProtocolConnection=t;return ki}var ju;function D_(){if(ju)return Rr;ju=1;(function(e){var t=Rr&&Rr.__createBinding||(Object.create?function(a,s,o,c){if(c===void 0)c=o;var h=Object.getOwnPropertyDescriptor(s,o);if(!h||("get"in h?!s.__esModule:h.writable||h.configurable)){h={enumerable:true,get:function(){return s[o]}}}Object.defineProperty(a,c,h)}:function(a,s,o,c){if(c===void 0)c=o;a[c]=s[o]});var n=Rr&&Rr.__exportStar||function(a,s){for(var o in a)if(o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o))t(s,a,o)};Object.defineProperty(e,"__esModule",{value:true});e.LSPErrorCodes=e.createProtocolConnection=void 0;n(li(),e);n(Il,e);n(We(),e);n(N_(),e);var r=k_();Object.defineProperty(e,"createProtocolConnection",{enumerable:true,get:function(){return r.createProtocolConnection}});var i;(function(a){a.lspReservedErrorRangeStart=-32899;a.RequestFailed=-32803;a.ServerCancelled=-32802;a.ContentModified=-32801;a.RequestCancelled=-32800;a.lspReservedErrorRangeEnd=-32800})(i||(e.LSPErrorCodes=i={}))})(Rr);return Rr}var zu;function rt(){if(zu)return _r;zu=1;(function(e){var t=_r&&_r.__createBinding||(Object.create?function(a,s,o,c){if(c===void 0)c=o;var h=Object.getOwnPropertyDescriptor(s,o);if(!h||("get"in h?!s.__esModule:h.writable||h.configurable)){h={enumerable:true,get:function(){return s[o]}}}Object.defineProperty(a,c,h)}:function(a,s,o,c){if(c===void 0)c=o;a[c]=s[o]});var n=_r&&_r.__exportStar||function(a,s){for(var o in a)if(o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o))t(s,a,o)};Object.defineProperty(e,"__esModule",{value:true});e.createProtocolConnection=void 0;const r=Eu();n(Eu(),e);n(D_(),e);function i(a,s,o,c){return(0,r.createMessageConnection)(a,s,o,c)}e.createProtocolConnection=i})(_r);return _r}var Yu;function qm(){if(Yu)return Cn;Yu=1;Object.defineProperty(Cn,"__esModule",{value:true});Cn.SemanticTokensBuilder=Cn.SemanticTokensDiff=Cn.SemanticTokensFeature=void 0;const e=rt();const t=i=>{return class extends i{get semanticTokens(){return{refresh:()=>{return this.connection.sendRequest(e.SemanticTokensRefreshRequest.type)},on:a=>{const s=e.SemanticTokensRequest.type;return this.connection.onRequest(s,(o,c)=>{return a(o,c,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(s,o))})},onDelta:a=>{const s=e.SemanticTokensDeltaRequest.type;return this.connection.onRequest(s,(o,c)=>{return a(o,c,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(s,o))})},onRange:a=>{const s=e.SemanticTokensRangeRequest.type;return this.connection.onRequest(s,(o,c)=>{return a(o,c,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(s,o))})}}}}};Cn.SemanticTokensFeature=t;class n{constructor(a,s){this.originalSequence=a;this.modifiedSequence=s}computeDiff(){const a=this.originalSequence.length;const s=this.modifiedSequence.length;let o=0;while(o<s&&o<a&&this.originalSequence[o]===this.modifiedSequence[o]){o++}if(o<s&&o<a){let c=a-1;let h=s-1;while(c>=o&&h>=o&&this.originalSequence[c]===this.modifiedSequence[h]){c--;h--}if(c<o||h<o){c++;h++}const f=c-o+1;const S=this.modifiedSequence.slice(o,h+1);if(S.length===1&&S[0]===this.originalSequence[c]){return[{start:o,deleteCount:f-1}]}else{return[{start:o,deleteCount:f,data:S}]}}else if(o<s){return[{start:o,deleteCount:0,data:this.modifiedSequence.slice(o)}]}else if(o<a){return[{start:o,deleteCount:a-o}]}else{return[]}}}Cn.SemanticTokensDiff=n;class r{constructor(){this._prevData=void 0;this.initialize()}initialize(){this._id=Date.now();this._prevLine=0;this._prevChar=0;this._data=[];this._dataLen=0}push(a,s,o,c,h){let f=a;let S=s;if(this._dataLen>0){f-=this._prevLine;if(f===0){S-=this._prevChar}}this._data[this._dataLen++]=f;this._data[this._dataLen++]=S;this._data[this._dataLen++]=o;this._data[this._dataLen++]=c;this._data[this._dataLen++]=h;this._prevLine=a;this._prevChar=s}get id(){return this._id.toString()}previousResult(a){if(this.id===a){this._prevData=this._data}this.initialize()}build(){this._prevData=void 0;return{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){return{resultId:this.id,edits:new n(this._prevData,this._data).computeDiff()}}else{return this.build()}}}Cn.SemanticTokensBuilder=r;return Cn}var Di={};var Xu;function v_(){if(Xu)return Di;Xu=1;Object.defineProperty(Di,"__esModule",{value:true});Di.InlineCompletionFeature=void 0;const e=rt();const t=n=>{return class extends n{get inlineCompletion(){return{on:r=>{return this.connection.onRequest(e.InlineCompletionRequest.type,(i,a)=>{return r(i,a,this.attachWorkDoneProgress(i))})}}}}};Di.InlineCompletionFeature=t;return Di}var vi={};var Qu;function Wm(){if(Qu)return vi;Qu=1;Object.defineProperty(vi,"__esModule",{value:true});vi.TextDocuments=void 0;const e=rt();class t{constructor(r){this._configuration=r;this._syncedDocuments=new Map;this._onDidChangeContent=new e.Emitter;this._onDidOpen=new e.Emitter;this._onDidClose=new e.Emitter;this._onDidSave=new e.Emitter;this._onWillSave=new e.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(r){this._willSaveWaitUntil=r}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(r){return this._syncedDocuments.get(r)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(r){r.__textDocumentSync=e.TextDocumentSyncKind.Incremental;const i=[];i.push(r.onDidOpenTextDocument(a=>{const s=a.textDocument;const o=this._configuration.create(s.uri,s.languageId,s.version,s.text);this._syncedDocuments.set(s.uri,o);const c=Object.freeze({document:o});this._onDidOpen.fire(c);this._onDidChangeContent.fire(c)}));i.push(r.onDidChangeTextDocument(a=>{const s=a.textDocument;const o=a.contentChanges;if(o.length===0){return}const{version:c}=s;if(c===null||c===void 0){throw new Error(`Received document change event for ${s.uri} without valid version identifier`)}let h=this._syncedDocuments.get(s.uri);if(h!==void 0){h=this._configuration.update(h,o,c);this._syncedDocuments.set(s.uri,h);this._onDidChangeContent.fire(Object.freeze({document:h}))}}));i.push(r.onDidCloseTextDocument(a=>{let s=this._syncedDocuments.get(a.textDocument.uri);if(s!==void 0){this._syncedDocuments.delete(a.textDocument.uri);this._onDidClose.fire(Object.freeze({document:s}))}}));i.push(r.onWillSaveTextDocument(a=>{let s=this._syncedDocuments.get(a.textDocument.uri);if(s!==void 0){this._onWillSave.fire(Object.freeze({document:s,reason:a.reason}))}}));i.push(r.onWillSaveTextDocumentWaitUntil((a,s)=>{let o=this._syncedDocuments.get(a.textDocument.uri);if(o!==void 0&&this._willSaveWaitUntil){return this._willSaveWaitUntil(Object.freeze({document:o,reason:a.reason}),s)}else{return[]}}));i.push(r.onDidSaveTextDocument(a=>{let s=this._syncedDocuments.get(a.textDocument.uri);if(s!==void 0){this._onDidSave.fire(Object.freeze({document:s}))}}));return e.Disposable.create(()=>{i.forEach(a=>a.dispose())})}}vi.TextDocuments=t;return vi}var Nr={};var Ju;function Vm(){if(Ju)return Nr;Ju=1;Object.defineProperty(Nr,"__esModule",{value:true});Nr.NotebookDocuments=Nr.NotebookSyncFeature=void 0;const e=rt();const t=Wm();const n=a=>{return class extends a{get synchronization(){return{onDidOpenNotebookDocument:s=>{return this.connection.onNotification(e.DidOpenNotebookDocumentNotification.type,o=>{s(o)})},onDidChangeNotebookDocument:s=>{return this.connection.onNotification(e.DidChangeNotebookDocumentNotification.type,o=>{s(o)})},onDidSaveNotebookDocument:s=>{return this.connection.onNotification(e.DidSaveNotebookDocumentNotification.type,o=>{s(o)})},onDidCloseNotebookDocument:s=>{return this.connection.onNotification(e.DidCloseNotebookDocumentNotification.type,o=>{s(o)})}}}}};Nr.NotebookSyncFeature=n;class r{onDidOpenTextDocument(s){this.openHandler=s;return e.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(s){this.openHandler&&this.openHandler(s)}onDidChangeTextDocument(s){this.changeHandler=s;return e.Disposable.create(()=>{this.changeHandler=s})}changeTextDocument(s){this.changeHandler&&this.changeHandler(s)}onDidCloseTextDocument(s){this.closeHandler=s;return e.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(s){this.closeHandler&&this.closeHandler(s)}onWillSaveTextDocument(){return r.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return r.NULL_DISPOSE}onDidSaveTextDocument(){return r.NULL_DISPOSE}}r.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class i{constructor(s){if(s instanceof t.TextDocuments){this._cellTextDocuments=s}else{this._cellTextDocuments=new t.TextDocuments(s)}this.notebookDocuments=new Map;this.notebookCellMap=new Map;this._onDidOpen=new e.Emitter;this._onDidChange=new e.Emitter;this._onDidSave=new e.Emitter;this._onDidClose=new e.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(s){return this._cellTextDocuments.get(s.document)}getNotebookDocument(s){return this.notebookDocuments.get(s)}getNotebookCell(s){const o=this.notebookCellMap.get(s);return o&&o[0]}findNotebookDocumentForCell(s){const o=typeof s==="string"?s:s.document;const c=this.notebookCellMap.get(o);return c&&c[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(s){const o=new r;const c=[];c.push(this.cellTextDocuments.listen(o));c.push(s.notebooks.synchronization.onDidOpenNotebookDocument(h=>{this.notebookDocuments.set(h.notebookDocument.uri,h.notebookDocument);for(const f of h.cellTextDocuments){o.openTextDocument({textDocument:f})}this.updateCellMap(h.notebookDocument);this._onDidOpen.fire(h.notebookDocument)}));c.push(s.notebooks.synchronization.onDidChangeNotebookDocument(h=>{const f=this.notebookDocuments.get(h.notebookDocument.uri);if(f===void 0){return}f.version=h.notebookDocument.version;const S=f.metadata;let g=false;const _=h.change;if(_.metadata!==void 0){g=true;f.metadata=_.metadata}const I=[];const M=[];const W=[];const C=[];if(_.cells!==void 0){const Q=_.cells;if(Q.structure!==void 0){const le=Q.structure.array;f.cells.splice(le.start,le.deleteCount,...le.cells!==void 0?le.cells:[]);if(Q.structure.didOpen!==void 0){for(const pe of Q.structure.didOpen){o.openTextDocument({textDocument:pe});I.push(pe.uri)}}if(Q.structure.didClose){for(const pe of Q.structure.didClose){o.closeTextDocument({textDocument:pe});M.push(pe.uri)}}}if(Q.data!==void 0){const le=new Map(Q.data.map(pe=>[pe.document,pe]));for(let pe=0;pe<=f.cells.length;pe++){const Oe=le.get(f.cells[pe].document);if(Oe!==void 0){const ke=f.cells.splice(pe,1,Oe);W.push({old:ke[0],new:Oe});le.delete(Oe.document);if(le.size===0){break}}}}if(Q.textContent!==void 0){for(const le of Q.textContent){o.changeTextDocument({textDocument:le.document,contentChanges:le.changes});C.push(le.document.uri)}}}this.updateCellMap(f);const T={notebookDocument:f};if(g){T.metadata={old:S,new:f.metadata}}const O=[];for(const Q of I){O.push(this.getNotebookCell(Q))}const F=[];for(const Q of M){F.push(this.getNotebookCell(Q))}const Z=[];for(const Q of C){Z.push(this.getNotebookCell(Q))}if(O.length>0||F.length>0||W.length>0||Z.length>0){T.cells={added:O,removed:F,changed:{data:W,textContent:Z}}}if(T.metadata!==void 0||T.cells!==void 0){this._onDidChange.fire(T)}}));c.push(s.notebooks.synchronization.onDidSaveNotebookDocument(h=>{const f=this.notebookDocuments.get(h.notebookDocument.uri);if(f===void 0){return}this._onDidSave.fire(f)}));c.push(s.notebooks.synchronization.onDidCloseNotebookDocument(h=>{const f=this.notebookDocuments.get(h.notebookDocument.uri);if(f===void 0){return}this._onDidClose.fire(f);for(const S of h.cellTextDocuments){o.closeTextDocument({textDocument:S})}this.notebookDocuments.delete(h.notebookDocument.uri);for(const S of f.cells){this.notebookCellMap.delete(S.document)}}));return e.Disposable.create(()=>{c.forEach(h=>h.dispose())})}updateCellMap(s){for(const o of s.cells){this.notebookCellMap.set(o.document,[o,s])}}}Nr.NotebookDocuments=i;return Nr}var Ie={};var Ze={};var Zu;function $m(){if(Zu)return Ze;Zu=1;Object.defineProperty(Ze,"__esModule",{value:true});Ze.thenable=Ze.typedArray=Ze.stringArray=Ze.array=Ze.func=Ze.error=Ze.number=Ze.string=Ze.boolean=void 0;function e(h){return h===true||h===false}Ze.boolean=e;function t(h){return typeof h==="string"||h instanceof String}Ze.string=t;function n(h){return typeof h==="number"||h instanceof Number}Ze.number=n;function r(h){return h instanceof Error}Ze.error=r;function i(h){return typeof h==="function"}Ze.func=i;function a(h){return Array.isArray(h)}Ze.array=a;function s(h){return a(h)&&h.every(f=>t(f))}Ze.stringArray=s;function o(h,f){return Array.isArray(h)&&h.every(f)}Ze.typedArray=o;function c(h){return h&&i(h.then)}Ze.thenable=c;return Ze}var qt={};var Ku;function Hm(){if(Ku)return qt;Ku=1;Object.defineProperty(qt,"__esModule",{value:true});qt.generateUuid=qt.parse=qt.isUUID=qt.v4=qt.empty=void 0;class e{constructor(c){this._value=c}asHex(){return this._value}equals(c){return this.asHex()===c.asHex()}}class t extends e{static _oneOf(c){return c[Math.floor(c.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}}t._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];t._timeHighBits=["8","9","a","b"];qt.empty=new e("00000000-0000-0000-0000-000000000000");function n(){return new t}qt.v4=n;const r=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function i(o){return r.test(o)}qt.isUUID=i;function a(o){if(!i(o)){throw new Error("invalid uuid")}return new e(o)}qt.parse=a;function s(){return n().asHex()}qt.generateUuid=s;return qt}var Wn={};var eh;function L_(){if(eh)return Wn;eh=1;Object.defineProperty(Wn,"__esModule",{value:true});Wn.attachPartialResult=Wn.ProgressFeature=Wn.attachWorkDone=void 0;const e=rt();const t=Hm();class n{constructor(g,_){this._connection=g;this._token=_;n.Instances.set(this._token,this)}begin(g,_,I,M){let W={kind:"begin",title:g,percentage:_,message:I,cancellable:M};this._connection.sendProgress(e.WorkDoneProgress.type,this._token,W)}report(g,_){let I={kind:"report"};if(typeof g==="number"){I.percentage=g;if(_!==void 0){I.message=_}}else{I.message=g}this._connection.sendProgress(e.WorkDoneProgress.type,this._token,I)}done(){n.Instances.delete(this._token);this._connection.sendProgress(e.WorkDoneProgress.type,this._token,{kind:"end"})}}n.Instances=new Map;class r extends n{constructor(g,_){super(g,_);this._source=new e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose();super.done()}cancel(){this._source.cancel()}}class i{constructor(){}begin(){}report(){}done(){}}class a extends i{constructor(){super();this._source=new e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function s(S,g){if(g===void 0||g.workDoneToken===void 0){return new i}const _=g.workDoneToken;delete g.workDoneToken;return new n(S,_)}Wn.attachWorkDone=s;const o=S=>{return class extends S{constructor(){super();this._progressSupported=false}initialize(g){super.initialize(g);if(g?.window?.workDoneProgress===true){this._progressSupported=true;this.connection.onNotification(e.WorkDoneProgressCancelNotification.type,_=>{let I=n.Instances.get(_.token);if(I instanceof r||I instanceof a){I.cancel()}})}}attachWorkDoneProgress(g){if(g===void 0){return new i}else{return new n(this.connection,g)}}createWorkDoneProgress(){if(this._progressSupported){const g=(0,t.generateUuid)();return this.connection.sendRequest(e.WorkDoneProgressCreateRequest.type,{token:g}).then(()=>{const _=new r(this.connection,g);return _})}else{return Promise.resolve(new a)}}}};Wn.ProgressFeature=o;var c;(function(S){S.type=new e.ProgressType})(c||(c={}));class h{constructor(g,_){this._connection=g;this._token=_}report(g){this._connection.sendProgress(c.type,this._token,g)}}function f(S,g){if(g===void 0||g.partialResultToken===void 0){return void 0}const _=g.partialResultToken;delete g.partialResultToken;return new h(S,_)}Wn.attachPartialResult=f;return Wn}var Li={};var th;function C_(){if(th)return Li;th=1;Object.defineProperty(Li,"__esModule",{value:true});Li.ConfigurationFeature=void 0;const e=rt();const t=$m();const n=r=>{return class extends r{getConfiguration(i){if(!i){return this._getConfiguration({})}else if(t.string(i)){return this._getConfiguration({section:i})}else{return this._getConfiguration(i)}}_getConfiguration(i){let a={items:Array.isArray(i)?i:[i]};return this.connection.sendRequest(e.ConfigurationRequest.type,a).then(s=>{if(Array.isArray(s)){return Array.isArray(i)?s:s[0]}else{return Array.isArray(i)?[]:null}})}}};Li.ConfigurationFeature=n;return Li}var Ci={};var nh;function U_(){if(nh)return Ci;nh=1;Object.defineProperty(Ci,"__esModule",{value:true});Ci.WorkspaceFoldersFeature=void 0;const e=rt();const t=n=>{return class extends n{constructor(){super();this._notificationIsAutoRegistered=false}initialize(r){super.initialize(r);let i=r.workspace;if(i&&i.workspaceFolders){this._onDidChangeWorkspaceFolders=new e.Emitter;this.connection.onNotification(e.DidChangeWorkspaceFoldersNotification.type,a=>{this._onDidChangeWorkspaceFolders.fire(a.event)})}}fillServerCapabilities(r){super.fillServerCapabilities(r);const i=r.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=i===true||typeof i==="string"}getWorkspaceFolders(){return this.connection.sendRequest(e.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders){throw new Error("Client doesn't support sending workspace folder change events.")}if(!this._notificationIsAutoRegistered&&!this._unregistration){this._unregistration=this.connection.client.register(e.DidChangeWorkspaceFoldersNotification.type)}return this._onDidChangeWorkspaceFolders.event}}};Ci.WorkspaceFoldersFeature=t;return Ci}var Ui={};var rh;function M_(){if(rh)return Ui;rh=1;Object.defineProperty(Ui,"__esModule",{value:true});Ui.CallHierarchyFeature=void 0;const e=rt();const t=n=>{return class extends n{get callHierarchy(){return{onPrepare:r=>{return this.connection.onRequest(e.CallHierarchyPrepareRequest.type,(i,a)=>{return r(i,a,this.attachWorkDoneProgress(i),void 0)})},onIncomingCalls:r=>{const i=e.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(i,(a,s)=>{return r(a,s,this.attachWorkDoneProgress(a),this.attachPartialResultProgress(i,a))})},onOutgoingCalls:r=>{const i=e.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(i,(a,s)=>{return r(a,s,this.attachWorkDoneProgress(a),this.attachPartialResultProgress(i,a))})}}}}};Ui.CallHierarchyFeature=t;return Ui}var Mi={};var ih;function w_(){if(ih)return Mi;ih=1;Object.defineProperty(Mi,"__esModule",{value:true});Mi.ShowDocumentFeature=void 0;const e=rt();const t=n=>{return class extends n{showDocument(r){return this.connection.sendRequest(e.ShowDocumentRequest.type,r)}}};Mi.ShowDocumentFeature=t;return Mi}var wi={};var ah;function G_(){if(ah)return wi;ah=1;Object.defineProperty(wi,"__esModule",{value:true});wi.FileOperationsFeature=void 0;const e=rt();const t=n=>{return class extends n{onDidCreateFiles(r){return this.connection.onNotification(e.DidCreateFilesNotification.type,i=>{r(i)})}onDidRenameFiles(r){return this.connection.onNotification(e.DidRenameFilesNotification.type,i=>{r(i)})}onDidDeleteFiles(r){return this.connection.onNotification(e.DidDeleteFilesNotification.type,i=>{r(i)})}onWillCreateFiles(r){return this.connection.onRequest(e.WillCreateFilesRequest.type,(i,a)=>{return r(i,a)})}onWillRenameFiles(r){return this.connection.onRequest(e.WillRenameFilesRequest.type,(i,a)=>{return r(i,a)})}onWillDeleteFiles(r){return this.connection.onRequest(e.WillDeleteFilesRequest.type,(i,a)=>{return r(i,a)})}}};wi.FileOperationsFeature=t;return wi}var Gi={};var sh;function F_(){if(sh)return Gi;sh=1;Object.defineProperty(Gi,"__esModule",{value:true});Gi.LinkedEditingRangeFeature=void 0;const e=rt();const t=n=>{return class extends n{onLinkedEditingRange(r){return this.connection.onRequest(e.LinkedEditingRangeRequest.type,(i,a)=>{return r(i,a,this.attachWorkDoneProgress(i),void 0)})}}};Gi.LinkedEditingRangeFeature=t;return Gi}var Fi={};var oh;function x_(){if(oh)return Fi;oh=1;Object.defineProperty(Fi,"__esModule",{value:true});Fi.TypeHierarchyFeature=void 0;const e=rt();const t=n=>{return class extends n{get typeHierarchy(){return{onPrepare:r=>{return this.connection.onRequest(e.TypeHierarchyPrepareRequest.type,(i,a)=>{return r(i,a,this.attachWorkDoneProgress(i),void 0)})},onSupertypes:r=>{const i=e.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(i,(a,s)=>{return r(a,s,this.attachWorkDoneProgress(a),this.attachPartialResultProgress(i,a))})},onSubtypes:r=>{const i=e.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(i,(a,s)=>{return r(a,s,this.attachWorkDoneProgress(a),this.attachPartialResultProgress(i,a))})}}}}};Fi.TypeHierarchyFeature=t;return Fi}var xi={};var ch;function B_(){if(ch)return xi;ch=1;Object.defineProperty(xi,"__esModule",{value:true});xi.InlineValueFeature=void 0;const e=rt();const t=n=>{return class extends n{get inlineValue(){return{refresh:()=>{return this.connection.sendRequest(e.InlineValueRefreshRequest.type)},on:r=>{return this.connection.onRequest(e.InlineValueRequest.type,(i,a)=>{return r(i,a,this.attachWorkDoneProgress(i))})}}}}};xi.InlineValueFeature=t;return xi}var Bi={};var lh;function q_(){if(lh)return Bi;lh=1;Object.defineProperty(Bi,"__esModule",{value:true});Bi.FoldingRangeFeature=void 0;const e=rt();const t=n=>{return class extends n{get foldingRange(){return{refresh:()=>{return this.connection.sendRequest(e.FoldingRangeRefreshRequest.type)},on:r=>{const i=e.FoldingRangeRequest.type;return this.connection.onRequest(i,(a,s)=>{return r(a,s,this.attachWorkDoneProgress(a),this.attachPartialResultProgress(i,a))})}}}}};Bi.FoldingRangeFeature=t;return Bi}var qi={};var uh;function W_(){if(uh)return qi;uh=1;Object.defineProperty(qi,"__esModule",{value:true});qi.InlayHintFeature=void 0;const e=rt();const t=n=>{return class extends n{get inlayHint(){return{refresh:()=>{return this.connection.sendRequest(e.InlayHintRefreshRequest.type)},on:r=>{return this.connection.onRequest(e.InlayHintRequest.type,(i,a)=>{return r(i,a,this.attachWorkDoneProgress(i))})},resolve:r=>{return this.connection.onRequest(e.InlayHintResolveRequest.type,(i,a)=>{return r(i,a)})}}}}};qi.InlayHintFeature=t;return qi}var Wi={};var hh;function V_(){if(hh)return Wi;hh=1;Object.defineProperty(Wi,"__esModule",{value:true});Wi.DiagnosticFeature=void 0;const e=rt();const t=n=>{return class extends n{get diagnostics(){return{refresh:()=>{return this.connection.sendRequest(e.DiagnosticRefreshRequest.type)},on:r=>{return this.connection.onRequest(e.DocumentDiagnosticRequest.type,(i,a)=>{return r(i,a,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(e.DocumentDiagnosticRequest.partialResult,i))})},onWorkspace:r=>{return this.connection.onRequest(e.WorkspaceDiagnosticRequest.type,(i,a)=>{return r(i,a,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(e.WorkspaceDiagnosticRequest.partialResult,i))})}}}}};Wi.DiagnosticFeature=t;return Wi}var Vi={};var mh;function $_(){if(mh)return Vi;mh=1;Object.defineProperty(Vi,"__esModule",{value:true});Vi.MonikerFeature=void 0;const e=rt();const t=n=>{return class extends n{get moniker(){return{on:r=>{const i=e.MonikerRequest.type;return this.connection.onRequest(i,(a,s)=>{return r(a,s,this.attachWorkDoneProgress(a),this.attachPartialResultProgress(i,a))})}}}}};Vi.MonikerFeature=t;return Vi}var fh;function H_(){if(fh)return Ie;fh=1;Object.defineProperty(Ie,"__esModule",{value:true});Ie.createConnection=Ie.combineFeatures=Ie.combineNotebooksFeatures=Ie.combineLanguagesFeatures=Ie.combineWorkspaceFeatures=Ie.combineWindowFeatures=Ie.combineClientFeatures=Ie.combineTracerFeatures=Ie.combineTelemetryFeatures=Ie.combineConsoleFeatures=Ie._NotebooksImpl=Ie._LanguagesImpl=Ie.BulkUnregistration=Ie.BulkRegistration=Ie.ErrorMessageTracker=void 0;const e=rt();const t=$m();const n=Hm();const r=L_();const i=C_();const a=U_();const s=M_();const o=qm();const c=w_();const h=G_();const f=F_();const S=x_();const g=B_();const _=q_();const I=W_();const M=V_();const W=Vm();const C=$_();function T(ee){if(ee===null){return void 0}return ee}class O{constructor(){this._messages=Object.create(null)}add(b){let L=this._messages[b];if(!L){L=0}L++;this._messages[b]=L}sendErrors(b){Object.keys(this._messages).forEach(L=>{b.window.showErrorMessage(L)})}}Ie.ErrorMessageTracker=O;class F{constructor(){}rawAttach(b){this._rawConnection=b}attach(b){this._connection=b}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}fillServerCapabilities(b){}initialize(b){}error(b){this.send(e.MessageType.Error,b)}warn(b){this.send(e.MessageType.Warning,b)}info(b){this.send(e.MessageType.Info,b)}log(b){this.send(e.MessageType.Log,b)}debug(b){this.send(e.MessageType.Debug,b)}send(b,L){if(this._rawConnection){this._rawConnection.sendNotification(e.LogMessageNotification.type,{type:b,message:L}).catch(()=>{(0,e.RAL)().console.error(`Sending log message failed`)})}}}class Z{constructor(){}attach(b){this._connection=b}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(b){}fillServerCapabilities(b){}showErrorMessage(b,...L){let te={type:e.MessageType.Error,message:b,actions:L};return this.connection.sendRequest(e.ShowMessageRequest.type,te).then(T)}showWarningMessage(b,...L){let te={type:e.MessageType.Warning,message:b,actions:L};return this.connection.sendRequest(e.ShowMessageRequest.type,te).then(T)}showInformationMessage(b,...L){let te={type:e.MessageType.Info,message:b,actions:L};return this.connection.sendRequest(e.ShowMessageRequest.type,te).then(T)}}const Q=(0,c.ShowDocumentFeature)((0,r.ProgressFeature)(Z));var le;(function(ee){function b(){return new pe}ee.create=b})(le||(Ie.BulkRegistration=le={}));class pe{constructor(){this._registrations=[];this._registered=new Set}add(b,L){const te=t.string(b)?b:b.method;if(this._registered.has(te)){throw new Error(`${te} is already added to this registration`)}const v=n.generateUuid();this._registrations.push({id:v,method:te,registerOptions:L||{}});this._registered.add(te)}asRegistrationParams(){return{registrations:this._registrations}}}var Oe;(function(ee){function b(){return new ke(void 0,[])}ee.create=b})(Oe||(Ie.BulkUnregistration=Oe={}));class ke{constructor(b,L){this._connection=b;this._unregistrations=new Map;L.forEach(te=>{this._unregistrations.set(te.method,te)})}get isAttached(){return!!this._connection}attach(b){this._connection=b}add(b){this._unregistrations.set(b.method,b)}dispose(){let b=[];for(let te of this._unregistrations.values()){b.push(te)}let L={unregisterations:b};this._connection.sendRequest(e.UnregistrationRequest.type,L).catch(()=>{this._connection.console.info(`Bulk unregistration failed.`)})}disposeSingle(b){const L=t.string(b)?b:b.method;const te=this._unregistrations.get(L);if(!te){return false}let v={unregisterations:[te]};this._connection.sendRequest(e.UnregistrationRequest.type,v).then(()=>{this._unregistrations.delete(L)},ye=>{this._connection.console.info(`Un-registering request handler for ${te.id} failed.`)});return true}}class V{attach(b){this._connection=b}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(b){}fillServerCapabilities(b){}register(b,L,te){if(b instanceof pe){return this.registerMany(b)}else if(b instanceof ke){return this.registerSingle1(b,L,te)}else{return this.registerSingle2(b,L)}}registerSingle1(b,L,te){const v=t.string(L)?L:L.method;const ye=n.generateUuid();let It={registrations:[{id:ye,method:v,registerOptions:te||{}}]};if(!b.isAttached){b.attach(this.connection)}return this.connection.sendRequest(e.RegistrationRequest.type,It).then(on=>{b.add({id:ye,method:v});return b},on=>{this.connection.console.info(`Registering request handler for ${v} failed.`);return Promise.reject(on)})}registerSingle2(b,L){const te=t.string(b)?b:b.method;const v=n.generateUuid();let ye={registrations:[{id:v,method:te,registerOptions:L||{}}]};return this.connection.sendRequest(e.RegistrationRequest.type,ye).then(It=>{return e.Disposable.create(()=>{this.unregisterSingle(v,te).catch(()=>{this.connection.console.info(`Un-registering capability with id ${v} failed.`)})})},It=>{this.connection.console.info(`Registering request handler for ${te} failed.`);return Promise.reject(It)})}unregisterSingle(b,L){let te={unregisterations:[{id:b,method:L}]};return this.connection.sendRequest(e.UnregistrationRequest.type,te).catch(()=>{this.connection.console.info(`Un-registering request handler for ${b} failed.`)})}registerMany(b){let L=b.asRegistrationParams();return this.connection.sendRequest(e.RegistrationRequest.type,L).then(()=>{return new ke(this._connection,L.registrations.map(te=>{return{id:te.id,method:te.method}}))},te=>{this.connection.console.info(`Bulk registration failed.`);return Promise.reject(te)})}}class P{constructor(){}attach(b){this._connection=b}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(b){}fillServerCapabilities(b){}applyEdit(b){function L(v){return v&&!!v.edit}let te=L(b)?b:{edit:b};return this.connection.sendRequest(e.ApplyWorkspaceEditRequest.type,te)}}const A=(0,h.FileOperationsFeature)((0,a.WorkspaceFoldersFeature)((0,i.ConfigurationFeature)(P)));class U{constructor(){this._trace=e.Trace.Off}attach(b){this._connection=b}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(b){}fillServerCapabilities(b){}set trace(b){this._trace=b}log(b,L){if(this._trace===e.Trace.Off){return}this.connection.sendNotification(e.LogTraceNotification.type,{message:b,verbose:this._trace===e.Trace.Verbose?L:void 0}).catch(()=>{})}}class R{constructor(){}attach(b){this._connection=b}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(b){}fillServerCapabilities(b){}logEvent(b){this.connection.sendNotification(e.TelemetryEventNotification.type,b).catch(()=>{this.connection.console.log(`Sending TelemetryEventNotification failed`)})}}class y{constructor(){}attach(b){this._connection=b}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(b){}fillServerCapabilities(b){}attachWorkDoneProgress(b){return(0,r.attachWorkDone)(this.connection,b)}attachPartialResultProgress(b,L){return(0,r.attachPartialResult)(this.connection,L)}}Ie._LanguagesImpl=y;const D=(0,_.FoldingRangeFeature)((0,C.MonikerFeature)((0,M.DiagnosticFeature)((0,I.InlayHintFeature)((0,g.InlineValueFeature)((0,S.TypeHierarchyFeature)((0,f.LinkedEditingRangeFeature)((0,o.SemanticTokensFeature)((0,s.CallHierarchyFeature)(y)))))))));class H{constructor(){}attach(b){this._connection=b}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(b){}fillServerCapabilities(b){}attachWorkDoneProgress(b){return(0,r.attachWorkDone)(this.connection,b)}attachPartialResultProgress(b,L){return(0,r.attachPartialResult)(this.connection,L)}}Ie._NotebooksImpl=H;const X=(0,W.NotebookSyncFeature)(H);function j(ee,b){return function(L){return b(ee(L))}}Ie.combineConsoleFeatures=j;function ce(ee,b){return function(L){return b(ee(L))}}Ie.combineTelemetryFeatures=ce;function ue(ee,b){return function(L){return b(ee(L))}}Ie.combineTracerFeatures=ue;function Pe(ee,b){return function(L){return b(ee(L))}}Ie.combineClientFeatures=Pe;function he(ee,b){return function(L){return b(ee(L))}}Ie.combineWindowFeatures=he;function Ve(ee,b){return function(L){return b(ee(L))}}Ie.combineWorkspaceFeatures=Ve;function Ee(ee,b){return function(L){return b(ee(L))}}Ie.combineLanguagesFeatures=Ee;function $e(ee,b){return function(L){return b(ee(L))}}Ie.combineNotebooksFeatures=$e;function st(ee,b){function L(v,ye,It){if(v&&ye){return It(v,ye)}else if(v){return v}else{return ye}}let te={__brand:"features",console:L(ee.console,b.console,j),tracer:L(ee.tracer,b.tracer,ue),telemetry:L(ee.telemetry,b.telemetry,ce),client:L(ee.client,b.client,Pe),window:L(ee.window,b.window,he),workspace:L(ee.workspace,b.workspace,Ve),languages:L(ee.languages,b.languages,Ee),notebooks:L(ee.notebooks,b.notebooks,$e)};return te}Ie.combineFeatures=st;function ve(ee,b,L){const te=L&&L.console?new(L.console(F)):new F;const v=ee(te);te.rawAttach(v);const ye=L&&L.tracer?new(L.tracer(U)):new U;const It=L&&L.telemetry?new(L.telemetry(R)):new R;const on=L&&L.client?new(L.client(V)):new V;const Qn=L&&L.window?new(L.window(Q)):new Q;const Jn=L&&L.workspace?new(L.workspace(A)):new A;const Zn=L&&L.languages?new(L.languages(D)):new D;const Ct=L&&L.notebooks?new(L.notebooks(X)):new X;const _n=[te,ye,It,on,Qn,Jn,Zn,Ct];function Vr(w){if(w instanceof Promise){return w}else if(t.thenable(w)){return new Promise((G,J)=>{w.then(Ut=>G(Ut),Ut=>J(Ut))})}else{return Promise.resolve(w)}}let Dn=void 0;let vn=void 0;let En=void 0;let Jt={listen:()=>v.listen(),sendRequest:(w,...G)=>v.sendRequest(t.string(w)?w:w.method,...G),onRequest:(w,G)=>v.onRequest(w,G),sendNotification:(w,G)=>{const J=t.string(w)?w:w.method;return v.sendNotification(J,G)},onNotification:(w,G)=>v.onNotification(w,G),onProgress:v.onProgress,sendProgress:v.sendProgress,onInitialize:w=>{vn=w;return{dispose:()=>{vn=void 0}}},onInitialized:w=>v.onNotification(e.InitializedNotification.type,w),onShutdown:w=>{Dn=w;return{dispose:()=>{Dn=void 0}}},onExit:w=>{En=w;return{dispose:()=>{En=void 0}}},get console(){return te},get telemetry(){return It},get tracer(){return ye},get client(){return on},get window(){return Qn},get workspace(){return Jn},get languages(){return Zn},get notebooks(){return Ct},onDidChangeConfiguration:w=>v.onNotification(e.DidChangeConfigurationNotification.type,w),onDidChangeWatchedFiles:w=>v.onNotification(e.DidChangeWatchedFilesNotification.type,w),__textDocumentSync:void 0,onDidOpenTextDocument:w=>v.onNotification(e.DidOpenTextDocumentNotification.type,w),onDidChangeTextDocument:w=>v.onNotification(e.DidChangeTextDocumentNotification.type,w),onDidCloseTextDocument:w=>v.onNotification(e.DidCloseTextDocumentNotification.type,w),onWillSaveTextDocument:w=>v.onNotification(e.WillSaveTextDocumentNotification.type,w),onWillSaveTextDocumentWaitUntil:w=>v.onRequest(e.WillSaveTextDocumentWaitUntilRequest.type,w),onDidSaveTextDocument:w=>v.onNotification(e.DidSaveTextDocumentNotification.type,w),sendDiagnostics:w=>v.sendNotification(e.PublishDiagnosticsNotification.type,w),onHover:w=>v.onRequest(e.HoverRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),void 0)}),onCompletion:w=>v.onRequest(e.CompletionRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onCompletionResolve:w=>v.onRequest(e.CompletionResolveRequest.type,w),onSignatureHelp:w=>v.onRequest(e.SignatureHelpRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),void 0)}),onDeclaration:w=>v.onRequest(e.DeclarationRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onDefinition:w=>v.onRequest(e.DefinitionRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onTypeDefinition:w=>v.onRequest(e.TypeDefinitionRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onImplementation:w=>v.onRequest(e.ImplementationRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onReferences:w=>v.onRequest(e.ReferencesRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onDocumentHighlight:w=>v.onRequest(e.DocumentHighlightRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onDocumentSymbol:w=>v.onRequest(e.DocumentSymbolRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onWorkspaceSymbol:w=>v.onRequest(e.WorkspaceSymbolRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onWorkspaceSymbolResolve:w=>v.onRequest(e.WorkspaceSymbolResolveRequest.type,w),onCodeAction:w=>v.onRequest(e.CodeActionRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onCodeActionResolve:w=>v.onRequest(e.CodeActionResolveRequest.type,(G,J)=>{return w(G,J)}),onCodeLens:w=>v.onRequest(e.CodeLensRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onCodeLensResolve:w=>v.onRequest(e.CodeLensResolveRequest.type,(G,J)=>{return w(G,J)}),onDocumentFormatting:w=>v.onRequest(e.DocumentFormattingRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),void 0)}),onDocumentRangeFormatting:w=>v.onRequest(e.DocumentRangeFormattingRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),void 0)}),onDocumentOnTypeFormatting:w=>v.onRequest(e.DocumentOnTypeFormattingRequest.type,(G,J)=>{return w(G,J)}),onRenameRequest:w=>v.onRequest(e.RenameRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),void 0)}),onPrepareRename:w=>v.onRequest(e.PrepareRenameRequest.type,(G,J)=>{return w(G,J)}),onDocumentLinks:w=>v.onRequest(e.DocumentLinkRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onDocumentLinkResolve:w=>v.onRequest(e.DocumentLinkResolveRequest.type,(G,J)=>{return w(G,J)}),onDocumentColor:w=>v.onRequest(e.DocumentColorRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onColorPresentation:w=>v.onRequest(e.ColorPresentationRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onFoldingRanges:w=>v.onRequest(e.FoldingRangeRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onSelectionRanges:w=>v.onRequest(e.SelectionRangeRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),(0,r.attachPartialResult)(v,G))}),onExecuteCommand:w=>v.onRequest(e.ExecuteCommandRequest.type,(G,J)=>{return w(G,J,(0,r.attachWorkDone)(v,G),void 0)}),dispose:()=>v.dispose()};for(let w of _n){w.attach(Jt)}v.onRequest(e.InitializeRequest.type,w=>{b.initialize(w);if(t.string(w.trace)){ye.trace=e.Trace.fromString(w.trace)}for(let G of _n){G.initialize(w.capabilities)}if(vn){let G=vn(w,new e.CancellationTokenSource().token,(0,r.attachWorkDone)(v,w),void 0);return Vr(G).then(J=>{if(J instanceof e.ResponseError){return J}let Ut=J;if(!Ut){Ut={capabilities:{}}}let yt=Ut.capabilities;if(!yt){yt={};Ut.capabilities=yt}if(yt.textDocumentSync===void 0||yt.textDocumentSync===null){yt.textDocumentSync=t.number(Jt.__textDocumentSync)?Jt.__textDocumentSync:e.TextDocumentSyncKind.None}else if(!t.number(yt.textDocumentSync)&&!t.number(yt.textDocumentSync.change)){yt.textDocumentSync.change=t.number(Jt.__textDocumentSync)?Jt.__textDocumentSync:e.TextDocumentSyncKind.None}for(let pr of _n){pr.fillServerCapabilities(yt)}return Ut})}else{let G={capabilities:{textDocumentSync:e.TextDocumentSyncKind.None}};for(let J of _n){J.fillServerCapabilities(G.capabilities)}return G}});v.onRequest(e.ShutdownRequest.type,()=>{b.shutdownReceived=true;if(Dn){return Dn(new e.CancellationTokenSource().token)}else{return void 0}});v.onNotification(e.ExitNotification.type,()=>{try{if(En){En()}}finally{if(b.shutdownReceived){b.exit(0)}else{b.exit(1)}}});v.onNotification(e.SetTraceNotification.type,w=>{ye.trace=e.Trace.fromString(w.value)});return Jt}Ie.createConnection=ve;return Ie}var ph;function Sh(){if(ph)return dr;ph=1;(function(e){var t=dr&&dr.__createBinding||(Object.create?function(c,h,f,S){if(S===void 0)S=f;var g=Object.getOwnPropertyDescriptor(h,f);if(!g||("get"in g?!h.__esModule:g.writable||g.configurable)){g={enumerable:true,get:function(){return h[f]}}}Object.defineProperty(c,S,g)}:function(c,h,f,S){if(S===void 0)S=f;c[S]=h[f]});var n=dr&&dr.__exportStar||function(c,h){for(var f in c)if(f!=="default"&&!Object.prototype.hasOwnProperty.call(h,f))t(h,c,f)};Object.defineProperty(e,"__esModule",{value:true});e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;const r=qm();Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:true,get:function(){return r.SemanticTokensBuilder}});const i=v_();n(rt(),e);const a=Wm();Object.defineProperty(e,"TextDocuments",{enumerable:true,get:function(){return a.TextDocuments}});const s=Vm();Object.defineProperty(e,"NotebookDocuments",{enumerable:true,get:function(){return s.NotebookDocuments}});n(H_(),e);var o;(function(c){c.all={__brand:"features",languages:i.InlineCompletionFeature}})(o||(e.ProposedFeatures=o={}))})(dr);return dr}var Eo;var gh;function j_(){if(gh)return Eo;gh=1;Eo=rt();return Eo}var dh;function jm(){if(dh)return gr;dh=1;(function(e){var t=gr&&gr.__createBinding||(Object.create?function(o,c,h,f){if(f===void 0)f=h;var S=Object.getOwnPropertyDescriptor(c,h);if(!S||("get"in S?!c.__esModule:S.writable||S.configurable)){S={enumerable:true,get:function(){return c[h]}}}Object.defineProperty(o,f,S)}:function(o,c,h,f){if(f===void 0)f=h;o[f]=c[h]});var n=gr&&gr.__exportStar||function(o,c){for(var h in o)if(h!=="default"&&!Object.prototype.hasOwnProperty.call(c,h))t(c,o,h)};Object.defineProperty(e,"__esModule",{value:true});e.createConnection=void 0;const r=Sh();n(j_(),e);n(Sh(),e);let i=false;const a={initialize:o=>{},get shutdownReceived(){return i},set shutdownReceived(o){i=o},exit:o=>{}};function s(o,c,h,f){let S;let g;let _;let I;if(o!==void 0&&o.__brand==="features"){S=o;o=c;c=h;h=f}if(r.ConnectionStrategy.is(o)||r.ConnectionOptions.is(o)){I=o}else{g=o;_=c;I=h}const M=W=>{return(0,r.createProtocolConnection)(g,_,W,I)};return(0,r.createConnection)(M,a,S)}e.createConnection=s})(gr);return gr}var Ao;var _h;function z_(){if(_h)return Ao;_h=1;Ao=jm();return Ao}var Rl=z_();class Y_{readFileSync(t){return""}fileExistsSync(t){return false}writeFileSync(t,n){return}}const X_=new Y_;let Xr=X_;var m;(function(e){e[e["ActivateStatement"]=0]="ActivateStatement";e[e["ActivateItem"]=1]="ActivateItem";e[e["DeactivateStatement"]=2]="DeactivateStatement";e[e["TokenStatement"]=3]="TokenStatement";e[e["AFormatItem"]=4]="AFormatItem";e[e["AllocateDimension"]=5]="AllocateDimension";e[e["AllocatedVariable"]=6]="AllocatedVariable";e[e["AllocateLocationReferenceIn"]=7]="AllocateLocationReferenceIn";e[e["AllocateLocationReferenceSet"]=8]="AllocateLocationReferenceSet";e[e["AllocateStatement"]=9]="AllocateStatement";e[e["AllocateType"]=10]="AllocateType";e[e["AssertStatement"]=11]="AssertStatement";e[e["AssignmentStatement"]=12]="AssignmentStatement";e[e["AttachStatement"]=13]="AttachStatement";e[e["BeginStatement"]=14]="BeginStatement";e[e["BFormatItem"]=15]="BFormatItem";e[e["BinaryExpression"]=16]="BinaryExpression";e[e["Bound"]=17]="Bound";e[e["CallStatement"]=18]="CallStatement";e[e["CancelThreadStatement"]=19]="CancelThreadStatement";e[e["CFormatItem"]=20]="CFormatItem";e[e["CloseStatement"]=21]="CloseStatement";e[e["CMPATOptionsItem"]=22]="CMPATOptionsItem";e[e["ColumnFormatItem"]=23]="ColumnFormatItem";e[e["CompilerOptions"]=24]="CompilerOptions";e[e["CompilerOption"]=25]="CompilerOption";e[e["CompilerOptionString"]=26]="CompilerOptionString";e[e["CompilerOptionText"]=27]="CompilerOptionText";e[e["ComputationDataAttribute"]=28]="ComputationDataAttribute";e[e["ConditionPrefix"]=29]="ConditionPrefix";e[e["ConditionPrefixItem"]=30]="ConditionPrefixItem";e[e["DataSpecificationDataList"]=31]="DataSpecificationDataList";e[e["DataSpecificationDataListItem"]=32]="DataSpecificationDataListItem";e[e["DataSpecificationOptions"]=33]="DataSpecificationOptions";e[e["DateAttribute"]=34]="DateAttribute";e[e["DeclaredItem"]=35]="DeclaredItem";e[e["WildcardItem"]=36]="WildcardItem";e[e["DeclaredVariable"]=37]="DeclaredVariable";e[e["DeclareStatement"]=38]="DeclareStatement";e[e["DefaultAttributeExpression"]=39]="DefaultAttributeExpression";e[e["DefaultAttributeExpressionNot"]=40]="DefaultAttributeExpressionNot";e[e["DefaultExpression"]=41]="DefaultExpression";e[e["DefaultExpressionPart"]=42]="DefaultExpressionPart";e[e["DefaultRangeIdentifierItem"]=43]="DefaultRangeIdentifierItem";e[e["DefaultRangeIdentifiers"]=44]="DefaultRangeIdentifiers";e[e["DefaultStatement"]=45]="DefaultStatement";e[e["DefaultValueAttribute"]=46]="DefaultValueAttribute";e[e["DefaultValueAttributeItem"]=47]="DefaultValueAttributeItem";e[e["DefineAliasStatement"]=48]="DefineAliasStatement";e[e["DefinedAttribute"]=49]="DefinedAttribute";e[e["DefineOrdinalStatement"]=50]="DefineOrdinalStatement";e[e["DefineStructureStatement"]=51]="DefineStructureStatement";e[e["DelayStatement"]=52]="DelayStatement";e[e["DeleteStatement"]=53]="DeleteStatement";e[e["DetachStatement"]=54]="DetachStatement";e[e["DimensionBound"]=55]="DimensionBound";e[e["Dimensions"]=56]="Dimensions";e[e["DimensionsDataAttribute"]=57]="DimensionsDataAttribute";e[e["DisplayStatement"]=58]="DisplayStatement";e[e["DoSpecification"]=59]="DoSpecification";e[e["DoStatement"]=60]="DoStatement";e[e["DoType3"]=61]="DoType3";e[e["DoType3Variable"]=62]="DoType3Variable";e[e["DoUntil"]=63]="DoUntil";e[e["DoWhile"]=64]="DoWhile";e[e["EFormatItem"]=65]="EFormatItem";e[e["EndStatement"]=66]="EndStatement";e[e["EntryAttribute"]=67]="EntryAttribute";e[e["EntryParameterDescription"]=68]="EntryParameterDescription";e[e["EntryStatement"]=69]="EntryStatement";e[e["EntryUnionDescription"]=70]="EntryUnionDescription";e[e["EnvironmentAttribute"]=71]="EnvironmentAttribute";e[e["EnvironmentAttributeItem"]=72]="EnvironmentAttributeItem";e[e["ExecStatement"]=73]="ExecStatement";e[e["ExitStatement"]=74]="ExitStatement";e[e["Exports"]=75]="Exports";e[e["FetchEntry"]=76]="FetchEntry";e[e["FetchStatement"]=77]="FetchStatement";e[e["FFormatItem"]=78]="FFormatItem";e[e["FileReferenceCondition"]=79]="FileReferenceCondition";e[e["FlushStatement"]=80]="FlushStatement";e[e["FormatList"]=81]="FormatList";e[e["FormatListItem"]=82]="FormatListItem";e[e["FormatListItemLevel"]=83]="FormatListItemLevel";e[e["FormatStatement"]=84]="FormatStatement";e[e["FreeStatement"]=85]="FreeStatement";e[e["GetCopy"]=86]="GetCopy";e[e["GetFile"]=87]="GetFile";e[e["GetFileStatement"]=88]="GetFileStatement";e[e["GetSkip"]=89]="GetSkip";e[e["GetStringStatement"]=90]="GetStringStatement";e[e["GFormatItem"]=91]="GFormatItem";e[e["GoToStatement"]=92]="GoToStatement";e[e["GenericAttribute"]=93]="GenericAttribute";e[e["GenericReference"]=94]="GenericReference";e[e["GenericDescriptor"]=95]="GenericDescriptor";e[e["HandleAttribute"]=96]="HandleAttribute";e[e["IfStatement"]=97]="IfStatement";e[e["IncludeDirective"]=98]="IncludeDirective";e[e["IncludeItem"]=99]="IncludeItem";e[e["IndForAttribute"]=100]="IndForAttribute";e[e["InitAcrossExpression"]=101]="InitAcrossExpression";e[e["InitialAttribute"]=102]="InitialAttribute";e[e["InitialAttributeItemStar"]=103]="InitialAttributeItemStar";e[e["InitialAttributeSpecification"]=104]="InitialAttributeSpecification";e[e["InitialAttributeSpecificationIterationValue"]=105]="InitialAttributeSpecificationIterationValue";e[e["InitialToContent"]=106]="InitialToContent";e[e["IterateStatement"]=107]="IterateStatement";e[e["KeywordCondition"]=108]="KeywordCondition";e[e["LabelPrefix"]=109]="LabelPrefix";e[e["LabelReference"]=110]="LabelReference";e[e["LeaveStatement"]=111]="LeaveStatement";e[e["LFormatItem"]=112]="LFormatItem";e[e["LikeAttribute"]=113]="LikeAttribute";e[e["LineDirective"]=114]="LineDirective";e[e["LineFormatItem"]=115]="LineFormatItem";e[e["LinkageOptionsItem"]=116]="LinkageOptionsItem";e[e["Literal"]=117]="Literal";e[e["LocateStatement"]=118]="LocateStatement";e[e["LocateStatementOption"]=119]="LocateStatementOption";e[e["LocatorCall"]=120]="LocatorCall";e[e["MemberCall"]=121]="MemberCall";e[e["NamedCondition"]=122]="NamedCondition";e[e["NoMapOptionsItem"]=123]="NoMapOptionsItem";e[e["NoPrintDirective"]=124]="NoPrintDirective";e[e["NoteDirective"]=125]="NoteDirective";e[e["NullStatement"]=126]="NullStatement";e[e["NumberLiteral"]=127]="NumberLiteral";e[e["OnStatement"]=128]="OnStatement";e[e["OpenOptionsGroup"]=129]="OpenOptionsGroup";e[e["OpenOption"]=130]="OpenOption";e[e["OpenStatement"]=131]="OpenStatement";e[e["Options"]=132]="Options";e[e["OrdinalTypeAttribute"]=133]="OrdinalTypeAttribute";e[e["OrdinalValue"]=134]="OrdinalValue";e[e["OrdinalValueList"]=135]="OrdinalValueList";e[e["OtherwiseStatement"]=136]="OtherwiseStatement";e[e["Package"]=137]="Package";e[e["PageDirective"]=138]="PageDirective";e[e["PageFormatItem"]=139]="PageFormatItem";e[e["Parenthesis"]=140]="Parenthesis";e[e["PFormatItem"]=141]="PFormatItem";e[e["PictureAttribute"]=142]="PictureAttribute";e[e["PliProgram"]=143]="PliProgram";e[e["PopDirective"]=144]="PopDirective";e[e["PrefixedAttribute"]=145]="PrefixedAttribute";e[e["PrintDirective"]=146]="PrintDirective";e[e["ProcedureCall"]=147]="ProcedureCall";e[e["ProcedureCallArgs"]=148]="ProcedureCallArgs";e[e["ProcedureParameter"]=149]="ProcedureParameter";e[e["ProcedureStatement"]=150]="ProcedureStatement";e[e["ProcedureOrderOption"]=151]="ProcedureOrderOption";e[e["ProcedureRecursiveOption"]=152]="ProcedureRecursiveOption";e[e["ProcedureScopeOption"]=153]="ProcedureScopeOption";e[e["EnvironmentOption"]=154]="EnvironmentOption";e[e["ProcessDirective"]=155]="ProcessDirective";e[e["ProcincDirective"]=156]="ProcincDirective";e[e["PushDirective"]=157]="PushDirective";e[e["PutFileStatement"]=158]="PutFileStatement";e[e["PutItem"]=159]="PutItem";e[e["PutStringStatement"]=160]="PutStringStatement";e[e["QualifyStatement"]=161]="QualifyStatement";e[e["ReadStatement"]=162]="ReadStatement";e[e["ReadStatementOption"]=163]="ReadStatementOption";e[e["ReferenceItem"]=164]="ReferenceItem";e[e["ReinitStatement"]=165]="ReinitStatement";e[e["ReleaseStatement"]=166]="ReleaseStatement";e[e["Reserves"]=167]="Reserves";e[e["ResignalStatement"]=168]="ResignalStatement";e[e["ReturnsAttribute"]=169]="ReturnsAttribute";e[e["ReturnsOption"]=170]="ReturnsOption";e[e["ReturnStatement"]=171]="ReturnStatement";e[e["RevertStatement"]=172]="RevertStatement";e[e["RewriteStatement"]=173]="RewriteStatement";e[e["RewriteStatementOption"]=174]="RewriteStatementOption";e[e["RFormatItem"]=175]="RFormatItem";e[e["SelectStatement"]=176]="SelectStatement";e[e["SignalStatement"]=177]="SignalStatement";e[e["SimpleOptionsItem"]=178]="SimpleOptionsItem";e[e["SkipDirective"]=179]="SkipDirective";e[e["SkipFormatItem"]=180]="SkipFormatItem";e[e["Statement"]=181]="Statement";e[e["StopStatement"]=182]="StopStatement";e[e["StringLiteral"]=183]="StringLiteral";e[e["SubStructure"]=184]="SubStructure";e[e["TypeAttribute"]=185]="TypeAttribute";e[e["UnaryExpression"]=186]="UnaryExpression";e[e["ValueAttribute"]=187]="ValueAttribute";e[e["ValueListAttribute"]=188]="ValueListAttribute";e[e["ValueListFromAttribute"]=189]="ValueListFromAttribute";e[e["ValueRangeAttribute"]=190]="ValueRangeAttribute";e[e["VFormatItem"]=191]="VFormatItem";e[e["WaitStatement"]=192]="WaitStatement";e[e["WhenStatement"]=193]="WhenStatement";e[e["WriteStatement"]=194]="WriteStatement";e[e["WriteStatementOption"]=195]="WriteStatementOption";e[e["XFormatItem"]=196]="XFormatItem"})(m||(m={}));function ln(e,t,n=false){return{owner:e,text:t.image,token:t,node:void 0,preprocessor:n}}function Q_(){return{kind:m.ActivateStatement,container:null,items:[]}}function J_(){return{kind:m.ActivateItem,container:null,reference:null,scanMode:null}}function Z_(){return{kind:m.DeactivateStatement,container:null,references:[]}}function K_(){return{kind:m.TokenStatement,container:null,tokens:[]}}function eE(){return{kind:m.AFormatItem,container:null,fieldWidth:null}}function tE(){return{kind:m.AssignmentStatement,container:null,refs:[],operator:null,expression:null,dimacrossExpr:null}}function Eh(){return{kind:m.Bound,container:null,expression:null,refer:null}}function Ah(){return{kind:m.ComputationDataAttribute,container:null,type:null,dimensions:null}}function zm(){return{kind:m.DeclaredItem,container:null,level:null,levelToken:null,elements:[],attributes:[]}}function Ym(){return{kind:m.DeclaredVariable,container:null,nameToken:null,name:null}}function nE(){return{kind:m.DeclareStatement,container:null,items:[],xDeclare:false}}function rE(){return{kind:m.DimensionBound,container:null,lower:null,upper:null}}function iE(){return{kind:m.Dimensions,container:null,dimensions:[]}}function Xm(){return{kind:m.DoStatement,container:null,statements:[],end:null,doType2:null,doType3:null,doType4:false}}function aE(){return{kind:m.DoType3,container:null,variable:null,specifications:[]}}function Qm(){return{kind:m.DoUntil,container:null,until:null,while:null}}function Jm(){return{kind:m.DoWhile,container:null,while:null,until:null}}function sE(){return{kind:m.GoToStatement,container:null,label:null}}function oE(){return{kind:m.IfStatement,container:null,expression:null,unit:null,else:null,unitRange:null,elseRange:null}}function cE(){return{kind:m.IncludeDirective,container:null,items:[]}}function lE(){return{kind:m.IncludeItem,container:null,file:null,string:false,ddname:false,result:null}}function uE(){return{kind:m.IterateStatement,container:null,label:null}}function hE(){return{kind:m.LabelPrefix,container:null,nameToken:null,name:null}}function mE(){return{kind:m.LabelReference,container:null,label:null}}function fE(){return{kind:m.LeaveStatement,container:null,label:null}}function Ih(){return{kind:m.Literal,container:null,multiplier:null,value:null}}function pE(){return{kind:m.LocatorCall,container:null,element:null,previous:null,pointer:false,handle:false}}function SE(){return{kind:m.MemberCall,container:null,element:null,previous:null}}function gE(){return{kind:m.NoPrintDirective,container:null}}function dE(){return{kind:m.NumberLiteral,container:null,value:null}}function _E(){return{kind:m.PageDirective,container:null}}function EE(){return{kind:m.PopDirective,container:null}}function AE(){return{kind:m.PrintDirective,container:null}}function Zm(){return{kind:m.ProcedureParameter,container:null,name:null,nameToken:null}}function Km(){return{kind:m.ProcedureStatement,container:null,xProc:false,statement:false,parameters:[],statements:[],options:[],end:null}}function IE(){return{kind:m.ProcedureOrderOption,container:null,order:null}}function OE(){return{kind:m.ProcedureRecursiveOption,container:null}}function RE(){return{kind:m.ProcedureScopeOption,container:null,scope:null}}function PE(){return{kind:m.EnvironmentOption,container:null,environment:null}}function TE(){return{kind:m.PushDirective,container:null}}function yE(){return{kind:m.ReferenceItem,container:null,ref:null,dimensions:null}}function bE(){return{kind:m.ReturnsOption,container:null,returnAttributes:[]}}function NE(){return{kind:m.ReturnStatement,container:null,expression:null}}function kE(){return{kind:m.SkipDirective,container:null,lines:null,lineCount:1}}function Oh(){return{kind:m.Statement,container:null,condition:null,labels:[],value:null}}function ef(){return{kind:m.StringLiteral,container:null,value:null,tokens:[]}}var tf;(()=>{var e={975:V=>{function P(R){if("string"!=typeof R)throw new TypeError("Path must be a string. Received "+JSON.stringify(R))}function A(R,y){for(var D,H="",X=0,j=-1,ce=0,ue=0;ue<=R.length;++ue){if(ue<R.length)D=R.charCodeAt(ue);else{if(47===D)break;D=47}if(47===D){if(j===ue-1||1===ce);else if(j!==ue-1&&2===ce){if(H.length<2||2!==X||46!==H.charCodeAt(H.length-1)||46!==H.charCodeAt(H.length-2)){if(H.length>2){var Pe=H.lastIndexOf("/");if(Pe!==H.length-1){-1===Pe?(H="",X=0):X=(H=H.slice(0,Pe)).length-1-H.lastIndexOf("/"),j=ue,ce=0;continue}}else if(2===H.length||1===H.length){H="",X=0,j=ue,ce=0;continue}}y&&(H.length>0?H+="/..":H="..",X=2)}else H.length>0?H+="/"+R.slice(j+1,ue):H=R.slice(j+1,ue),X=ue-j-1;j=ue,ce=0}else 46===D&&-1!==ce?++ce:ce=-1}return H}var U={resolve:function(){for(var R,y="",D=false,H=arguments.length-1;H>=-1&&!D;H--){var X;H>=0?X=arguments[H]:(void 0===R&&(R=process.cwd()),X=R),P(X),0!==X.length&&(y=X+"/"+y,D=47===X.charCodeAt(0))}return y=A(y,!D),D?y.length>0?"/"+y:"/":y.length>0?y:"."},normalize:function(R){if(P(R),0===R.length)return".";var y=47===R.charCodeAt(0),D=47===R.charCodeAt(R.length-1);return 0!==(R=A(R,!y)).length||y||(R="."),R.length>0&&D&&(R+="/"),y?"/"+R:R},isAbsolute:function(R){return P(R),R.length>0&&47===R.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var R,y=0;y<arguments.length;++y){var D=arguments[y];P(D),D.length>0&&(void 0===R?R=D:R+="/"+D)}return void 0===R?".":U.normalize(R)},relative:function(R,y){if(P(R),P(y),R===y)return"";if((R=U.resolve(R))===(y=U.resolve(y)))return"";for(var D=1;D<R.length&&47===R.charCodeAt(D);++D);for(var H=R.length,X=H-D,j=1;j<y.length&&47===y.charCodeAt(j);++j);for(var ce=y.length-j,ue=X<ce?X:ce,Pe=-1,he=0;he<=ue;++he){if(he===ue){if(ce>ue){if(47===y.charCodeAt(j+he))return y.slice(j+he+1);if(0===he)return y.slice(j+he)}else X>ue&&(47===R.charCodeAt(D+he)?Pe=he:0===he&&(Pe=0));break}var Ve=R.charCodeAt(D+he);if(Ve!==y.charCodeAt(j+he))break;47===Ve&&(Pe=he)}var Ee="";for(he=D+Pe+1;he<=H;++he)he!==H&&47!==R.charCodeAt(he)||(0===Ee.length?Ee+="..":Ee+="/..");return Ee.length>0?Ee+y.slice(j+Pe):(j+=Pe,47===y.charCodeAt(j)&&++j,y.slice(j))},_makeLong:function(R){return R},dirname:function(R){if(P(R),0===R.length)return".";for(var y=R.charCodeAt(0),D=47===y,H=-1,X=true,j=R.length-1;j>=1;--j)if(47===(y=R.charCodeAt(j))){if(!X){H=j;break}}else X=false;return-1===H?D?"/":".":D&&1===H?"//":R.slice(0,H)},basename:function(R,y){if(void 0!==y&&"string"!=typeof y)throw new TypeError('"ext" argument must be a string');P(R);var D,H=0,X=-1,j=true;if(void 0!==y&&y.length>0&&y.length<=R.length){if(y.length===R.length&&y===R)return"";var ce=y.length-1,ue=-1;for(D=R.length-1;D>=0;--D){var Pe=R.charCodeAt(D);if(47===Pe){if(!j){H=D+1;break}}else-1===ue&&(j=false,ue=D+1),ce>=0&&(Pe===y.charCodeAt(ce)?-1==--ce&&(X=D):(ce=-1,X=ue))}return H===X?X=ue:-1===X&&(X=R.length),R.slice(H,X)}for(D=R.length-1;D>=0;--D)if(47===R.charCodeAt(D)){if(!j){H=D+1;break}}else-1===X&&(j=false,X=D+1);return-1===X?"":R.slice(H,X)},extname:function(R){P(R);for(var y=-1,D=0,H=-1,X=true,j=0,ce=R.length-1;ce>=0;--ce){var ue=R.charCodeAt(ce);if(47!==ue)-1===H&&(X=false,H=ce+1),46===ue?-1===y?y=ce:1!==j&&(j=1):-1!==y&&(j=-1);else if(!X){D=ce+1;break}}return-1===y||-1===H||0===j||1===j&&y===H-1&&y===D+1?"":R.slice(y,H)},format:function(R){if(null===R||"object"!=typeof R)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof R);return function(y,D){var H=D.dir||D.root,X=D.base||(D.name||"")+(D.ext||"");return H?H===D.root?H+X:H+"/"+X:X}(0,R)},parse:function(R){P(R);var y={root:"",dir:"",base:"",ext:"",name:""};if(0===R.length)return y;var D,H=R.charCodeAt(0),X=47===H;X?(y.root="/",D=1):D=0;for(var j=-1,ce=0,ue=-1,Pe=true,he=R.length-1,Ve=0;he>=D;--he)if(47!==(H=R.charCodeAt(he)))-1===ue&&(Pe=false,ue=he+1),46===H?-1===j?j=he:1!==Ve&&(Ve=1):-1!==j&&(Ve=-1);else if(!Pe){ce=he+1;break}return-1===j||-1===ue||0===Ve||1===Ve&&j===ue-1&&j===ce+1?-1!==ue&&(y.base=y.name=0===ce&&X?R.slice(1,ue):R.slice(ce,ue)):(0===ce&&X?(y.name=R.slice(1,j),y.base=R.slice(1,ue)):(y.name=R.slice(ce,j),y.base=R.slice(ce,ue)),y.ext=R.slice(j,ue)),ce>0?y.dir=R.slice(0,ce-1):X&&(y.dir="/"),y},sep:"/",delimiter:":",win32:null,posix:null};U.posix=U,V.exports=U}},t={};function n(V){var P=t[V];if(void 0!==P)return P.exports;var A=t[V]={exports:{}};return e[V](A,A.exports,n),A.exports}n.d=(V,P)=>{for(var A in P)n.o(P,A)&&!n.o(V,A)&&Object.defineProperty(V,A,{enumerable:true,get:P[A]})},n.o=(V,P)=>Object.prototype.hasOwnProperty.call(V,P),n.r=V=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(V,"__esModule",{value:true})};var r={};let i;if(n.r(r),n.d(r,{URI:()=>g,Utils:()=>ke}),"object"==typeof process)i="win32"===process.platform;else if("object"==typeof navigator){let V=navigator.userAgent;i=V.indexOf("Windows")>=0}const a=/^\w[\w\d+.-]*$/,s=/^\//,o=/^\/\//;function c(V,P){if(!V.scheme&&P)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${V.authority}", path: "${V.path}", query: "${V.query}", fragment: "${V.fragment}"}`);if(V.scheme&&!a.test(V.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(V.path){if(V.authority){if(!s.test(V.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(V.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const h="",f="/",S=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class g{static isUri(P){return P instanceof g||!!P&&"string"==typeof P.authority&&"string"==typeof P.fragment&&"string"==typeof P.path&&"string"==typeof P.query&&"string"==typeof P.scheme&&"string"==typeof P.fsPath&&"function"==typeof P.with&&"function"==typeof P.toString}scheme;authority;path;query;fragment;constructor(P,A,U,R,y,D=false){"object"==typeof P?(this.scheme=P.scheme||h,this.authority=P.authority||h,this.path=P.path||h,this.query=P.query||h,this.fragment=P.fragment||h):(this.scheme=function(H,X){return H||X?H:"file"}(P,D),this.authority=A||h,this.path=function(H,X){switch(H){case"https":case"http":case"file":X?X[0]!==f&&(X=f+X):X=f}return X}(this.scheme,U||h),this.query=R||h,this.fragment=y||h,c(this,D))}get fsPath(){return T(this)}with(P){if(!P)return this;let{scheme:A,authority:U,path:R,query:y,fragment:D}=P;return void 0===A?A=this.scheme:null===A&&(A=h),void 0===U?U=this.authority:null===U&&(U=h),void 0===R?R=this.path:null===R&&(R=h),void 0===y?y=this.query:null===y&&(y=h),void 0===D?D=this.fragment:null===D&&(D=h),A===this.scheme&&U===this.authority&&R===this.path&&y===this.query&&D===this.fragment?this:new I(A,U,R,y,D)}static parse(P,A=false){const U=S.exec(P);return U?new I(U[2]||h,Q(U[4]||h),Q(U[5]||h),Q(U[7]||h),Q(U[9]||h),A):new I(h,h,h,h,h)}static file(P){let A=h;if(i&&(P=P.replace(/\\/g,f)),P[0]===f&&P[1]===f){const U=P.indexOf(f,2);-1===U?(A=P.substring(2),P=f):(A=P.substring(2,U),P=P.substring(U)||f)}return new I("file",A,P,h,h)}static from(P){const A=new I(P.scheme,P.authority,P.path,P.query,P.fragment);return c(A,true),A}toString(P=false){return O(this,P)}toJSON(){return this}static revive(P){if(P){if(P instanceof g)return P;{const A=new I(P);return A._formatted=P.external,A._fsPath=P._sep===_?P.fsPath:null,A}}return P}}const _=i?1:void 0;class I extends g{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=T(this)),this._fsPath}toString(P=false){return P?O(this,true):(this._formatted||(this._formatted=O(this,false)),this._formatted)}toJSON(){const P={$mid:1};return this._fsPath&&(P.fsPath=this._fsPath,P._sep=_),this._formatted&&(P.external=this._formatted),this.path&&(P.path=this.path),this.scheme&&(P.scheme=this.scheme),this.authority&&(P.authority=this.authority),this.query&&(P.query=this.query),this.fragment&&(P.fragment=this.fragment),P}}const M={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function W(V,P,A){let U,R=-1;for(let y=0;y<V.length;y++){const D=V.charCodeAt(y);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||45===D||46===D||95===D||126===D||P&&47===D||A&&91===D||A&&93===D||A&&58===D)-1!==R&&(U+=encodeURIComponent(V.substring(R,y)),R=-1),void 0!==U&&(U+=V.charAt(y));else{void 0===U&&(U=V.substr(0,y));const H=M[D];void 0!==H?(-1!==R&&(U+=encodeURIComponent(V.substring(R,y)),R=-1),U+=H):-1===R&&(R=y)}}return-1!==R&&(U+=encodeURIComponent(V.substring(R))),void 0!==U?U:V}function C(V){let P;for(let A=0;A<V.length;A++){const U=V.charCodeAt(A);35===U||63===U?(void 0===P&&(P=V.substr(0,A)),P+=M[U]):void 0!==P&&(P+=V[A])}return void 0!==P?P:V}function T(V,P){let A;return A=V.authority&&V.path.length>1&&"file"===V.scheme?`//${V.authority}${V.path}`:47===V.path.charCodeAt(0)&&(V.path.charCodeAt(1)>=65&&V.path.charCodeAt(1)<=90||V.path.charCodeAt(1)>=97&&V.path.charCodeAt(1)<=122)&&58===V.path.charCodeAt(2)?V.path[1].toLowerCase()+V.path.substr(2):V.path,i&&(A=A.replace(/\//g,"\\")),A}function O(V,P){const A=P?C:W;let U="",{scheme:R,authority:y,path:D,query:H,fragment:X}=V;if(R&&(U+=R,U+=":"),(y||"file"===R)&&(U+=f,U+=f),y){let j=y.indexOf("@");if(-1!==j){const ce=y.substr(0,j);y=y.substr(j+1),j=ce.lastIndexOf(":"),-1===j?U+=A(ce,false,false):(U+=A(ce.substr(0,j),false,false),U+=":",U+=A(ce.substr(j+1),false,true)),U+="@"}y=y.toLowerCase(),j=y.lastIndexOf(":"),-1===j?U+=A(y,false,true):(U+=A(y.substr(0,j),false,true),U+=y.substr(j))}if(D){if(D.length>=3&&47===D.charCodeAt(0)&&58===D.charCodeAt(2)){const j=D.charCodeAt(1);j>=65&&j<=90&&(D=`/${String.fromCharCode(j+32)}:${D.substr(3)}`)}else if(D.length>=2&&58===D.charCodeAt(1)){const j=D.charCodeAt(0);j>=65&&j<=90&&(D=`${String.fromCharCode(j+32)}:${D.substr(2)}`)}U+=A(D,true,false)}return H&&(U+="?",U+=A(H,false,false)),X&&(U+="#",U+=P?X:W(X,false,false)),U}function F(V){try{return decodeURIComponent(V)}catch{return V.length>3?V.substr(0,3)+F(V.substr(3)):V}}const Z=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Q(V){return V.match(Z)?V.replace(Z,P=>F(P)):V}var le=n(975);const pe=le.posix||le,Oe="/";var ke;!function(V){V.joinPath=function(P,...A){return P.with({path:pe.join(P.path,...A)})},V.resolvePath=function(P,...A){let U=P.path,R=false;U[0]!==Oe&&(U=Oe+U,R=true);let y=pe.resolve(U,...A);return R&&y[0]===Oe&&!P.authority&&(y=y.substring(1)),P.with({path:y})},V.dirname=function(P){if(0===P.path.length||P.path===Oe)return P;let A=pe.dirname(P.path);return 1===A.length&&46===A.charCodeAt(0)&&(A=""),P.with({path:A})},V.basename=function(P){return pe.basename(P.path)},V.extname=function(P){return pe.extname(P.path)}}(ke||(ke={})),tf=r})();const{URI:ht,Utils:$i}=tf;var Ot;(function(e){e.basename=$i.basename;e.dirname=$i.dirname;e.extname=$i.extname;e.joinPath=$i.joinPath;e.resolvePath=$i.resolvePath;const t=typeof process==="object"&&process?.platform==="win32";function n(a,s){return a?.toString()===s?.toString()}e.equals=n;function r(a,s){const o=typeof a==="string"?ht.parse(a).path:a.path;const c=typeof s==="string"?ht.parse(s).path:s.path;const h=o.split("/").filter(I=>I.length>0);const f=c.split("/").filter(I=>I.length>0);if(t){const I=/^[A-Z]:$/;if(h[0]&&I.test(h[0])){h[0]=h[0].toLowerCase()}if(f[0]&&I.test(f[0])){f[0]=f[0].toLowerCase()}if(h[0]!==f[0]){return c.substring(1)}}let S=0;for(;S<h.length;S++){if(h[S]!==f[S]){break}}const g="../".repeat(h.length-S);const _=f.slice(S).join("/");return g+_}e.relative=r;function i(a){return ht.parse(a.toString()).toString()}e.normalize=i})(Ot||(Ot={}));var Zt=jm();class pa{constructor(t,n,r,i){this._uri=t;this._languageId=n;this._version=r;this._content=i;this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){const n=this.offsetAt(t.start);const r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){for(const r of t){if(pa.isIncremental(r)){const i=rf(r.range);const a=this.offsetAt(i.start);const s=this.offsetAt(i.end);this._content=this._content.substring(0,a)+r.text+this._content.substring(s,this._content.length);const o=Math.max(i.start.line,0);const c=Math.max(i.end.line,0);let h=this._lineOffsets;const f=Rh(r.text,false,a);if(c-o===f.length){for(let g=0,_=f.length;g<_;g++){h[g+o+1]=f[g]}}else{if(f.length<1e4){h.splice(o+1,c-o,...f)}else{this._lineOffsets=h=h.slice(0,o+1).concat(f,h.slice(c+1))}}const S=r.text.length-(s-a);if(S!==0){for(let g=o+1+f.length,_=h.length;g<_;g++){h[g]=h[g]+S}}}else if(pa.isFull(r)){this._content=r.text;this._lineOffsets=void 0}else{throw new Error("Unknown change event received")}}this._version=n}getLineOffsets(){if(this._lineOffsets===void 0){this._lineOffsets=Rh(this._content,true)}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);const n=this.getLineOffsets();let r=0,i=n.length;if(i===0){return{line:0,character:t}}while(r<i){const s=Math.floor((r+i)/2);if(n[s]>t){i=s}else{r=s+1}}const a=r-1;t=this.ensureBeforeEOL(t,n[a]);return{line:a,character:t-n[a]}}offsetAt(t){const n=this.getLineOffsets();if(t.line>=n.length){return this._content.length}else if(t.line<0){return 0}const r=n[t.line];if(t.character<=0){return r}const i=t.line+1<n.length?n[t.line+1]:this._content.length;const a=Math.min(r+t.character,i);return this.ensureBeforeEOL(a,r)}ensureBeforeEOL(t,n){while(t>n&&nf(this._content.charCodeAt(t-1))){t--}return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){const n=t;return n!==void 0&&n!==null&&typeof n.text==="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength==="number")}static isFull(t){const n=t;return n!==void 0&&n!==null&&typeof n.text==="string"&&n.range===void 0&&n.rangeLength===void 0}}var Dc;(function(e){function t(i,a,s,o){return new pa(i,a,s,o)}e.create=t;function n(i,a,s){if(i instanceof pa){i.update(a,s);return i}else{throw new Error("TextDocument.update: document must be created by TextDocument.create")}}e.update=n;function r(i,a){const s=i.getText();const o=vc(a.map(DE),(f,S)=>{const g=f.range.start.line-S.range.start.line;if(g===0){return f.range.start.character-S.range.start.character}return g});let c=0;const h=[];for(const f of o){const S=i.offsetAt(f.range.start);if(S<c){throw new Error("Overlapping edit")}else if(S>c){h.push(s.substring(c,S))}if(f.newText.length){h.push(f.newText)}c=i.offsetAt(f.range.end)}h.push(s.substr(c));return h.join("")}e.applyEdits=r})(Dc||(Dc={}));function vc(e,t){if(e.length<=1){return e}const n=e.length/2|0;const r=e.slice(0,n);const i=e.slice(n);vc(r,t);vc(i,t);let a=0;let s=0;let o=0;while(a<r.length&&s<i.length){const c=t(r[a],i[s]);if(c<=0){e[o++]=r[a++]}else{e[o++]=i[s++]}}while(a<r.length){e[o++]=r[a++]}while(s<i.length){e[o++]=i[s++]}return e}function Rh(e,t,n=0){const r=t?[n]:[];for(let i=0;i<e.length;i++){const a=e.charCodeAt(i);if(nf(a)){if(a===13&&i+1<e.length&&e.charCodeAt(i+1)===10){i++}r.push(n+i+1)}}return r}function nf(e){return e===13||e===10}function rf(e){const t=e.start;const n=e.end;if(t.line>n.line||t.line===n.line&&t.character>n.character){return{start:n,end:t}}return e}function DE(e){const t=rf(e.range);if(t!==e.range){return{newText:e.newText,range:t}}return e}class vE{_configuration;_syncedDocuments;_onDidChangeContent;_onDidOpen;_onDidClose;_onDidSave;_onWillSave;_willSaveWaitUntil;constructor(t){this._configuration=t;this._syncedDocuments=new Map;this._onDidChangeContent=new Zt.Emitter;this._onDidOpen=new Zt.Emitter;this._onDidClose=new Zt.Emitter;this._onDidSave=new Zt.Emitter;this._onWillSave=new Zt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t,n){let r=this._syncedDocuments.get(Ot.normalize(t));if(r===void 0&&n?.loadFromURI){try{const i=Ot.normalize(t);const a=Xr.readFileSync(ht.parse(i));if(a===void 0){return void 0}r=this._configuration.create(i,"pli",0,a);this.set(r)}catch(i){console.error(`Failed to load document from URI ${t}: ${i}`);return void 0}}return r}set(t){const n=Ot.normalize(t.uri);let r=true;if(this._syncedDocuments.has(n)){r=false}this._syncedDocuments.set(n,t);const i=Object.freeze({document:t});this._onDidOpen.fire(i);const a=Object.freeze({document:t,changes:[]});this._onDidChangeContent.fire(a);return r}delete(t){const n=Ot.normalize(typeof t==="object"&&"uri"in t?t.uri:t);const r=this._syncedDocuments.get(n);if(r!==void 0){this._syncedDocuments.delete(n);this._onDidClose.fire(Object.freeze({document:r}))}}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=Zt.TextDocumentSyncKind.Incremental;const n=[];n.push(t.onDidOpenTextDocument(r=>{const i=r.textDocument;const a=Ot.normalize(i.uri);const s=this._configuration.create(a,i.languageId,i.version,i.text);this._syncedDocuments.set(a,s);const o=Object.freeze({document:s});this._onDidOpen.fire(o);const c=Object.freeze({document:s,changes:[]});this._onDidChangeContent.fire(c)}));n.push(t.onDidChangeTextDocument(r=>{const i=r.textDocument;const a=r.contentChanges;if(a.length===0){return}const{version:s}=i;if(s===null||s===void 0){throw new Error(`Received document change event for ${i.uri} without valid version identifier`)}const o=Ot.normalize(i.uri);let c=this._syncedDocuments.get(o);if(c!==void 0){c=this._configuration.update(c,a,s);this._syncedDocuments.set(o,c);this._onDidChangeContent.fire(Object.freeze({document:c,changes:a}))}}));n.push(t.onDidCloseTextDocument(r=>{const i=Ot.normalize(r.textDocument.uri);const a=this._syncedDocuments.get(i);if(a!==void 0){this._syncedDocuments.delete(i);this._onDidClose.fire(Object.freeze({document:a}))}}));n.push(t.onWillSaveTextDocument(r=>{const i=this._syncedDocuments.get(Ot.normalize(r.textDocument.uri));if(i!==void 0){this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))}}));n.push(t.onWillSaveTextDocumentWaitUntil((r,i)=>{const a=this._syncedDocuments.get(Ot.normalize(r.textDocument.uri));if(a!==void 0&&this._willSaveWaitUntil){return this._willSaveWaitUntil(Object.freeze({document:a,reason:r.reason}),i)}else{return[]}}));n.push(t.onDidSaveTextDocument(r=>{const i=this._syncedDocuments.get(Ot.normalize(r.textDocument.uri));if(i!==void 0){this._onDidSave.fire(Object.freeze({document:i}))}}));return Zt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}}const Dt=new vE(Dc);var l;(function(e){e[e["Percentage"]=0]="Percentage";e[e["DeactivateStatement_DEACTIVATE"]=1]="DeactivateStatement_DEACTIVATE";e[e["DeactivateStatement_Comma"]=2]="DeactivateStatement_Comma";e[e["DeactivateStatement_Semicolon"]=3]="DeactivateStatement_Semicolon";e[e["ActivateStatement_ACTIVATE"]=4]="ActivateStatement_ACTIVATE";e[e["ActivateStatement_Comma"]=5]="ActivateStatement_Comma";e[e["ActivateStatement_Semicolon"]=6]="ActivateStatement_Semicolon";e[e["Package_PACKAGE"]=7]="Package_PACKAGE";e[e["Package_Semicolon0"]=8]="Package_Semicolon0";e[e["Package_Semicolon1"]=9]="Package_Semicolon1";e[e["ConditionPrefix_OpenParen"]=10]="ConditionPrefix_OpenParen";e[e["ConditionPrefix_CloseParen"]=11]="ConditionPrefix_CloseParen";e[e["ConditionPrefix_Colon"]=12]="ConditionPrefix_Colon";e[e["ConditionPrefixItem_Comma"]=13]="ConditionPrefixItem_Comma";e[e["Exports_EXPORTS"]=14]="Exports_EXPORTS";e[e["Exports_OpenParen"]=15]="Exports_OpenParen";e[e["Exports_AllStar"]=16]="Exports_AllStar";e[e["Exports_Procedures0"]=17]="Exports_Procedures0";e[e["Exports_Comma"]=18]="Exports_Comma";e[e["Exports_Procedures1"]=19]="Exports_Procedures1";e[e["Exports_CloseParen"]=20]="Exports_CloseParen";e[e["Reserves_RESERVES"]=21]="Reserves_RESERVES";e[e["Reserves_OpenParen"]=22]="Reserves_OpenParen";e[e["Reserves_AllStar"]=23]="Reserves_AllStar";e[e["Reserves_Variables0"]=24]="Reserves_Variables0";e[e["Reserves_Comma"]=25]="Reserves_Comma";e[e["Reserves_Variables1"]=26]="Reserves_Variables1";e[e["Reserves_CloseParen"]=27]="Reserves_CloseParen";e[e["Options_OPTIONS"]=28]="Options_OPTIONS";e[e["Options_OpenParen"]=29]="Options_OpenParen";e[e["Options_Comma"]=30]="Options_Comma";e[e["Options_CloseParen"]=31]="Options_CloseParen";e[e["LinkageOptionsItem_Linkage"]=32]="LinkageOptionsItem_Linkage";e[e["LinkageOptionsItem_OpenParen"]=33]="LinkageOptionsItem_OpenParen";e[e["LinkageOptionsItem_Value"]=34]="LinkageOptionsItem_Value";e[e["LinkageOptionsItem_CloseParen"]=35]="LinkageOptionsItem_CloseParen";e[e["CMPATOptionsItem_CMPAT"]=36]="CMPATOptionsItem_CMPAT";e[e["CMPATOptionsItem_OpenParen"]=37]="CMPATOptionsItem_OpenParen";e[e["CMPATOptionsItem_Value"]=38]="CMPATOptionsItem_Value";e[e["CMPATOptionsItem_CloseParen"]=39]="CMPATOptionsItem_CloseParen";e[e["NoMapOptionsItem_Type"]=40]="NoMapOptionsItem_Type";e[e["NoMapOptionsItem_OpenParen"]=41]="NoMapOptionsItem_OpenParen";e[e["NoMapOptionsItem_Parameters0"]=42]="NoMapOptionsItem_Parameters0";e[e["NoMapOptionsItem_Comma"]=43]="NoMapOptionsItem_Comma";e[e["NoMapOptionsItem_Parameters1"]=44]="NoMapOptionsItem_Parameters1";e[e["NoMapOptionsItem_CloseParen"]=45]="NoMapOptionsItem_CloseParen";e[e["SimpleOptionsItem_Value"]=46]="SimpleOptionsItem_Value";e[e["ProcedureStatement_PROCEDURE"]=47]="ProcedureStatement_PROCEDURE";e[e["ProcedureStatement_OpenParenParams"]=48]="ProcedureStatement_OpenParenParams";e[e["ProcedureStatement_Comma"]=49]="ProcedureStatement_Comma";e[e["ProcedureStatement_STATEMENT"]=50]="ProcedureStatement_STATEMENT";e[e["ProcedureStatement_CloseParenParams"]=51]="ProcedureStatement_CloseParenParams";e[e["ProcedureStatement_Recursive"]=52]="ProcedureStatement_Recursive";e[e["ProcedureStatement_Order"]=53]="ProcedureStatement_Order";e[e["ProcedureStatement_EXTERNAL"]=54]="ProcedureStatement_EXTERNAL";e[e["ProcedureStatement_OpenParenEnv"]=55]="ProcedureStatement_OpenParenEnv";e[e["ProcedureStatement_CloseParenEnv"]=56]="ProcedureStatement_CloseParenEnv";e[e["ProcedureStatement_Semicolon0"]=57]="ProcedureStatement_Semicolon0";e[e["ProcedureStatement_PROCEDURE_END"]=58]="ProcedureStatement_PROCEDURE_END";e[e["ProcedureStatement_Semicolon1"]=59]="ProcedureStatement_Semicolon1";e[e["ScopeAttribute_Scope"]=60]="ScopeAttribute_Scope";e[e["LabelPrefix_Name"]=61]="LabelPrefix_Name";e[e["LabelPrefix_Colon"]=62]="LabelPrefix_Colon";e[e["EntryStatement_ENTRY"]=63]="EntryStatement_ENTRY";e[e["EntryStatement_OpenParenParams"]=64]="EntryStatement_OpenParenParams";e[e["EntryStatement_Comma"]=65]="EntryStatement_Comma";e[e["EntryStatement_CloseParenParams"]=66]="EntryStatement_CloseParenParams";e[e["EntryStatement_EXTERNAL"]=67]="EntryStatement_EXTERNAL";e[e["EntryStatement_OpenParenEnv"]=68]="EntryStatement_OpenParenEnv";e[e["EntryStatement_CloseParenEnv"]=69]="EntryStatement_CloseParenEnv";e[e["EntryStatement_Variable"]=70]="EntryStatement_Variable";e[e["EntryStatement_Limited"]=71]="EntryStatement_Limited";e[e["EntryStatement_Semicolon"]=72]="EntryStatement_Semicolon";e[e["AllocateStatement_ALLOCATE"]=73]="AllocateStatement_ALLOCATE";e[e["AllocateStatement_Comma"]=74]="AllocateStatement_Comma";e[e["AllocateStatement_Semicolon"]=75]="AllocateStatement_Semicolon";e[e["AllocatedVariable_LevelNumber"]=76]="AllocatedVariable_LevelNumber";e[e["AllocateLocationReferenceIn_IN"]=77]="AllocateLocationReferenceIn_IN";e[e["AllocateLocationReferenceIn_OpenParen"]=78]="AllocateLocationReferenceIn_OpenParen";e[e["AllocateLocationReferenceIn_CloseParen"]=79]="AllocateLocationReferenceIn_CloseParen";e[e["AllocateLocationReferenceSet_SET"]=80]="AllocateLocationReferenceSet_SET";e[e["AllocateLocationReferenceSet_OpenParen"]=81]="AllocateLocationReferenceSet_OpenParen";e[e["AllocateLocationReferenceSet_CloseParen"]=82]="AllocateLocationReferenceSet_CloseParen";e[e["AllocateAttributeType_Type"]=83]="AllocateAttributeType_Type";e[e["AssertStatement_ASSERT"]=84]="AssertStatement_ASSERT";e[e["AssertStatement_Boolean"]=85]="AssertStatement_Boolean";e[e["AssertStatement_OpenParen0"]=86]="AssertStatement_OpenParen0";e[e["AssertStatement_CloseParen0"]=87]="AssertStatement_CloseParen0";e[e["AssertStatement_COMPARE"]=88]="AssertStatement_COMPARE";e[e["AssertStatement_OpenParen1"]=89]="AssertStatement_OpenParen1";e[e["AssertStatement_Comma0"]=90]="AssertStatement_Comma0";e[e["AssertStatement_Comma1"]=91]="AssertStatement_Comma1";e[e["AssertStatement_OperatorString"]=92]="AssertStatement_OperatorString";e[e["AssertStatement_CloseParen1"]=93]="AssertStatement_CloseParen1";e[e["AssertStatement_UNREACHABLE"]=94]="AssertStatement_UNREACHABLE";e[e["AssertStatement_TEXT"]=95]="AssertStatement_TEXT";e[e["AssignmentStatement_Comma0"]=96]="AssignmentStatement_Comma0";e[e["AssignmentStatement_Comma1"]=97]="AssignmentStatement_Comma1";e[e["AssignmentStatement_BY"]=98]="AssignmentStatement_BY";e[e["AssignmentStatement_NAME"]=99]="AssignmentStatement_NAME";e[e["AssignmentStatement_DIMACROSS"]=100]="AssignmentStatement_DIMACROSS";e[e["AssignmentStatement_Semicolon"]=101]="AssignmentStatement_Semicolon";e[e["AssignmentStatement_Operator"]=102]="AssignmentStatement_Operator";e[e["AttachStatement_ATTACH"]=103]="AttachStatement_ATTACH";e[e["AttachStatement_THREAD"]=104]="AttachStatement_THREAD";e[e["AttachStatement_OpenParenTask"]=105]="AttachStatement_OpenParenTask";e[e["AttachStatement_CloseParenTask"]=106]="AttachStatement_CloseParenTask";e[e["AttachStatement_ENVIRONMENT"]=107]="AttachStatement_ENVIRONMENT";e[e["AttachStatement_OpenParenEnvironment"]=108]="AttachStatement_OpenParenEnvironment";e[e["AttachStatement_TSTACK"]=109]="AttachStatement_TSTACK";e[e["AttachStatement_OpenParenTStack"]=110]="AttachStatement_OpenParenTStack";e[e["AttachStatement_CloseParenTStack"]=111]="AttachStatement_CloseParenTStack";e[e["AttachStatement_CloseParenEnvironment"]=112]="AttachStatement_CloseParenEnvironment";e[e["AttachStatement_Semicolon"]=113]="AttachStatement_Semicolon";e[e["BeginStatement_BEGIN"]=114]="BeginStatement_BEGIN";e[e["BeginStatement_RECURSIVE"]=115]="BeginStatement_RECURSIVE";e[e["BeginStatement_ORDER"]=116]="BeginStatement_ORDER";e[e["BeginStatement_Semicolon0"]=117]="BeginStatement_Semicolon0";e[e["BeginStatement_Semicolon1"]=118]="BeginStatement_Semicolon1";e[e["EndStatement_END"]=119]="EndStatement_END";e[e["CallStatement_CALL"]=120]="CallStatement_CALL";e[e["CallStatement_Semicolon"]=121]="CallStatement_Semicolon";e[e["CancelThreadStatement_CANCEL"]=122]="CancelThreadStatement_CANCEL";e[e["CancelThreadStatement_THREAD"]=123]="CancelThreadStatement_THREAD";e[e["CancelThreadStatement_OpenParen"]=124]="CancelThreadStatement_OpenParen";e[e["CancelThreadStatement_CloseParen"]=125]="CancelThreadStatement_CloseParen";e[e["CancelThreadStatement_Semicolon"]=126]="CancelThreadStatement_Semicolon";e[e["CloseStatement_CLOSE"]=127]="CloseStatement_CLOSE";e[e["CloseStatement_FILE0"]=128]="CloseStatement_FILE0";e[e["CloseStatement_FILE1"]=129]="CloseStatement_FILE1";e[e["CloseStatement_OpenParen0"]=130]="CloseStatement_OpenParen0";e[e["CloseStatement_FilesStar0"]=131]="CloseStatement_FilesStar0";e[e["CloseStatement_CloseParen0"]=132]="CloseStatement_CloseParen0";e[e["CloseStatement_Comma"]=133]="CloseStatement_Comma";e[e["CloseStatement_OpenParen"]=134]="CloseStatement_OpenParen";e[e["CloseStatement_FilesStar1"]=135]="CloseStatement_FilesStar1";e[e["CloseStatement_CloseParen1"]=136]="CloseStatement_CloseParen1";e[e["CloseStatement_Semicolon"]=137]="CloseStatement_Semicolon";e[e["DefaultStatement_DEFAULT"]=138]="DefaultStatement_DEFAULT";e[e["DefaultStatement_Comma"]=139]="DefaultStatement_Comma";e[e["DefaultStatement_Semicolon"]=140]="DefaultStatement_Semicolon";e[e["DefaultExpressionPart_DESCRIPTORS"]=141]="DefaultExpressionPart_DESCRIPTORS";e[e["DefaultExpressionPart_RANGE"]=142]="DefaultExpressionPart_RANGE";e[e["DefaultExpressionPart_OpenParenRange"]=143]="DefaultExpressionPart_OpenParenRange";e[e["DefaultExpressionPart_CloseParenRange"]=144]="DefaultExpressionPart_CloseParenRange";e[e["DefaultExpressionPart_OpenParenAttribute"]=145]="DefaultExpressionPart_OpenParenAttribute";e[e["DefaultExpressionPart_CloseParenAttribute"]=146]="DefaultExpressionPart_CloseParenAttribute";e[e["DefaultRangeIdentifiers_Star0"]=147]="DefaultRangeIdentifiers_Star0";e[e["DefaultRangeIdentifiers_Comma"]=148]="DefaultRangeIdentifiers_Comma";e[e["DefaultRangeIdentifiers_Star1"]=149]="DefaultRangeIdentifiers_Star1";e[e["DefaultRangeIdentifierItem_FromID"]=150]="DefaultRangeIdentifierItem_FromID";e[e["DefaultRangeIdentifierItem_Colon"]=151]="DefaultRangeIdentifierItem_Colon";e[e["DefaultRangeIdentifierItem_ToID"]=152]="DefaultRangeIdentifierItem_ToID";e[e["DefaultAttributeExpression_Operators"]=153]="DefaultAttributeExpression_Operators";e[e["DefaultAttributeExpressionNot_NOT"]=154]="DefaultAttributeExpressionNot_NOT";e[e["DefaultAttribute_Value"]=155]="DefaultAttribute_Value";e[e["DefineAliasStatement_DEFINE"]=156]="DefineAliasStatement_DEFINE";e[e["DefineAliasStatement_ALIAS"]=157]="DefineAliasStatement_ALIAS";e[e["DefineAliasStatement_Name"]=158]="DefineAliasStatement_Name";e[e["DefineAliasStatement_Comma"]=159]="DefineAliasStatement_Comma";e[e["DefineAliasStatement_Semicolon"]=160]="DefineAliasStatement_Semicolon";e[e["DefineOrdinalStatement_DEFINE"]=161]="DefineOrdinalStatement_DEFINE";e[e["DefineOrdinalStatement_ORDINAL"]=162]="DefineOrdinalStatement_ORDINAL";e[e["DefineOrdinalStatement_OpenParenValues"]=163]="DefineOrdinalStatement_OpenParenValues";e[e["DefineOrdinalStatement_CloseParenValues"]=164]="DefineOrdinalStatement_CloseParenValues";e[e["DefineOrdinalStatement_Signed0"]=165]="DefineOrdinalStatement_Signed0";e[e["DefineOrdinalStatement_Unsigned0"]=166]="DefineOrdinalStatement_Unsigned0";e[e["DefineOrdinalStatement_PRECISION"]=167]="DefineOrdinalStatement_PRECISION";e[e["DefineOrdinalStatement_OpenParenPrecision"]=168]="DefineOrdinalStatement_OpenParenPrecision";e[e["DefineOrdinalStatement_PrecisionNumber"]=169]="DefineOrdinalStatement_PrecisionNumber";e[e["DefineOrdinalStatement_CloseParenPrecision"]=170]="DefineOrdinalStatement_CloseParenPrecision";e[e["DefineOrdinalStatement_SIGNED1"]=171]="DefineOrdinalStatement_SIGNED1";e[e["DefineOrdinalStatement_UNSIGNED1"]=172]="DefineOrdinalStatement_UNSIGNED1";e[e["DefineOrdinalStatement_Semicolon"]=173]="DefineOrdinalStatement_Semicolon";e[e["OrdinalValueList_Comma"]=174]="OrdinalValueList_Comma";e[e["OrdinalValue_Name"]=175]="OrdinalValue_Name";e[e["OrdinalValue_VALUE"]=176]="OrdinalValue_VALUE";e[e["OrdinalValue_OpenParen"]=177]="OrdinalValue_OpenParen";e[e["OrdinalValue_ValueNumber"]=178]="OrdinalValue_ValueNumber";e[e["OrdinalValue_CloseParen"]=179]="OrdinalValue_CloseParen";e[e["DefineStructureStatement_DEFINE"]=180]="DefineStructureStatement_DEFINE";e[e["DefineStructureStatement_STRUCTURE"]=181]="DefineStructureStatement_STRUCTURE";e[e["DefineStructureStatement_LevelNumber"]=182]="DefineStructureStatement_LevelNumber";e[e["DefineStructureStatement_UNION"]=183]="DefineStructureStatement_UNION";e[e["DefineStructureStatement_Comma"]=184]="DefineStructureStatement_Comma";e[e["DefineStructureStatement_Semicolon"]=185]="DefineStructureStatement_Semicolon";e[e["SubStructure_LevelNumber"]=186]="SubStructure_LevelNumber";e[e["SubStructure_Name"]=187]="SubStructure_Name";e[e["DelayStatement_DELAY"]=188]="DelayStatement_DELAY";e[e["DelayStatement_OpenParen"]=189]="DelayStatement_OpenParen";e[e["DelayStatement_CloseParen"]=190]="DelayStatement_CloseParen";e[e["DelayStatement_Semicolon"]=191]="DelayStatement_Semicolon";e[e["DeleteStatement_DELETE"]=192]="DeleteStatement_DELETE";e[e["DeleteStatement_FILE"]=193]="DeleteStatement_FILE";e[e["DeleteStatement_OpenParenFile"]=194]="DeleteStatement_OpenParenFile";e[e["DeleteStatement_CloseParenFile"]=195]="DeleteStatement_CloseParenFile";e[e["DeleteStatement_KEY"]=196]="DeleteStatement_KEY";e[e["DeleteStatement_OpenParenKey"]=197]="DeleteStatement_OpenParenKey";e[e["DeleteStatement_CloseParenKey"]=198]="DeleteStatement_CloseParenKey";e[e["DeleteStatement_Semicolon"]=199]="DeleteStatement_Semicolon";e[e["DetachStatement_DETACH"]=200]="DetachStatement_DETACH";e[e["DetachStatement_THREAD"]=201]="DetachStatement_THREAD";e[e["DetachStatement_OpenParen"]=202]="DetachStatement_OpenParen";e[e["DetachStatement_CloseParen"]=203]="DetachStatement_CloseParen";e[e["DetachStatement_Semicolon"]=204]="DetachStatement_Semicolon";e[e["DisplayStatement_DISPLAY"]=205]="DisplayStatement_DISPLAY";e[e["DisplayStatement_OpenParenExpression"]=206]="DisplayStatement_OpenParenExpression";e[e["DisplayStatement_CloseParenExpression"]=207]="DisplayStatement_CloseParenExpression";e[e["DisplayStatement_REPLY"]=208]="DisplayStatement_REPLY";e[e["DisplayStatement_OpenParenReply"]=209]="DisplayStatement_OpenParenReply";e[e["DisplayStatement_CloseParenReply"]=210]="DisplayStatement_CloseParenReply";e[e["DisplayStatement_ROUTCDE"]=211]="DisplayStatement_ROUTCDE";e[e["DisplayStatement_OpenParenRout"]=212]="DisplayStatement_OpenParenRout";e[e["DisplayStatement_RoutNumber0"]=213]="DisplayStatement_RoutNumber0";e[e["DisplayStatement_CommaRout"]=214]="DisplayStatement_CommaRout";e[e["DisplayStatement_RoutNumber1"]=215]="DisplayStatement_RoutNumber1";e[e["DisplayStatement_CloseParenRout"]=216]="DisplayStatement_CloseParenRout";e[e["DisplayStatement_DESC"]=217]="DisplayStatement_DESC";e[e["DisplayStatement_OpenParenDesc"]=218]="DisplayStatement_OpenParenDesc";e[e["DisplayStatement_DescNumber0"]=219]="DisplayStatement_DescNumber0";e[e["DisplayStatement_CommaDesc"]=220]="DisplayStatement_CommaDesc";e[e["DisplayStatement_DescNumber1"]=221]="DisplayStatement_DescNumber1";e[e["DisplayStatement_CloseParenDesc"]=222]="DisplayStatement_CloseParenDesc";e[e["DisplayStatement_Semicolon"]=223]="DisplayStatement_Semicolon";e[e["DoStatement_DO"]=224]="DoStatement_DO";e[e["DoStatement_LOOP"]=225]="DoStatement_LOOP";e[e["DoStatement_Semicolon0"]=226]="DoStatement_Semicolon0";e[e["DoStatement_Semicolon1"]=227]="DoStatement_Semicolon1";e[e["DoWhile_WHILE"]=228]="DoWhile_WHILE";e[e["DoWhile_OpenParenWhile"]=229]="DoWhile_OpenParenWhile";e[e["DoWhile_CloseParenWhile"]=230]="DoWhile_CloseParenWhile";e[e["DoWhile_UNTIL"]=231]="DoWhile_UNTIL";e[e["DoWhile_OpenParenUntil"]=232]="DoWhile_OpenParenUntil";e[e["DoWhile_CloseParenUntil"]=233]="DoWhile_CloseParenUntil";e[e["DoUntil_UNTIL"]=234]="DoUntil_UNTIL";e[e["DoUntil_OpenParenUntil"]=235]="DoUntil_OpenParenUntil";e[e["DoUntil_CloseParenUntil"]=236]="DoUntil_CloseParenUntil";e[e["DoUntil_WHILE"]=237]="DoUntil_WHILE";e[e["DoUntil_OpenParenWhile"]=238]="DoUntil_OpenParenWhile";e[e["DoUntil_CloseParenWhile"]=239]="DoUntil_CloseParenWhile";e[e["DoType3_Equals"]=240]="DoType3_Equals";e[e["DoType3_Comma"]=241]="DoType3_Comma";e[e["DoSpecification_TO0"]=242]="DoSpecification_TO0";e[e["DoSpecification_BY0"]=243]="DoSpecification_BY0";e[e["DoSpecification_BY1"]=244]="DoSpecification_BY1";e[e["DoSpecification_TO1"]=245]="DoSpecification_TO1";e[e["DoSpecification_UPTHRU"]=246]="DoSpecification_UPTHRU";e[e["DoSpecification_DOWNTHRU"]=247]="DoSpecification_DOWNTHRU";e[e["DoSpecification_REPEAT"]=248]="DoSpecification_REPEAT";e[e["ExecStatement_EXEC"]=249]="ExecStatement_EXEC";e[e["ExecStatement_Query"]=250]="ExecStatement_Query";e[e["ExecStatement_Semicolon"]=251]="ExecStatement_Semicolon";e[e["ExitStatement_EXIT"]=252]="ExitStatement_EXIT";e[e["ExitStatement_Semicolon"]=253]="ExitStatement_Semicolon";e[e["FetchStatement_FETCH"]=254]="FetchStatement_FETCH";e[e["FetchStatement_Comma"]=255]="FetchStatement_Comma";e[e["FetchStatement_Semicolon"]=256]="FetchStatement_Semicolon";e[e["FetchEntry_Entry"]=257]="FetchEntry_Entry";e[e["FetchEntry_SET"]=258]="FetchEntry_SET";e[e["FetchEntry_OpenParenSet"]=259]="FetchEntry_OpenParenSet";e[e["FetchEntry_CloseParenSet"]=260]="FetchEntry_CloseParenSet";e[e["FetchEntry_TITLE"]=261]="FetchEntry_TITLE";e[e["FetchEntry_OpenParenTitle"]=262]="FetchEntry_OpenParenTitle";e[e["FetchEntry_CloseParenTitle"]=263]="FetchEntry_CloseParenTitle";e[e["FlushStatement_FLUSH"]=264]="FlushStatement_FLUSH";e[e["FlushStatement_FILE"]=265]="FlushStatement_FILE";e[e["FlushStatement_OpenParen"]=266]="FlushStatement_OpenParen";e[e["FlushStatement_Star"]=267]="FlushStatement_Star";e[e["FlushStatement_CloseParen"]=268]="FlushStatement_CloseParen";e[e["FlushStatement_Semicolon"]=269]="FlushStatement_Semicolon";e[e["FormatStatement_FORMAT"]=270]="FormatStatement_FORMAT";e[e["FormatStatement_OpenParen"]=271]="FormatStatement_OpenParen";e[e["FormatStatement_CloseParen"]=272]="FormatStatement_CloseParen";e[e["FormatStatement_Semicolon"]=273]="FormatStatement_Semicolon";e[e["FormatList_Comma"]=274]="FormatList_Comma";e[e["FormatListItem_OpenParen"]=275]="FormatListItem_OpenParen";e[e["FormatListItem_CloseParen"]=276]="FormatListItem_CloseParen";e[e["FormatListItemLevel_LevelNumber"]=277]="FormatListItemLevel_LevelNumber";e[e["FormatListItemLevel_OpenParen"]=278]="FormatListItemLevel_OpenParen";e[e["FormatListItemLevel_CloseParen"]=279]="FormatListItemLevel_CloseParen";e[e["AFormatItem_A"]=280]="AFormatItem_A";e[e["AFormatItem_OpenParen"]=281]="AFormatItem_OpenParen";e[e["AFormatItem_CloseParen"]=282]="AFormatItem_CloseParen";e[e["BFormatItem_B"]=283]="BFormatItem_B";e[e["BFormatItem_OpenParen"]=284]="BFormatItem_OpenParen";e[e["BFormatItem_CloseParen"]=285]="BFormatItem_CloseParen";e[e["CFormatItem_C"]=286]="CFormatItem_C";e[e["CFormatItem_OpenParen"]=287]="CFormatItem_OpenParen";e[e["CFormatItem_CloseParen"]=288]="CFormatItem_CloseParen";e[e["FFormatItem_F"]=289]="FFormatItem_F";e[e["FFormatItem_OpenParen"]=290]="FFormatItem_OpenParen";e[e["FFormatItem_CommaFractional"]=291]="FFormatItem_CommaFractional";e[e["FFormatItem_CommaScalingFactor"]=292]="FFormatItem_CommaScalingFactor";e[e["FFormatItem_CloseParen"]=293]="FFormatItem_CloseParen";e[e["EFormatItem_E"]=294]="EFormatItem_E";e[e["EFormatItem_OpenParen"]=295]="EFormatItem_OpenParen";e[e["EFormatItem_Comma0"]=296]="EFormatItem_Comma0";e[e["EFormatItem_Comma1"]=297]="EFormatItem_Comma1";e[e["EFormatItem_CloseParen"]=298]="EFormatItem_CloseParen";e[e["PFormatItem_P"]=299]="PFormatItem_P";e[e["PFormatItem_SpecificationString"]=300]="PFormatItem_SpecificationString";e[e["ColumnFormatItem_COLUMN"]=301]="ColumnFormatItem_COLUMN";e[e["ColumnFormatItem_OpenParen"]=302]="ColumnFormatItem_OpenParen";e[e["ColumnFormatItem_CloseParen"]=303]="ColumnFormatItem_CloseParen";e[e["GFormatItem_G"]=304]="GFormatItem_G";e[e["GFormatItem_OpenParen"]=305]="GFormatItem_OpenParen";e[e["GFormatItem_CloseParen"]=306]="GFormatItem_CloseParen";e[e["LFormatItem_L"]=307]="LFormatItem_L";e[e["LineFormatItem_LINE"]=308]="LineFormatItem_LINE";e[e["LineFormatItem_OpenParen"]=309]="LineFormatItem_OpenParen";e[e["LineFormatItem_CloseParen"]=310]="LineFormatItem_CloseParen";e[e["PageFormatItem_PAGE"]=311]="PageFormatItem_PAGE";e[e["RFormatItem_R"]=312]="RFormatItem_R";e[e["RFormatItem_OpenParen"]=313]="RFormatItem_OpenParen";e[e["RFormatItem_LabelRef"]=314]="RFormatItem_LabelRef";e[e["RFormatItem_CloseParen"]=315]="RFormatItem_CloseParen";e[e["SkipFormatItem_SKIP"]=316]="SkipFormatItem_SKIP";e[e["SkipFormatItem_OpenParen"]=317]="SkipFormatItem_OpenParen";e[e["SkipFormatItem_CloseParen"]=318]="SkipFormatItem_CloseParen";e[e["VFormatItem_V"]=319]="VFormatItem_V";e[e["XFormatItem_X"]=320]="XFormatItem_X";e[e["XFormatItem_OpenParen"]=321]="XFormatItem_OpenParen";e[e["XFormatItem_CloseParen"]=322]="XFormatItem_CloseParen";e[e["FreeStatement_FREE"]=323]="FreeStatement_FREE";e[e["FreeStatement_Comma"]=324]="FreeStatement_Comma";e[e["FreeStatement_Semicolon"]=325]="FreeStatement_Semicolon";e[e["GetStatement_GET"]=326]="GetStatement_GET";e[e["GetStatement_STRING"]=327]="GetStatement_STRING";e[e["GetStatement_OpenParen"]=328]="GetStatement_OpenParen";e[e["GetStatement_CloseParen"]=329]="GetStatement_CloseParen";e[e["GetStatement_Semicolon"]=330]="GetStatement_Semicolon";e[e["GetFile_FILE"]=331]="GetFile_FILE";e[e["GetFile_OpenParen"]=332]="GetFile_OpenParen";e[e["GetFile_CloseParen"]=333]="GetFile_CloseParen";e[e["GetCopy_COPY"]=334]="GetCopy_COPY";e[e["GetCopy_OpenParen"]=335]="GetCopy_OpenParen";e[e["GetCopy_CopyReference"]=336]="GetCopy_CopyReference";e[e["GetCopy_CloseParen"]=337]="GetCopy_CloseParen";e[e["GetSkip_SKIP"]=338]="GetSkip_SKIP";e[e["GetSkip_OpenParen"]=339]="GetSkip_OpenParen";e[e["GetSkip_CloseParen"]=340]="GetSkip_CloseParen";e[e["GoToStatement_GO"]=341]="GoToStatement_GO";e[e["GoToStatement_TO"]=342]="GoToStatement_TO";e[e["GoToStatement_GOTO"]=343]="GoToStatement_GOTO";e[e["GoToStatement_Semicolon"]=344]="GoToStatement_Semicolon";e[e["GenericAttribute_GENERIC"]=345]="GenericAttribute_GENERIC";e[e["GenericAttribute_OpenParen"]=346]="GenericAttribute_OpenParen";e[e["GenericAttribute_CloseParen"]=347]="GenericAttribute_CloseParen";e[e["GenericAttribute_Comma"]=348]="GenericAttribute_Comma";e[e["GenericReference_WHEN"]=349]="GenericReference_WHEN";e[e["GenericReference_OTHERWISE"]=350]="GenericReference_OTHERWISE";e[e["GenericReference_OpenParen"]=351]="GenericReference_OpenParen";e[e["GenericReference_CloseParen"]=352]="GenericReference_CloseParen";e[e["GenericDescriptor_Comma"]=353]="GenericDescriptor_Comma";e[e["IfStatement_IF"]=354]="IfStatement_IF";e[e["IfStatement_THEN"]=355]="IfStatement_THEN";e[e["IfStatement_ELSE"]=356]="IfStatement_ELSE";e[e["IncludeDirective_INCLUDE"]=357]="IncludeDirective_INCLUDE";e[e["IncludeDirective_Comma"]=358]="IncludeDirective_Comma";e[e["IncludeDirective_Semicolon"]=359]="IncludeDirective_Semicolon";e[e["IncludeItem_FileString0"]=360]="IncludeItem_FileString0";e[e["IncludeItem_FileID0"]=361]="IncludeItem_FileID0";e[e["IncludeItem_DDName"]=362]="IncludeItem_DDName";e[e["IncludeItem_OpenParen"]=363]="IncludeItem_OpenParen";e[e["IncludeItem_FileString1"]=364]="IncludeItem_FileString1";e[e["IncludeItem_FileID1"]=365]="IncludeItem_FileID1";e[e["IncludeItem_CloseParen"]=366]="IncludeItem_CloseParen";e[e["IndForAttribute_INDFOR"]=367]="IndForAttribute_INDFOR";e[e["IterateStatement_ITERATE"]=368]="IterateStatement_ITERATE";e[e["IterateStatement_Semicolon"]=369]="IterateStatement_Semicolon";e[e["LeaveStatement_LEAVE"]=370]="LeaveStatement_LEAVE";e[e["LeaveStatement_Semicolon"]=371]="LeaveStatement_Semicolon";e[e["LineDirective_PercentLINE"]=372]="LineDirective_PercentLINE";e[e["LineDirective_OpenParen"]=373]="LineDirective_OpenParen";e[e["LineDirective_line_NUMBER"]=374]="LineDirective_line_NUMBER";e[e["LineDirective_Comma"]=375]="LineDirective_Comma";e[e["LineDirective_FileString"]=376]="LineDirective_FileString";e[e["LineDirective_CloseParen"]=377]="LineDirective_CloseParen";e[e["LineDirective_Semicolon"]=378]="LineDirective_Semicolon";e[e["LocateStatement_LOCATE"]=379]="LocateStatement_LOCATE";e[e["LocateStatement_Semicolon"]=380]="LocateStatement_Semicolon";e[e["LocateStatementOption_Type"]=381]="LocateStatementOption_Type";e[e["LocateStatementOption_OpenParen"]=382]="LocateStatementOption_OpenParen";e[e["LocateStatementOption_CloseParen"]=383]="LocateStatementOption_CloseParen";e[e["LocateStatementSet_SET"]=384]="LocateStatementSet_SET";e[e["LocateStatementSet_OpenParen"]=385]="LocateStatementSet_OpenParen";e[e["LocateStatementSet_CloseParen"]=386]="LocateStatementSet_CloseParen";e[e["NoPrintDirective_NOPRINT"]=387]="NoPrintDirective_NOPRINT";e[e["NoPrintDirective_Semicolon"]=388]="NoPrintDirective_Semicolon";e[e["NoteDirective_PercentNOTE"]=389]="NoteDirective_PercentNOTE";e[e["NoteDirective_OpenParen"]=390]="NoteDirective_OpenParen";e[e["NoteDirective_Comma"]=391]="NoteDirective_Comma";e[e["NoteDirective_CloseParen"]=392]="NoteDirective_CloseParen";e[e["NoteDirective_Semicolon"]=393]="NoteDirective_Semicolon";e[e["NullStatement_Semicolon"]=394]="NullStatement_Semicolon";e[e["OnStatement_ON"]=395]="OnStatement_ON";e[e["OnStatement_Comma"]=396]="OnStatement_Comma";e[e["OnStatement_Snap"]=397]="OnStatement_Snap";e[e["OnStatement_System"]=398]="OnStatement_System";e[e["OnStatement_Semicolon"]=399]="OnStatement_Semicolon";e[e["KeywordCondition_Keyword"]=400]="KeywordCondition_Keyword";e[e["NamedCondition_CONDITION"]=401]="NamedCondition_CONDITION";e[e["NamedCondition_OpenParen"]=402]="NamedCondition_OpenParen";e[e["NamedCondition_Name"]=403]="NamedCondition_Name";e[e["NamedCondition_CloseParen"]=404]="NamedCondition_CloseParen";e[e["FileReferenceCondition_Keyword"]=405]="FileReferenceCondition_Keyword";e[e["FileReferenceCondition_OpenParen"]=406]="FileReferenceCondition_OpenParen";e[e["FileReferenceCondition_CloseParen"]=407]="FileReferenceCondition_CloseParen";e[e["OpenStatement_OPEN"]=408]="OpenStatement_OPEN";e[e["OpenStatement_Comma"]=409]="OpenStatement_Comma";e[e["OpenStatement_Semicolon"]=410]="OpenStatement_Semicolon";e[e["OpenOption_Type"]=411]="OpenOption_Type";e[e["OpenOption_OpenParen"]=412]="OpenOption_OpenParen";e[e["OpenOption_CloseParen"]=413]="OpenOption_CloseParen";e[e["PageDirective_PAGE"]=414]="PageDirective_PAGE";e[e["PageDirective_Semicolon"]=415]="PageDirective_Semicolon";e[e["PopDirective_POP"]=416]="PopDirective_POP";e[e["PopDirective_Semicolon"]=417]="PopDirective_Semicolon";e[e["PrintDirective_PRINT"]=418]="PrintDirective_PRINT";e[e["PrintDirective_Semicolon"]=419]="PrintDirective_Semicolon";e[e["ProcessDirective_PROCESS"]=420]="ProcessDirective_PROCESS";e[e["ProcessDirective_Comma"]=421]="ProcessDirective_Comma";e[e["ProcessDirective_Semicolon"]=422]="ProcessDirective_Semicolon";e[e["CompilerOptions_value_TODO"]=423]="CompilerOptions_value_TODO";e[e["CompilerOptions_Comma"]=424]="CompilerOptions_Comma";e[e["CompilerOption_Name"]=425]="CompilerOption_Name";e[e["CompilerOption_Number"]=426]="CompilerOption_Number";e[e["CompilerOption_OpenParen"]=427]="CompilerOption_OpenParen";e[e["CompilerOption_CloseParen"]=428]="CompilerOption_CloseParen";e[e["CompilerOption_Comma"]=429]="CompilerOption_Comma";e[e["CompilerOptionsValue_STRING"]=430]="CompilerOptionsValue_STRING";e[e["ProcincDirective_PROCINC"]=431]="ProcincDirective_PROCINC";e[e["ProcincDirective_DatasetName"]=432]="ProcincDirective_DatasetName";e[e["ProcincDirective_Semicolon"]=433]="ProcincDirective_Semicolon";e[e["PushDirective_PUSH"]=434]="PushDirective_PUSH";e[e["PushDirective_Semicolon"]=435]="PushDirective_Semicolon";e[e["PutStatement_PUT"]=436]="PutStatement_PUT";e[e["PutStatement_STRING"]=437]="PutStatement_STRING";e[e["PutStatement_OpenParen"]=438]="PutStatement_OpenParen";e[e["PutStatement_CloseParen"]=439]="PutStatement_CloseParen";e[e["PutStatement_Semicolon"]=440]="PutStatement_Semicolon";e[e["PutItem_OpenParen"]=441]="PutItem_OpenParen";e[e["PutItem_CloseParen"]=442]="PutItem_CloseParen";e[e["PutAttribute_FILE"]=443]="PutAttribute_FILE";e[e["DataSpecificationOptions_LIST"]=444]="DataSpecificationOptions_LIST";e[e["DataSpecificationOptions_OpenParenList"]=445]="DataSpecificationOptions_OpenParenList";e[e["DataSpecificationOptions_CloseParenList"]=446]="DataSpecificationOptions_CloseParenList";e[e["DataSpecificationOptions_Data"]=447]="DataSpecificationOptions_Data";e[e["DataSpecificationOptions_OpenParenData"]=448]="DataSpecificationOptions_OpenParenData";e[e["DataSpecificationOptions_Comma"]=449]="DataSpecificationOptions_Comma";e[e["DataSpecificationOptions_CloseParenData"]=450]="DataSpecificationOptions_CloseParenData";e[e["DataSpecificationOptions_Edit"]=451]="DataSpecificationOptions_Edit";e[e["DataSpecificationOptions_OpenParenEdit"]=452]="DataSpecificationOptions_OpenParenEdit";e[e["DataSpecificationOptions_CloseParenEdit"]=453]="DataSpecificationOptions_CloseParenEdit";e[e["DataSpecificationOptions_OpenParenFormat"]=454]="DataSpecificationOptions_OpenParenFormat";e[e["DataSpecificationOptions_CloseParenFormat"]=455]="DataSpecificationOptions_CloseParenFormat";e[e["DataSpecificationDataList_Comma"]=456]="DataSpecificationDataList_Comma";e[e["QualifyStatement_QUALIFY"]=457]="QualifyStatement_QUALIFY";e[e["QualifyStatement_Semicolon0"]=458]="QualifyStatement_Semicolon0";e[e["QualifyStatement_Semicolon1"]=459]="QualifyStatement_Semicolon1";e[e["ReadStatement_READ"]=460]="ReadStatement_READ";e[e["ReadStatement_Semicolon"]=461]="ReadStatement_Semicolon";e[e["ReadStatementFile_Type"]=462]="ReadStatementFile_Type";e[e["ReadStatementFile_OpenParen"]=463]="ReadStatementFile_OpenParen";e[e["ReadStatementFile_CloseParen"]=464]="ReadStatementFile_CloseParen";e[e["ReinitStatement_REINIT"]=465]="ReinitStatement_REINIT";e[e["ReinitStatement_Semicolon"]=466]="ReinitStatement_Semicolon";e[e["ReleaseStatement_RELEASE"]=467]="ReleaseStatement_RELEASE";e[e["ReleaseStatement_Star"]=468]="ReleaseStatement_Star";e[e["ReleaseStatement_References0"]=469]="ReleaseStatement_References0";e[e["ReleaseStatement_Comma"]=470]="ReleaseStatement_Comma";e[e["ReleaseStatement_References1"]=471]="ReleaseStatement_References1";e[e["ReleaseStatement_Semicolon"]=472]="ReleaseStatement_Semicolon";e[e["ResignalStatement_RESIGNAL"]=473]="ResignalStatement_RESIGNAL";e[e["ResignalStatement_Semicolon"]=474]="ResignalStatement_Semicolon";e[e["ReturnStatement_RETURN"]=475]="ReturnStatement_RETURN";e[e["ReturnStatement_OpenParen"]=476]="ReturnStatement_OpenParen";e[e["ReturnStatement_CloseParen"]=477]="ReturnStatement_CloseParen";e[e["ReturnStatement_Semicolon"]=478]="ReturnStatement_Semicolon";e[e["RevertStatement_REVERT"]=479]="RevertStatement_REVERT";e[e["RevertStatement_Comma"]=480]="RevertStatement_Comma";e[e["RevertStatement_Semicolon"]=481]="RevertStatement_Semicolon";e[e["RewriteStatement_REWRITE"]=482]="RewriteStatement_REWRITE";e[e["RewriteStatement_Semicolon"]=483]="RewriteStatement_Semicolon";e[e["RewriteStatementFile_FILE"]=484]="RewriteStatementFile_FILE";e[e["RewriteStatementFile_OpenParen"]=485]="RewriteStatementFile_OpenParen";e[e["RewriteStatementFile_CloseParen"]=486]="RewriteStatementFile_CloseParen";e[e["SelectStatement_SELECT"]=487]="SelectStatement_SELECT";e[e["SelectStatement_OpenParen"]=488]="SelectStatement_OpenParen";e[e["SelectStatement_CloseParen"]=489]="SelectStatement_CloseParen";e[e["SelectStatement_Semicolon0"]=490]="SelectStatement_Semicolon0";e[e["SelectStatement_Semicolon1"]=491]="SelectStatement_Semicolon1";e[e["WhenStatement_WHEN"]=492]="WhenStatement_WHEN";e[e["WhenStatement_OpenParen"]=493]="WhenStatement_OpenParen";e[e["WhenStatement_Comma"]=494]="WhenStatement_Comma";e[e["WhenStatement_CloseParen"]=495]="WhenStatement_CloseParen";e[e["OtherwiseStatement_OTHERWISE"]=496]="OtherwiseStatement_OTHERWISE";e[e["SignalStatement_SIGNAL"]=497]="SignalStatement_SIGNAL";e[e["SignalStatement_Semicolon"]=498]="SignalStatement_Semicolon";e[e["SkipDirective_SKIP"]=499]="SkipDirective_SKIP";e[e["SkipDirective_OpenParen"]=500]="SkipDirective_OpenParen";e[e["SkipDirective_CloseParen"]=501]="SkipDirective_CloseParen";e[e["SkipDirective_Semicolon"]=502]="SkipDirective_Semicolon";e[e["StopStatement_STOP"]=503]="StopStatement_STOP";e[e["StopStatement_Semicolon"]=504]="StopStatement_Semicolon";e[e["WaitStatement_WAIT"]=505]="WaitStatement_WAIT";e[e["WaitStatement_THREAD"]=506]="WaitStatement_THREAD";e[e["WaitStatement_OpenParen"]=507]="WaitStatement_OpenParen";e[e["WaitStatement_CloseParen"]=508]="WaitStatement_CloseParen";e[e["WaitStatement_Semicolon"]=509]="WaitStatement_Semicolon";e[e["WriteStatement_WRITE"]=510]="WriteStatement_WRITE";e[e["WriteStatement_Semicolon"]=511]="WriteStatement_Semicolon";e[e["WriteStatementFile_FILE"]=512]="WriteStatementFile_FILE";e[e["WriteStatementFile_OpenParen"]=513]="WriteStatementFile_OpenParen";e[e["WriteStatementFile_CloseParen"]=514]="WriteStatementFile_CloseParen";e[e["InitialAttribute_INITIAL"]=515]="InitialAttribute_INITIAL";e[e["InitialAttribute_OpenParenDirect"]=516]="InitialAttribute_OpenParenDirect";e[e["InitialAttribute_CommaDirect"]=517]="InitialAttribute_CommaDirect";e[e["InitialAttribute_CloseParenDirect"]=518]="InitialAttribute_CloseParenDirect";e[e["InitialAttribute_Call"]=519]="InitialAttribute_Call";e[e["InitialAttribute_To"]=520]="InitialAttribute_To";e[e["InitialAttribute_OpenParenTo"]=521]="InitialAttribute_OpenParenTo";e[e["InitialAttribute_CloseParenTo"]=522]="InitialAttribute_CloseParenTo";e[e["InitialAttribute_OpenParenToItem"]=523]="InitialAttribute_OpenParenToItem";e[e["InitialAttribute_CommaToItem"]=524]="InitialAttribute_CommaToItem";e[e["InitialAttribute_CloseParenToItem"]=525]="InitialAttribute_CloseParenToItem";e[e["InitialAttribute_INITACROSS"]=526]="InitialAttribute_INITACROSS";e[e["InitialAttribute_OpenParenInitAcross"]=527]="InitialAttribute_OpenParenInitAcross";e[e["InitialAttribute_CommaInitAcross"]=528]="InitialAttribute_CommaInitAcross";e[e["InitialAttribute_CloseParenInitAcross"]=529]="InitialAttribute_CloseParenInitAcross";e[e["InitialToContent_VARYING0"]=530]="InitialToContent_VARYING0";e[e["InitialToContent_VARYING1"]=531]="InitialToContent_VARYING1";e[e["InitialToContent_CHAR0"]=532]="InitialToContent_CHAR0";e[e["InitialToContent_CHAR1"]=533]="InitialToContent_CHAR1";e[e["InitAcrossExpression_OpenParen"]=534]="InitAcrossExpression_OpenParen";e[e["InitAcrossExpression_Comma"]=535]="InitAcrossExpression_Comma";e[e["InitAcrossExpression_CloseParen"]=536]="InitAcrossExpression_CloseParen";e[e["InitialAttributeItemStar_Star"]=537]="InitialAttributeItemStar_Star";e[e["InitialAttributeSpecification_OpenParen"]=538]="InitialAttributeSpecification_OpenParen";e[e["InitialAttributeSpecification_Star"]=539]="InitialAttributeSpecification_Star";e[e["InitialAttributeSpecification_CloseParen"]=540]="InitialAttributeSpecification_CloseParen";e[e["InitialAttributeSpecificationIterationValue_OpenParen"]=541]="InitialAttributeSpecificationIterationValue_OpenParen";e[e["InitialAttributeSpecificationIterationValue_Comma"]=542]="InitialAttributeSpecificationIterationValue_Comma";e[e["InitialAttributeSpecificationIterationValue_CloseParen"]=543]="InitialAttributeSpecificationIterationValue_CloseParen";e[e["DeclareStatement_DECLARE"]=544]="DeclareStatement_DECLARE";e[e["DeclareStatement_Comma"]=545]="DeclareStatement_Comma";e[e["DeclareStatement_Semicolon"]=546]="DeclareStatement_Semicolon";e[e["DeclaredItem_LevelNumber"]=547]="DeclaredItem_LevelNumber";e[e["WildcardItem_Asterisk"]=548]="WildcardItem_Asterisk";e[e["DeclaredItem_OpenParen"]=549]="DeclaredItem_OpenParen";e[e["DeclaredItem_Comma"]=550]="DeclaredItem_Comma";e[e["DeclaredItem_CloseParen"]=551]="DeclaredItem_CloseParen";e[e["DeclaredVariable_Name"]=552]="DeclaredVariable_Name";e[e["DateAttribute_DATE"]=553]="DateAttribute_DATE";e[e["DateAttribute_OpenParen"]=554]="DateAttribute_OpenParen";e[e["DateAttribute_PatternString"]=555]="DateAttribute_PatternString";e[e["DateAttribute_CloseParen"]=556]="DateAttribute_CloseParen";e[e["DefinedAttribute_DEFINED"]=557]="DefinedAttribute_DEFINED";e[e["DefinedAttribute_OpenParenRef"]=558]="DefinedAttribute_OpenParenRef";e[e["DefinedAttribute_CloseParenRef"]=559]="DefinedAttribute_CloseParenRef";e[e["DefinedAttribute_POSITION"]=560]="DefinedAttribute_POSITION";e[e["DefinedAttribute_OpenParenPos"]=561]="DefinedAttribute_OpenParenPos";e[e["DefinedAttribute_CloseParenPos"]=562]="DefinedAttribute_CloseParenPos";e[e["PictureAttribute_PICTURE"]=563]="PictureAttribute_PICTURE";e[e["PictureAttribute_WIDEPIC"]=564]="PictureAttribute_WIDEPIC";e[e["PictureAttribute_PictureString"]=565]="PictureAttribute_PictureString";e[e["DimensionsDataAttribute_DIMENSION"]=566]="DimensionsDataAttribute_DIMENSION";e[e["TypeAttribute_TYPE"]=567]="TypeAttribute_TYPE";e[e["TypeAttribute_TypeId0"]=568]="TypeAttribute_TypeId0";e[e["TypeAttribute_OpenParen"]=569]="TypeAttribute_OpenParen";e[e["TypeAttribute_TypeId1"]=570]="TypeAttribute_TypeId1";e[e["TypeAttribute_CloseParen"]=571]="TypeAttribute_CloseParen";e[e["OrdinalTypeAttribute_ORDINAL"]=572]="OrdinalTypeAttribute_ORDINAL";e[e["OrdinalTypeAttribute_TypeId0"]=573]="OrdinalTypeAttribute_TypeId0";e[e["OrdinalTypeAttribute_OpenParen"]=574]="OrdinalTypeAttribute_OpenParen";e[e["OrdinalTypeAttribute_TypeId1"]=575]="OrdinalTypeAttribute_TypeId1";e[e["OrdinalTypeAttribute_CloseParen"]=576]="OrdinalTypeAttribute_CloseParen";e[e["OrdinalTypeAttribute_ByValue"]=577]="OrdinalTypeAttribute_ByValue";e[e["ReturnsAttribute_RETURNS"]=578]="ReturnsAttribute_RETURNS";e[e["ReturnsAttribute_OpenParen"]=579]="ReturnsAttribute_OpenParen";e[e["ReturnsAttribute_CloseParen"]=580]="ReturnsAttribute_CloseParen";e[e["DefaultValueAttribute_VALUE"]=581]="DefaultValueAttribute_VALUE";e[e["DefaultValueAttribute_OpenParen"]=582]="DefaultValueAttribute_OpenParen";e[e["DefaultValueAttribute_Comma"]=583]="DefaultValueAttribute_Comma";e[e["DefaultValueAttribute_CloseParen"]=584]="DefaultValueAttribute_CloseParen";e[e["ValueAttribute_VALUE"]=585]="ValueAttribute_VALUE";e[e["ValueAttribute_OpenParen"]=586]="ValueAttribute_OpenParen";e[e["ValueAttribute_CloseParen"]=587]="ValueAttribute_CloseParen";e[e["ValueListAttribute_VALUELIST"]=588]="ValueListAttribute_VALUELIST";e[e["ValueListAttribute_OpenParen"]=589]="ValueListAttribute_OpenParen";e[e["ValueListAttribute_Comma"]=590]="ValueListAttribute_Comma";e[e["ValueListAttribute_CloseParen"]=591]="ValueListAttribute_CloseParen";e[e["ValueListFromAttribute_VALUELISTFROM"]=592]="ValueListFromAttribute_VALUELISTFROM";e[e["ValueRangeAttribute_VALUERANGE"]=593]="ValueRangeAttribute_VALUERANGE";e[e["ValueRangeAttribute_OpenParen"]=594]="ValueRangeAttribute_OpenParen";e[e["ValueRangeAttribute_Comma"]=595]="ValueRangeAttribute_Comma";e[e["ValueRangeAttribute_CloseParen"]=596]="ValueRangeAttribute_CloseParen";e[e["LikeAttribute_LIKE"]=597]="LikeAttribute_LIKE";e[e["HandleAttribute_HANDLE"]=598]="HandleAttribute_HANDLE";e[e["HandleAttribute_OpenParenSize"]=599]="HandleAttribute_OpenParenSize";e[e["HandleAttribute_SizeNumber"]=600]="HandleAttribute_SizeNumber";e[e["HandleAttribute_CloseParenSize"]=601]="HandleAttribute_CloseParenSize";e[e["HandleAttribute_TypeId0"]=602]="HandleAttribute_TypeId0";e[e["HandleAttribute_OpenParenType"]=603]="HandleAttribute_OpenParenType";e[e["HandleAttribute_TypeId1"]=604]="HandleAttribute_TypeId1";e[e["HandleAttribute_CloseParenType"]=605]="HandleAttribute_CloseParenType";e[e["Dimensions_OpenParen"]=606]="Dimensions_OpenParen";e[e["Dimensions_Comma"]=607]="Dimensions_Comma";e[e["Dimensions_CloseParen"]=608]="Dimensions_CloseParen";e[e["DimensionBound_Colon"]=609]="DimensionBound_Colon";e[e["Bound_Star"]=610]="Bound_Star";e[e["Bound_REFER"]=611]="Bound_REFER";e[e["Bound_OpenParen"]=612]="Bound_OpenParen";e[e["Bound_CloseParen"]=613]="Bound_CloseParen";e[e["EnvironmentAttribute_ENVIRONMENT"]=614]="EnvironmentAttribute_ENVIRONMENT";e[e["EnvironmentAttribute_OpenParen"]=615]="EnvironmentAttribute_OpenParen";e[e["EnvironmentAttribute_CloseParen"]=616]="EnvironmentAttribute_CloseParen";e[e["EnvironmentAttributeItem_Environment"]=617]="EnvironmentAttributeItem_Environment";e[e["EnvironmentAttributeItem_OpenParen"]=618]="EnvironmentAttributeItem_OpenParen";e[e["EnvironmentAttributeItem_Comma"]=619]="EnvironmentAttributeItem_Comma";e[e["EnvironmentAttributeItem_CloseParen"]=620]="EnvironmentAttributeItem_CloseParen";e[e["EntryAttribute_Limited0"]=621]="EntryAttribute_Limited0";e[e["EntryAttribute_ENTRY"]=622]="EntryAttribute_ENTRY";e[e["EntryAttribute_OpenParenAttribute"]=623]="EntryAttribute_OpenParenAttribute";e[e["EntryAttribute_CommaAttribute"]=624]="EntryAttribute_CommaAttribute";e[e["EntryAttribute_CloseParenAttribute"]=625]="EntryAttribute_CloseParenAttribute";e[e["EntryAttribute_Variable"]=626]="EntryAttribute_Variable";e[e["EntryAttribute_Limited1"]=627]="EntryAttribute_Limited1";e[e["EntryAttribute_EXTERNAL"]=628]="EntryAttribute_EXTERNAL";e[e["EntryAttribute_OpenParenEnv"]=629]="EntryAttribute_OpenParenEnv";e[e["EntryAttribute_CloseParenEnv"]=630]="EntryAttribute_CloseParenEnv";e[e["ReturnsOption_RETURNS"]=631]="ReturnsOption_RETURNS";e[e["ReturnsOption_OpenParen"]=632]="ReturnsOption_OpenParen";e[e["ReturnsOption_CloseParen"]=633]="ReturnsOption_CloseParen";e[e["EntryParameterDescription_Star"]=634]="EntryParameterDescription_Star";e[e["EntryUnionDescription_InitNumber"]=635]="EntryUnionDescription_InitNumber";e[e["EntryUnionDescription_Comma"]=636]="EntryUnionDescription_Comma";e[e["PrefixedAttribute_LevelNumber"]=637]="PrefixedAttribute_LevelNumber";e[e["ProcedureParameter_Id"]=638]="ProcedureParameter_Id";e[e["ReferenceItem_Ref"]=639]="ReferenceItem_Ref";e[e["BinaryExpression_Operator"]=640]="BinaryExpression_Operator";e[e["ParenthesizedExpression_OpenParen"]=641]="ParenthesizedExpression_OpenParen";e[e["ParenthesizedExpression_DO"]=642]="ParenthesizedExpression_DO";e[e["ParenthesizedExpression_CloseParen"]=643]="ParenthesizedExpression_CloseParen";e[e["MemberCall_Dot"]=644]="MemberCall_Dot";e[e["LocatorCall_Pointer"]=645]="LocatorCall_Pointer";e[e["LocatorCall_Handle"]=646]="LocatorCall_Handle";e[e["ProcedureCall_ProcedureRef"]=647]="ProcedureCall_ProcedureRef";e[e["ProcedureCallArgs_OpenParen"]=648]="ProcedureCallArgs_OpenParen";e[e["ProcedureCallArgs_Star0"]=649]="ProcedureCallArgs_Star0";e[e["ProcedureCallArgs_Comma"]=650]="ProcedureCallArgs_Comma";e[e["ProcedureCallArgs_Star1"]=651]="ProcedureCallArgs_Star1";e[e["ProcedureCallArgs_CloseParen"]=652]="ProcedureCallArgs_CloseParen";e[e["LabelReference_LabelRef"]=653]="LabelReference_LabelRef";e[e["UnaryExpression_Operator"]=654]="UnaryExpression_Operator";e[e["StringLiteral_ValueString"]=655]="StringLiteral_ValueString";e[e["NumberLiteral_ValueNumber"]=656]="NumberLiteral_ValueNumber";e[e["FQN_ID_0"]=657]="FQN_ID_0";e[e["FQN_Dot_0"]=658]="FQN_Dot_0";e[e["FQN_ID_1"]=659]="FQN_ID_1"})(l||(l={}));function af(e){return!isNaN(e.startOffset)&&typeof e.endOffset==="number"&&!isNaN(e.endOffset)}function sf(e){switch(e){case l.DeclaredVariable_Name:case l.LabelPrefix_Name:case l.OrdinalValue_Name:return true}return false}function Ws(e){switch(e.kind){case m.DeclaredVariable:return e.nameToken??void 0;case m.LabelPrefix:return e.nameToken??void 0;case m.OrdinalValue:return e.nameToken??void 0}return void 0}function of(e){switch(e){case l.TypeAttribute_TypeId0:case l.TypeAttribute_TypeId1:case l.OrdinalTypeAttribute_TypeId0:case l.OrdinalTypeAttribute_TypeId1:case l.HandleAttribute_TypeId0:case l.HandleAttribute_TypeId1:case l.ProcedureCall_ProcedureRef:case l.LabelReference_LabelRef:case l.ReferenceItem_Ref:return true}return false}function Pl(e){switch(e.kind){case m.HandleAttribute:return e.type??void 0;case m.LabelReference:return e.label??void 0;case m.OrdinalTypeAttribute:return e.type??void 0;case m.ProcedureCall:return e.procedure??void 0;case m.ReferenceItem:return e.ref??void 0;case m.TypeAttribute:return e.type??void 0;case m.FetchEntry:return e.entry?.ref??void 0}return void 0}function Sa(e,t){const n=e.positionAt(t);return{line:n.line,character:n.character}}function Qr(e,t){return{start:Sa(e,t.start),end:Sa(e,t.end)}}function cf(e){return e.payload?.uri?.toString()}function tn(e){return{start:e.startOffset,end:e.endOffset+1}}function Mt(e){const t=Ws(e);if(t){return tn(t)}return void 0}var Re;(function(e){e[e["I"]=0]="I";e[e["W"]=1]="W";e[e["E"]=2]="E";e[e["S"]=3]="S";e[e["U"]=4]="U"})(Re||(Re={}));function LE(e){switch(e){case Re.I:return nr.Information;case Re.W:return nr.Warning;case Re.E:return nr.Error;case Re.S:return nr.Error;case Re.U:return nr.Hint}}function CE(e){const t=new Map;for(const n of e){const r=n.uri;const i=UE(n);if(!t.has(r)){t.set(r,[])}t.get(r)?.push(i)}return t}function UE(e){const t=Dt.get(e.uri);return{severity:LE(e.severity),range:{start:t?Sa(t,e.range.start):{character:0,line:0},end:t?Sa(t,e.range.end):{character:0,line:0}},message:e.message,code:e.code,data:e.data,source:e.source??"pli"}}function Tl(e,t){return e[ME(e,t)]}function ME(e,t){let n=0;let r=e.length-1;let i;let a=-1;while(n<=r){a=Math.floor((n+r)/2);i=e[a];const s=i.startOffset;const o=i.endOffset;if(s===t){const c=e[a-1];if(c&&Lc(c,t)){return a-1}else{return a}}else if(s<t&&t<=o){return a}else if(Lc(i,t)){return a}else if(s>t){r=a-1}else{n=a+1}}return-1}function Lc(e,t){const n=e.endOffset;return t-n===1&&/\w$/u.test(e.image)}function wE(e,t){return e.endOffset>=t||Lc(e,t)}function GE(e,t){if(e.length===0){return-1}const n=e.length-1;for(let r=-1;r<n;r++){const i=e[r+1];if(wE(i,t)){return r}}return n}function ga(e,t){switch(e.kind){case m.ActivateStatement:e.items.forEach(t);break;case m.ActivateItem:if(e.reference){t(e.reference)}break;case m.DeactivateStatement:e.references.forEach(t);break;case m.CompilerOption:break;case m.CompilerOptionString:break;case m.CompilerOptionText:break;case m.TokenStatement:break;case m.AFormatItem:if(e.fieldWidth){t(e.fieldWidth)}break;case m.AllocateDimension:if(e.dimensions){t(e.dimensions)}break;case m.AllocatedVariable:if(e.var){t(e.var)}if(e.attribute){t(e.attribute)}break;case m.AllocateLocationReferenceIn:if(e.area){t(e.area)}break;case m.AllocateLocationReferenceSet:if(e.locatorVariable){t(e.locatorVariable)}break;case m.AllocateStatement:e.variables.forEach(t);break;case m.AllocateType:if(e.dimensions){t(e.dimensions)}break;case m.AssertStatement:if(e.actual){t(e.actual)}if(e.displayExpression){t(e.displayExpression)}if(e.expected){t(e.expected)}break;case m.AssignmentStatement:e.refs.forEach(t);if(e.expression){t(e.expression)}if(e.dimacrossExpr){t(e.dimacrossExpr)}break;case m.AttachStatement:if(e.reference){t(e.reference)}if(e.task){t(e.task)}if(e.tstack){t(e.tstack)}break;case m.BeginStatement:if(e.options){t(e.options)}e.statements.forEach(t);if(e.end){t(e.end)}break;case m.BFormatItem:if(e.fieldWidth){t(e.fieldWidth)}break;case m.BinaryExpression:if(e.left){t(e.left)}if(e.right){t(e.right)}break;case m.Bound:if(e.refer){t(e.refer)}if(e.expression&&e.expression!=="*"){t(e.expression)}break;case m.CallStatement:if(e.call){t(e.call)}break;case m.CancelThreadStatement:if(e.thread){t(e.thread)}break;case m.CFormatItem:break;case m.CloseStatement:for(const n of e.files){if(n!=="*"){t(n)}}break;case m.CMPATOptionsItem:break;case m.ColumnFormatItem:if(e.characterPosition){t(e.characterPosition)}break;case m.CompilerOptions:break;case m.ComputationDataAttribute:if(e.dimensions){t(e.dimensions)}break;case m.ConditionPrefix:e.items.forEach(t);break;case m.ConditionPrefixItem:e.conditions.forEach(t);break;case m.DataSpecificationDataList:e.items.forEach(t);break;case m.DataSpecificationDataListItem:if(e.value){t(e.value)}break;case m.DataSpecificationOptions:if(e.dataList){t(e.dataList)}e.dataLists.forEach(t);e.formatLists.forEach(t);e.dataListItems.forEach(t);break;case m.DateAttribute:break;case m.DeclaredItem:for(const n of e.elements){t(n)}e.attributes.forEach(t);break;case m.DeclaredVariable:break;case m.DeclareStatement:e.items.forEach(t);break;case m.DefaultAttributeExpression:e.items.forEach(t);break;case m.DefaultAttributeExpressionNot:break;case m.DefaultExpression:if(e.expression){t(e.expression)}e.attributes.forEach(t);break;case m.DefaultExpressionPart:if(e.expression){t(e.expression)}if(e.identifiers){t(e.identifiers)}break;case m.DefaultRangeIdentifierItem:break;case m.DefaultRangeIdentifiers:for(const n of e.identifiers){if(n!=="*"){t(n)}}break;case m.DefaultStatement:e.expressions.forEach(t);break;case m.DefaultValueAttribute:e.items.forEach(t);break;case m.DefaultValueAttributeItem:e.attributes.forEach(t);break;case m.DefineAliasStatement:e.attributes.forEach(t);break;case m.DefinedAttribute:if(e.reference){t(e.reference)}if(e.position){t(e.position)}break;case m.DefineOrdinalStatement:if(e.ordinalValues){t(e.ordinalValues)}break;case m.DefineStructureStatement:e.substructures.forEach(t);break;case m.DelayStatement:if(e.delay){t(e.delay)}break;case m.DeleteStatement:if(e.file){t(e.file)}if(e.key){t(e.key)}break;case m.DetachStatement:if(e.reference){t(e.reference)}break;case m.DimensionBound:if(e.lower){t(e.lower)}if(e.upper){t(e.upper)}break;case m.Dimensions:e.dimensions.forEach(t);break;case m.DimensionsDataAttribute:if(e.dimensions){t(e.dimensions)}break;case m.DisplayStatement:if(e.expression){t(e.expression)}if(e.reply){t(e.reply)}break;case m.DoSpecification:if(e.expression){t(e.expression)}if(e.upthru){t(e.upthru)}if(e.downthru){t(e.downthru)}if(e.repeat){t(e.repeat)}if(e.to){t(e.to)}if(e.by){t(e.by)}break;case m.DoStatement:e.statements.forEach(t);if(e.end){t(e.end)}if(e.doType2){t(e.doType2)}if(e.doType3){t(e.doType3)}break;case m.DoType3:if(e.variable){t(e.variable)}e.specifications.forEach(t);break;case m.DoUntil:if(e.until){t(e.until)}if(e.while){t(e.while)}break;case m.DoWhile:if(e.while){t(e.while)}if(e.until){t(e.until)}break;case m.EFormatItem:if(e.fieldWidth){t(e.fieldWidth)}if(e.fractionalDigits){t(e.fractionalDigits)}if(e.significantDigits){t(e.significantDigits)}break;case m.EndStatement:e.labels.forEach(t);if(e.label){t(e.label)}break;case m.EntryAttribute:e.attributes.forEach(t);e.options.forEach(t);e.returns.forEach(t);e.environmentName.forEach(t);break;case m.EntryParameterDescription:e.attributes.forEach(t);break;case m.EntryStatement:e.parameters.forEach(t);e.returns.forEach(t);e.options.forEach(t);e.environmentName.forEach(t);break;case m.EntryUnionDescription:e.attributes.forEach(t);e.prefixedAttributes.forEach(t);break;case m.EnvironmentAttribute:e.items.forEach(t);break;case m.EnvironmentAttributeItem:e.args.forEach(t);break;case m.ExecStatement:break;case m.ExitStatement:break;case m.Exports:break;case m.FetchEntry:if(e.entry){t(e.entry)}if(e.set){t(e.set)}if(e.title){t(e.title)}break;case m.FetchStatement:e.entries.forEach(t);break;case m.FFormatItem:if(e.fieldWidth){t(e.fieldWidth)}if(e.fractionalDigits){t(e.fractionalDigits)}if(e.scalingFactor){t(e.scalingFactor)}break;case m.FileReferenceCondition:if(e.fileReference){t(e.fileReference)}break;case m.FlushStatement:if(e.file&&e.file!=="*"){t(e.file)}break;case m.FormatList:e.items.forEach(t);break;case m.FormatListItem:if(e.level){t(e.level)}if(e.item){t(e.item)}if(e.list){t(e.list)}break;case m.FormatListItemLevel:break;case m.FormatStatement:if(e.list){t(e.list)}break;case m.FreeStatement:e.references.forEach(t);break;case m.GetCopy:break;case m.GetFile:if(e.file){t(e.file)}break;case m.GetFileStatement:e.specifications.forEach(t);break;case m.GetSkip:if(e.skipExpression){t(e.skipExpression)}break;case m.GetStringStatement:if(e.expression){t(e.expression)}if(e.dataSpecification){t(e.dataSpecification)}break;case m.GFormatItem:if(e.fieldWidth){t(e.fieldWidth)}break;case m.GoToStatement:if(e.label){t(e.label)}break;case m.GenericAttribute:e.references.forEach(t);break;case m.GenericReference:if(e.entry){t(e.entry)}for(const n of e.descriptors){if(n!=="*"){t(n)}}break;case m.GenericDescriptor:e.attributes.forEach(t);break;case m.HandleAttribute:break;case m.IfStatement:if(e.expression){t(e.expression)}if(e.unit){t(e.unit)}if(e.else){t(e.else)}break;case m.IncludeDirective:e.items.forEach(t);break;case m.IncludeItem:break;case m.IndForAttribute:if(e.reference){t(e.reference)}break;case m.InitAcrossExpression:e.expressions.forEach(t);break;case m.InitialAttribute:e.expressions.forEach(t);e.items.forEach(t);if(e.procedureCall){t(e.procedureCall)}if(e.content){t(e.content)}break;case m.InitialAttributeItemStar:break;case m.InitialAttributeSpecification:if(e.item){t(e.item)}if(e.expression){t(e.expression)}break;case m.InitialAttributeSpecificationIterationValue:e.items.forEach(t);break;case m.InitialToContent:break;case m.IterateStatement:if(e.label){t(e.label)}break;case m.KeywordCondition:break;case m.LabelPrefix:break;case m.LabelReference:break;case m.LeaveStatement:if(e.label){t(e.label)}break;case m.LFormatItem:break;case m.LikeAttribute:if(e.reference){t(e.reference)}break;case m.LineDirective:break;case m.LineFormatItem:if(e.lineNumber){t(e.lineNumber)}break;case m.LinkageOptionsItem:break;case m.Literal:if(e.multiplier){t(e.multiplier)}if(e.value){t(e.value)}break;case m.LocateStatement:if(e.variable){t(e.variable)}break;case m.LocateStatementOption:if(e.element){t(e.element)}break;case m.LocatorCall:if(e.element){t(e.element)}if(e.previous){t(e.previous)}break;case m.MemberCall:if(e.element){t(e.element)}if(e.previous){t(e.previous)}break;case m.NamedCondition:break;case m.NoMapOptionsItem:break;case m.NoPrintDirective:break;case m.NoteDirective:if(e.message){t(e.message)}if(e.code){t(e.code)}break;case m.NullStatement:break;case m.NumberLiteral:break;case m.OnStatement:e.conditions.forEach(t);if(e.onUnit){t(e.onUnit)}break;case m.OpenStatement:e.options.forEach(t);break;case m.OpenOptionsGroup:e.options.forEach(t);break;case m.OpenOption:if(e.expression){t(e.expression)}break;case m.Options:e.items.forEach(t);break;case m.OrdinalTypeAttribute:break;case m.OrdinalValue:break;case m.OrdinalValueList:e.members.forEach(t);break;case m.OtherwiseStatement:if(e.unit){t(e.unit)}break;case m.Package:if(e.exports){t(e.exports)}if(e.reserves){t(e.reserves)}if(e.options){t(e.options)}e.statements.forEach(t);if(e.end){t(e.end)}break;case m.PageDirective:break;case m.PageFormatItem:break;case m.Parenthesis:if(e.value){t(e.value)}if(e.do){t(e.do)}break;case m.PFormatItem:break;case m.PictureAttribute:break;case m.PliProgram:e.statements.forEach(t);break;case m.PopDirective:break;case m.PrefixedAttribute:e.attributes.forEach(t);break;case m.PrintDirective:break;case m.ProcedureCall:if(e.args1){t(e.args1)}if(e.args2){t(e.args2)}break;case m.ProcedureCallArgs:for(const n of e.list){if(n!=="*"){t(n)}}break;case m.ProcedureParameter:break;case m.ProcedureStatement:e.parameters.forEach(t);e.statements.forEach(t);e.options.forEach(t);if(e.end){t(e.end)}break;case m.ProcedureOrderOption:break;case m.ProcedureRecursiveOption:break;case m.ProcedureScopeOption:break;case m.EnvironmentOption:if(e.environment){t(e.environment)}break;case m.ProcessDirective:e.compilerOptions.forEach(t);break;case m.ProcincDirective:break;case m.PushDirective:break;case m.PutFileStatement:e.items.forEach(t);break;case m.PutItem:if(e.expression){t(e.expression)}break;case m.PutStringStatement:if(e.stringExpression){t(e.stringExpression)}if(e.dataSpecification){t(e.dataSpecification)}break;case m.QualifyStatement:e.statements.forEach(t);if(e.end){t(e.end)}break;case m.ReadStatement:e.arguments.forEach(t);break;case m.ReadStatementOption:if(e.value){t(e.value)}break;case m.ReferenceItem:if(e.dimensions){t(e.dimensions)}break;case m.ReinitStatement:if(e.reference){t(e.reference)}break;case m.ReleaseStatement:break;case m.Reserves:break;case m.ResignalStatement:break;case m.ReturnsAttribute:e.attrs.forEach(t);break;case m.ReturnsOption:e.returnAttributes.forEach(t);break;case m.ReturnStatement:if(e.expression){t(e.expression)}break;case m.RevertStatement:e.conditions.forEach(t);break;case m.RewriteStatement:e.arguments.forEach(t);break;case m.RewriteStatementOption:if(e.value){t(e.value)}break;case m.RFormatItem:break;case m.SelectStatement:if(e.on){t(e.on)}e.statements.forEach(t);if(e.end){t(e.end)}break;case m.SignalStatement:e.condition.forEach(t);break;case m.SimpleOptionsItem:break;case m.SkipDirective:if(e.lines){t(e.lines)}break;case m.SkipFormatItem:if(e.skip){t(e.skip)}break;case m.Statement:if(e.condition){t(e.condition)}e.labels.forEach(t);if(e.value){t(e.value)}break;case m.StopStatement:break;case m.StringLiteral:break;case m.SubStructure:e.attributes.forEach(t);break;case m.TypeAttribute:break;case m.UnaryExpression:if(e.expr){t(e.expr)}break;case m.ValueAttribute:if(e.value){t(e.value)}break;case m.ValueListAttribute:e.values.forEach(t);break;case m.ValueListFromAttribute:if(e.from){t(e.from)}break;case m.ValueRangeAttribute:e.values.forEach(t);break;case m.VFormatItem:break;case m.WaitStatement:if(e.task){t(e.task)}break;case m.WhenStatement:e.conditions.forEach(t);if(e.unit){t(e.unit)}break;case m.WriteStatement:e.arguments.forEach(t);break;case m.WriteStatementOption:if(e.value){t(e.value)}break;case m.XFormatItem:if(e.width){t(e.width)}break}}function FE(e,t){const n=new Set;e.procedures.forEach((r,i)=>{if(!n.has(r)){n.add(r)}else{t(Re.E,`The name '${r}' occurs more than once in the EXPORTS clause.`,{code:"IBM1324IE",range:Mt(e),uri:""})}})}function Ts(e){return e.toUpperCase()}function xE(e,t){return Ts(e)===Ts(t)}function BE(e){const t=e.container;if(t?.kind!==m.Statement){return false}const n=t.value;if(n?.kind!==m.ProcedureStatement){return false}return n.options.filter(r=>r.kind===m.Options).flatMap(r=>r.items).filter(r=>r.kind===m.SimpleOptionsItem).some(r=>r.value?.toLowerCase()==="main")}function qE(e,t){const n=e.options.filter(i=>i.kind===m.Options).flatMap(i=>i.items);const r=n.find(i=>i.kind===m.SimpleOptionsItem&&i.value&&i.value.toUpperCase()==="NODESCRIPTOR");if(r){const i=new Set(e.parameters.map(o=>o.name?Ts(o.name):o.name));const a=e.statements.filter(o=>o.kind===m.Statement).map(o=>o.value).filter(o=>o!==null&&o.kind===m.DeclareStatement);const s=a.flatMap(o=>o.items).filter(o=>o.elements.some(c=>c.kind!==m.WildcardItem&&"name"in c&&c.name&&i.has(Ts(c.name)))).filter(o=>o.attributes.some(c=>c.kind===m.ComputationDataAttribute&&xE(c.type,"NONCONNECTED")));if(s.length>0){t(Re.E,"The NODESCRIPTOR attribute is invalid when any parameters have the NONCONNECTED attribute.",{code:"IBM1388IE",range:Mt(r),uri:""})}}}const da={IBM1159I:{code:"IBM1159I",severity:"W",message:e=>`The string ${e} is not recognized as a valid option keyword and is ignored.`,fullCode:"IBM1159IW"},IBM1213I:{code:"IBM1213I",severity:"W",message:e=>`The PROCEDURE ${e} is not referenced.`,fullCode:"IBM1213IW"},IBM3332I:{message:"The END statement has no matching BEGIN, DO, PACKAGE, PROC, or SELECT. This may indicate a problem with the syntax of a previous statement.",fullCode:"IBM3332IW"}};const Rt={IBM1231I:{code:"IBM1231I",severity:"E",message:e=>`Arguments/subscripts have been specified for the variable ${e} , but it is neither an entry nor an array variable.`,fullCode:"IBM1231IE"},IBM1306I:{code:"IBM1306I",severity:"E",message:e=>`Repeated declaration of ${e} is invalid and will be ignored.`,fullCode:"IBM1306IE"},IBM1308I:{code:"IBM1308I",severity:"E",message:e=>`Repeated declaration of ${e} is invalid. The name will be replaced by an asterisk.`,fullCode:"IBM1308IE"},IBM1316I:{message:"END label is not a label on any open group.",fullCode:"IBM1316IE"},IBM1363I:{message:"Structure level greater than 255 specified. It will be replaced by 255.",fullCode:"IBM1363IE"},IBM1376I:{message:"Factoring of level numbers into declaration lists containing level numbers is invalid. The level numbers in the declaration list will be ignored.",fullCode:"IBM1376IE"},IBM2462I:{code:"IBM2462I",severity:"E",message:(e,t)=>`The attribute ${e} conflicts with the attribute ${t} and is ignored.`,fullCode:"IBM2462IE"}};const rr={IBM1695I:{message:"Reference in CALL statement must either be a built-in subroutine or have type ENTRY.",fullCode:"IBM1695IS"},IBM1881I:{code:"IBM1881I",severity:"S",message:e=>`The reference ${e} is ambiguous.`,fullCode:"IBM1881IS"},IBM1916I:{code:"IBM1916I",severity:"S",message:e=>`The PROCEDURE/ENTRY ${e} has already been defined.`,fullCode:"IBM1916IS"},IBM1917I:{message:"Program contains no valid source lines.",fullCode:"IBM1917IS"}};function WE(){const e=new VE;const t={PliProgram:[e.checkPliProgram],Exports:[FE],ReturnsOption:[e.checkReturnsOption],ProcedureStatement:[qE],LabelReference:[e.checkLabelReference],CallStatement:[e.checkCallStatement],DefineOrdinalStatement:[e.checkDefineOrdinalStatement],DeclareStatement:[e.checkDeclareStatement]};return t}class VE{checkPliProgram(t,n){if(t.statements.length===0){n(Re.S,rr.IBM1917I.message,{code:rr.IBM1917I.fullCode,range:Mt(t),uri:""})}}checkDeclareStatement(t,n){const r=i=>a=>{if(a.kind===m.DeclaredItem){if(i&&a.levelToken){const c=cf(a.levelToken);const h=tn(a.levelToken);if(c){n(Re.E,Rt.IBM1376I.message,{code:Rt.IBM1376I.fullCode,range:h,uri:c})}}const s=a.level!==void 0;const o=r(s);a.elements.forEach(o)}else{ga(a,r(false))}};t.items.forEach(r(false))}checkReturnsOption(t,n){const r=new Set;for(const i of t.returnAttributes){if(i.kind===m.ComputationDataAttribute){const a=i.type.toUpperCase();r.add(a);if(r.has(`UN${a}`)){n(Re.E,Rt.IBM2462I.message(a,`UN${a}`),{code:Rt.IBM2462I.fullCode,range:Mt(t),uri:""})}if(a.startsWith("UN")&&r.has(a.slice(2))){n(Re.E,Rt.IBM2462I.message(a,a.slice(2)),{code:Rt.IBM2462I.fullCode,range:Mt(t),uri:""})}}}}checkLabelReference(t,n){if(t.label&&!t.label.node){n(Re.W,da.IBM3332I.message,{code:da.IBM3332I.fullCode,range:Mt(t),uri:""});n(Re.E,Rt.IBM1316I.message,{code:Rt.IBM1316I.fullCode,range:Mt(t),uri:""})}}checkCallStatement(t,n){const r=t.call?.procedure?.node;if(r&&r.kind===m.DeclaredVariable){const i=r.container;if(i.kind===m.DeclaredItem){if(!i.attributes.some(a=>a.kind===m.EntryAttribute)){n(Re.S,rr.IBM1695I.message,{code:rr.IBM1695I.fullCode,range:Mt(t),uri:""});if(t.call?.args1){n(Re.E,Rt.IBM1231I.message(t.call?.procedure?.text),{code:Rt.IBM1231I.fullCode,range:Mt(t),uri:""})}}}}}checkDefineOrdinalStatement(t,n){const r=t.attributes;const i=new Set;for(const a of r){const s=a.toLowerCase();if(s==="signed"&&i.has("unsigned")||s==="unsigned"&&i.has("signed")){n(Re.W,"Signed & unsigned attributes are mutually exclusive, ideally only one should be specified.",{range:Mt(t),uri:""})}else if(s.match(/prec/)&&i.has("prec")){n(Re.W,"Multiple precision attributes will result in only one taking effect, ideally only one should be specified.",{range:Mt(t),uri:""})}else{i.add(s.match(/prec/)?"prec":s)}}}}function $E(e){const t=cf(e);const n=tn(e);if(!t){return null}return{uri:t,range:n}}function Hr(e,t){const n=$E(e);if(!n){return}t(n)}class lf{accept;constructor(t){this.accept=t}reportLevelError(t){Hr(t,({range:n,uri:r})=>this.accept(Re.E,Rt.IBM1363I.message,{code:Rt.IBM1363I.fullCode,range:n,uri:r}))}reportRedeclaration(t){Hr(t,({range:n,uri:r})=>this.accept(Re.E,Rt.IBM1308I.message(t.image),{code:Rt.IBM1308I.fullCode,range:n,uri:r}))}reportAlreadyDeclared(t,n){Hr(t,({range:r,uri:i})=>this.accept(Re.S,rr.IBM1916I.message(n),{uri:i,range:r,code:rr.IBM1916I.fullCode}))}reportRepeatedDeclaration(t,n){Hr(t,({range:r,uri:i})=>this.accept(Re.E,Rt.IBM1306I.message(n),{uri:i,range:r,code:Rt.IBM1306I.fullCode}))}reportCannotFindSymbol(t,n){Hr(t,({range:r,uri:i})=>this.accept(Re.W,`Cannot find symbol '${n}'`,{uri:i,range:r}))}reportUnreferencedSymbol(t){Hr(t,({range:n,uri:r})=>this.accept(Re.W,da.IBM1213I.message(t.image),{uri:r,range:n,code:da.IBM1213I.fullCode}))}}class Vs{diagnostics=[];getAcceptor(){return(t,n,r)=>{this.diagnostics.push({severity:t,message:n,...r})}}getDiagnostics(){return this.diagnostics}}function HE(e){const t=WE();const n=new Vs;const r=n.getAcceptor();uf(e.ast,r,t);e.diagnostics.validation=n.getDiagnostics()}function uf(e,t,n){const r=m[e.kind];if(n[r]){let i=n[r]??[];if(!(i instanceof Array)){i=[i]}for(const a of i){a(e,t)}}ga(e,i=>{uf(i,t,n)})}function jE(e){const t=[];for(const n of e){if(!isNaN(n.range.start)){t.push({uri:n.uri.toString(),severity:Re.E,range:n.range,message:n.message,source:"lexer"})}}return t}function zE(e){const t=[];for(const n of e){let r=void 0;let i=void 0;if(isNaN(n.token.startOffset)){if("previousToken"in n){const a=n.previousToken;if(!isNaN(a.startOffset)){r={start:a.startOffset,end:a.startOffset};i=a.payload?.uri?.toString()}else{r={start:0,end:0}}}}else{r={start:n.token.startOffset,end:n.token.startOffset};i=n.token.payload?.uri?.toString()}if(r&&i){const a={uri:i,severity:Re.E,range:r,message:n.message,source:"parser"};t.push(a)}}return t}function YE(e,t){const n=new Set(e.values().flatMap(r=>r.symbolTable.symbols.values()).filter(r=>r.isRedeclared));for(const r of n){const i=r.token;if(!i){continue}if(r.node.kind===m.LabelPrefix){t.reportAlreadyDeclared(i,r.name)}else{t.reportRepeatedDeclaration(i,r.name)}}}function XE(e,t){const n=new Vs;const r=new lf(n.getAcceptor());YE(t.regular,r);for(const i of e.allReferences()){if(i.node===null&&af(i.token)){r.reportCannotFindSymbol(i.token,i.text)}}for(const[i,a]of e.allReverseReferences()){if(i.kind===m.LabelPrefix){if(!i.nameToken){continue}if(BE(i)){continue}const s=a.filter(o=>o.owner.container?.kind!==m.EndStatement);if(s.length>0){continue}r.reportUnreferencedSymbol(i.nameToken)}}return n.getDiagnostics()}class QE{list=[];reverseMap=new Map;clear(){this.list=[];this.reverseMap.clear()}add(t){this.list.push(t)}addInverse(t){if(t.node){let n=this.reverseMap.get(t.node);if(!n){n=[];this.reverseMap.set(t.node,n)}n.push(t)}}findReferences(t){return this.reverseMap.get(t)||[]}allReferences(){return this.list}allReverseReferences(){return this.reverseMap}}function yl(e){if(e.owner.container?.kind===m.MemberCall){const t=e.owner.container;if(t.previous?.element?.ref){const n=yl(t.previous.element.ref);n.unshift(e.text);return n}}return[e.text]}function JE(e,t,n){if(e.text!==n.name){if(!n.parent){throw new Error("Resolved parent is null, should not happen. There is probably a mistake in the symbol table.")}Cc(e,n.parent);return}e.node=n.node;if(t.previous?.element?.ref&&n.parent){Cc(t.previous.element.ref,n.parent)}}function Cc(e,t){if(e.owner.container?.kind===m.MemberCall){const n=e.owner.container;JE(e,n,t);return}e.node=t.node}function ZE(e,t,n){if(t.node===null||t.node!==void 0){return}const r=yl(t);const i=e.scopeCaches.get(t.owner);if(!i){return}const a=i.getSymbols(r).filter(c=>!c.isRedeclared);const s=a.length>1;if(s){const c=r.toReversed().join(".");n(Re.S,rr.IBM1881I.message(c),{code:rr.IBM1881I.fullCode,range:tn(t.token),uri:t.token.payload?.uri?.toString()??""})}const o=a[0];if(!o){t.node=null;return}Cc(t,o)}function KE(e){const t=new Vs;const n=t.getAcceptor();for(const r of e.references.allReferences()){ZE(e,r,n);e.references.addInverse(r)}return t.getDiagnostics()}function eA(e){const t=e.payload;let n=t.element;if(of(t.kind)){const r=Pl(t.element);if(r?.node){n=r.node}else{return void 0}}else if(!sf(t.kind)){return void 0}return n}function tA(e,t){return e.references.findReferences(t)}function bl(e,t,n){const r=Tl(e.tokens.fileTokens[t.toString()]??[],n);if(!r){return[]}const i=eA(r);if(!i){return[]}const a=[];const s=tA(e,i);const o=Ws(i);if(o?.payload?.uri){a.push({uri:o.payload.uri.toString(),range:tn(o)})}for(const c of s){if(c.token.payload?.uri){a.push({uri:c.token.payload.uri.toString(),range:tn(c.token)})}}return a}function hf(e,t){return e.reduce((n,r)=>{const i=t(r);if(!n[i]){n[i]=[]}n[i].push(r);return n},{})}function nA(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,t(r,n)]))}function rA(e){throw new Error("Error! The input value was not handled.")}var un;(function(e){e[e["NoQualification"]=0]="NoQualification";e[e["FullQualification"]=1]="FullQualification";e[e["PartialQualification"]=2]="PartialQualification"})(un||(un={}));class mf{node;parent;level;token;isRedeclared=void 0;constructor(t,n,r=null,i=1){this.token=t;this.node=n;this.parent=r;this.level=i}get name(){return this.token?.image??""}getParent(){return this.parent}getQualificationStatus(t){const n=t[0];if(!n){return un.NoQualification}const r=this.name===n;const i=r?t.slice(1):t;const a=i.length<=0;if(a){const o=!this.parent;if(o){return un.FullQualification}else{return un.PartialQualification}}if(!this.parent){return un.NoQualification}const s=this.parent.getQualificationStatus(i);switch(s){case un.FullQualification:return r?un.FullQualification:un.PartialQualification;default:return s}}}class ff{map=new Map;constructor(t){if(t){for(const[n,r]of t){this.add(n,r)}}}clear(){this.map.clear()}delete(t,n){if(n===void 0){return this.map.delete(t)}else{const r=this.map.get(t);if(r){const i=r.indexOf(n);if(i>=0){if(r.length===1){this.map.delete(t)}else{r.splice(i,1)}return true}}return false}}get(t){return this.map.get(t)??[]}has(t,n){if(n===void 0){return this.map.has(t)}else{const r=this.map.get(t);if(r){return r.indexOf(n)>=0}return false}}add(t,n){if(this.map.has(t)){this.map.get(t).push(n)}else{this.map.set(t,[n])}return this}addAll(t,n){if(this.map.has(t)){this.map.get(t).push(...n)}else{this.map.set(t,Array.from(n))}return this}forEach(t){this.map.forEach((n,r)=>n.forEach(i=>t(i,r,this)))}[Symbol.iterator](){return this.entries()}entries(){return this.map.entries().flatMap(([t,n])=>n.map(r=>[t,r]))}keys(){return this.map.keys()}values(){return Array.from(this.map.values()).flatMap(t=>t)}entriesGroupedByKey(){return this.map.entries()}}function pf(e){if(e.kind===m.DeclaredItem&&e.level!==null&&e.levelToken!==null){return[e.level,e.levelToken]}if(e.container){return pf(e.container)}return null}function iA(e){if(e.kind===m.WildcardItem){return e.token??void 0}return Ws(e)}function Sf(e,t=null){const n=e.slice();const r=[];for(const i of n){if(i.kind===m.DeclaredItem){r.push(...Sf(i.elements,i))}else{if(t===null){continue}const[a,s]=pf(i)??[null,null];r.push({kind:i.kind,level:a,levelToken:s,node:i,container:t})}}return r}class aA{items;reporter;constructor(t,n){this.items=Sf(t);this.reporter=new lf(n)}peek(){return this.items[0]}pop(){return this.items.shift()}getLevel(t){const n=t.level;if(n===null){return 1}if(n>255){this.reporter.reportLevelError(t.levelToken);return 255}return n}_generate(t,n,r){const i=new ff;while(true){const a=this.peek();if(!a){break}const s=this.getLevel(a);if(s<=r){break}this.pop();const o=iA(a.node);if(!o){continue}const c=o.image;const h=()=>i.get(c).length>0;if(a.kind!==m.WildcardItem&&a.level!==null&&h()){this.reporter.reportRedeclaration(o)}const f=new mf(o,a.node,n,s);i.add(c,f);t.addSymbolDeclaration(c,f);this._generate(t,f,s)}}generate(t){this._generate(t,null,0)}}class Uc{symbolTable;parent;constructor(t,n=null){this.parent=t;this.symbolTable=n??new Mc}getSymbols(t){return this.symbolTable?.getSymbols(t)??this.parent?.getSymbols(t)??[]}allDistinctSymbols(t,n=[]){if(this.symbolTable){n.push(...this.symbolTable.allDistinctSymbols(t))}if(this.parent){this.parent.allDistinctSymbols(t,n)}return n}}class sA{regular=new Ph;preprocessor=new Ph;clear(){this.regular.clear();this.preprocessor.clear()}get(t){return this.regular.get(t)??this.preprocessor.get(t)}}class Ph{scopes=new Map;add(t,n){this.scopes.set(t,n)}get(t){return this.scopes.get(t)}clear(){this.scopes.clear()}values(){return Array.from(this.scopes.values())}}class Mc{symbols=new ff;addDeclarationStatement(t,n){const r=new aA(t.items,n);r.generate(this)}addSymbolDeclaration(t,n){this.symbols.add(t,n)}allDistinctSymbols(t){const n=[];const r=new Map;for(const[i,a]of this.symbols.entriesGroupedByKey()){if(t.length>0){for(const s of a){let o=s.getParent();let c=0;while(o&&c<t.length){const h=t[c];if(o.name===h){c++}o=o.getParent()}if(c===t.length){if(!r.get(s.name)){r.set(s.name,[])}r.get(i).push(s)}}}else{r.set(i,a)}}for(const i of r.values()){if(i.length===1){n.push(i[0])}}return n}getSymbols(t){const[n]=t;if(!n){return void 0}const r=this.symbols.get(n);if(!r){return void 0}const i=hf(r,o=>o.getQualificationStatus(t));const a=i[un.FullQualification];const s=i[un.PartialQualification];if(a){return a}else if(s){return s}else{return void 0}}clear(){this.symbols.clear()}}const Th=[m.LabelPrefix];function oA(e){for(const t of e.values()){const n=Array.from(t.symbolTable.symbols.entriesGroupedByKey(),([,r])=>r.filter(i=>i.level===1).filter(i=>i.node.kind!==m.WildcardItem));for(const r of n){const i=r.length>1;for(const a of r){a.isRedeclared=i}if(i){const[a]=r.toSorted((s,o)=>Th.indexOf(o.node.kind)-Th.indexOf(s.node.kind));a.isRedeclared=false}}}}function cA(e){const{scopeCaches:t,references:n}=e;wc(e.ast);wc(e.preprocessorAst);const r=new Vs;const i=r.getAcceptor();const a=new Mc;const s=new Uc(null,a);Gc(t.preprocessor,n,i,e.preprocessorAst,s);const o=new Mc;const c=new Uc(null,o);Gc(t.regular,n,i,e.ast,c);oA(t.regular);return r.getDiagnostics()}function wc(e){ga(e,t=>{t.container=e;wc(t)})}const Gc=(e,t,n,r,i)=>{const a=Pl(r);if(a){t.add(a)}e.add(r,i);const s=o=>c=>Gc(e,t,n,c,o);switch(r.kind){case m.LabelPrefix:case m.OrdinalValue:if(r.name&&r.nameToken){i.symbolTable.addSymbolDeclaration(r.name,new mf(r.nameToken,r))}break;case m.ProcedureStatement:const o=new Uc(i);const c={...r,end:null};ga(c,s(o));if(r.end){s(i)(r.end)}break;case m.DeclareStatement:i.symbolTable.addDeclarationStatement(r,n);break;default:ga(r,s(i))}};var gf=typeof global=="object"&&global&&global.Object===Object&&global;var lA=typeof self=="object"&&self&&self.Object===Object&&self;var bn=gf||lA||Function("return this")();var rn=bn.Symbol;var df=Object.prototype;var uA=df.hasOwnProperty;var hA=df.toString;var Hi=rn?rn.toStringTag:void 0;function mA(e){var t=uA.call(e,Hi),n=e[Hi];try{e[Hi]=void 0;var r=true}catch(a){}var i=hA.call(e);if(r){if(t){e[Hi]=n}else{delete e[Hi]}}return i}var fA=Object.prototype;var pA=fA.toString;function SA(e){return pA.call(e)}var gA="[object Null]";var dA="[object Undefined]";var yh=rn?rn.toStringTag:void 0;function cr(e){if(e==null){return e===void 0?dA:gA}return yh&&yh in Object(e)?mA(e):SA(e)}function fn(e){return e!=null&&typeof e=="object"}var _A="[object Symbol]";function Pa(e){return typeof e=="symbol"||fn(e)&&cr(e)==_A}function $s(e,t){var n=-1,r=e==null?0:e.length,i=Array(r);while(++n<r){i[n]=t(e[n],n,e)}return i}var _e=Array.isArray;var bh=rn?rn.prototype:void 0;var Nh=bh?bh.toString:void 0;function _f(e){if(typeof e=="string"){return e}if(_e(e)){return $s(e,_f)+""}if(Pa(e)){return Nh?Nh.call(e):""}var t=e+"";return t=="0"&&1/e==-Infinity?"-0":t}var EA=/\s/;function AA(e){var t=e.length;while(t--&&EA.test(e.charAt(t))){}return t}var IA=/^\s+/;function OA(e){return e?e.slice(0,AA(e)+1).replace(IA,""):e}function an(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var kh=0/0;var RA=/^[-+]0x[0-9a-f]+$/i;var PA=/^0b[01]+$/i;var TA=/^0o[0-7]+$/i;var yA=parseInt;function bA(e){if(typeof e=="number"){return e}if(Pa(e)){return kh}if(an(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=an(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=OA(e);var n=PA.test(e);return n||TA.test(e)?yA(e.slice(2),n?2:8):RA.test(e)?kh:+e}var NA=1/0;var kA=17976931348623157e292;function DA(e){if(!e){return e===0?e:0}e=bA(e);if(e===NA||e===-Infinity){var t=e<0?-1:1;return t*kA}return e===e?e:0}function Hs(e){var t=DA(e),n=t%1;return t===t?n?t-n:t:0}function Cr(e){return e}var vA="[object AsyncFunction]";var LA="[object Function]";var CA="[object GeneratorFunction]";var UA="[object Proxy]";function Sn(e){if(!an(e)){return false}var t=cr(e);return t==LA||t==CA||t==vA||t==UA}var Io=bn["__core-js_shared__"];var Dh=function(){var e=/[^.]+$/.exec(Io&&Io.keys&&Io.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function MA(e){return!!Dh&&Dh in e}var wA=Function.prototype;var GA=wA.toString;function xr(e){if(e!=null){try{return GA.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var FA=/[\\^$.*+?()[\]{}|]/g;var xA=/^\[object .+?Constructor\]$/;var BA=Function.prototype;var qA=Object.prototype;var WA=BA.toString;var VA=qA.hasOwnProperty;var $A=RegExp("^"+WA.call(VA).replace(FA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HA(e){if(!an(e)||MA(e)){return false}var t=Sn(e)?$A:xA;return t.test(xr(e))}function jA(e,t){return e==null?void 0:e[t]}function Br(e,t){var n=jA(e,t);return HA(n)?n:void 0}var Fc=Br(bn,"WeakMap");var vh=Object.create;var zA=function(){function e(){}return function(t){if(!an(t)){return{}}if(vh){return vh(t)}e.prototype=t;var n=new e;e.prototype=void 0;return n}}();function YA(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function lt(){}function XA(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r){t[n]=e[n]}return t}var QA=800;var JA=16;var ZA=Date.now;function KA(e){var t=0,n=0;return function(){var r=ZA(),i=JA-(r-n);n=r;if(i>0){if(++t>=QA){return arguments[0]}}else{t=0}return e.apply(void 0,arguments)}}function eI(e){return function(){return e}}var ys=function(){try{var e=Br(Object,"defineProperty");e({},"",{});return e}catch(t){}}();var tI=!ys?Cr:function(e,t){return ys(e,"toString",{"configurable":true,"enumerable":false,"value":eI(t),"writable":true})};var nI=KA(tI);function Ef(e,t){var n=-1,r=e==null?0:e.length;while(++n<r){if(t(e[n],n,e)===false){break}}return e}function Af(e,t,n,r){var i=e.length,a=n+-1;while(++a<i){if(t(e[a],a,e)){return a}}return-1}function rI(e){return e!==e}function iI(e,t,n){var r=n-1,i=e.length;while(++r<i){if(e[r]===t){return r}}return-1}function Nl(e,t,n){return t===t?iI(e,t,n):Af(e,rI,n)}function If(e,t){var n=e==null?0:e.length;return!!n&&Nl(e,t,0)>-1}var aI=9007199254740991;var sI=/^(?:0|[1-9]\d*)$/;function js(e,t){var n=typeof e;t=t==null?aI:t;return!!t&&(n=="number"||n!="symbol"&&sI.test(e))&&(e>-1&&e%1==0&&e<t)}function kl(e,t,n){if(t=="__proto__"&&ys){ys(e,t,{"configurable":true,"enumerable":true,"value":n,"writable":true})}else{e[t]=n}}function Ta(e,t){return e===t||e!==e&&t!==t}var oI=Object.prototype;var cI=oI.hasOwnProperty;function zs(e,t,n){var r=e[t];if(!(cI.call(e,t)&&Ta(r,n))||n===void 0&&!(t in e)){kl(e,t,n)}}function Dl(e,t,n,r){var i=!n;n||(n={});var a=-1,s=t.length;while(++a<s){var o=t[a];var c=void 0;if(c===void 0){c=e[o]}if(i){kl(n,o,c)}else{zs(n,o,c)}}return n}var Lh=Math.max;function lI(e,t,n){t=Lh(t===void 0?e.length-1:t,0);return function(){var r=arguments,i=-1,a=Lh(r.length-t,0),s=Array(a);while(++i<a){s[i]=r[t+i]}i=-1;var o=Array(t+1);while(++i<t){o[i]=r[i]}o[t]=n(s);return YA(e,this,o)}}function vl(e,t){return nI(lI(e,t,Cr),e+"")}var uI=9007199254740991;function Ll(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=uI}function Nn(e){return e!=null&&Ll(e.length)&&!Sn(e)}function Of(e,t,n){if(!an(n)){return false}var r=typeof t;if(r=="number"?Nn(n)&&js(t,n.length):r=="string"&&t in n){return Ta(n[t],e)}return false}function hI(e){return vl(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;a=e.length>3&&typeof a=="function"?(i--,a):void 0;if(s&&Of(n[0],n[1],s)){a=i<3?void 0:a;i=1}t=Object(t);while(++r<i){var o=n[r];if(o){e(t,o,r,a)}}return t})}var mI=Object.prototype;function ya(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||mI;return e===n}function fI(e,t){var n=-1,r=Array(e);while(++n<e){r[n]=t(n)}return r}var pI="[object Arguments]";function Ch(e){return fn(e)&&cr(e)==pI}var Rf=Object.prototype;var SI=Rf.hasOwnProperty;var gI=Rf.propertyIsEnumerable;var Ys=Ch(function(){return arguments}())?Ch:function(e){return fn(e)&&SI.call(e,"callee")&&!gI.call(e,"callee")};function dI(){return false}var Pf=typeof Wt=="object"&&Wt&&!Wt.nodeType&&Wt;var Uh=Pf&&typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt;var _I=Uh&&Uh.exports===Pf;var Mh=_I?bn.Buffer:void 0;var EI=Mh?Mh.isBuffer:void 0;var _a=EI||dI;var AI="[object Arguments]";var II="[object Array]";var OI="[object Boolean]";var RI="[object Date]";var PI="[object Error]";var TI="[object Function]";var yI="[object Map]";var bI="[object Number]";var NI="[object Object]";var kI="[object RegExp]";var DI="[object Set]";var vI="[object String]";var LI="[object WeakMap]";var CI="[object ArrayBuffer]";var UI="[object DataView]";var MI="[object Float32Array]";var wI="[object Float64Array]";var GI="[object Int8Array]";var FI="[object Int16Array]";var xI="[object Int32Array]";var BI="[object Uint8Array]";var qI="[object Uint8ClampedArray]";var WI="[object Uint16Array]";var VI="[object Uint32Array]";var Ue={};Ue[MI]=Ue[wI]=Ue[GI]=Ue[FI]=Ue[xI]=Ue[BI]=Ue[qI]=Ue[WI]=Ue[VI]=true;Ue[AI]=Ue[II]=Ue[CI]=Ue[OI]=Ue[UI]=Ue[RI]=Ue[PI]=Ue[TI]=Ue[yI]=Ue[bI]=Ue[NI]=Ue[kI]=Ue[DI]=Ue[vI]=Ue[LI]=false;function $I(e){return fn(e)&&Ll(e.length)&&!!Ue[cr(e)]}function Xs(e){return function(t){return e(t)}}var Tf=typeof Wt=="object"&&Wt&&!Wt.nodeType&&Wt;var na=Tf&&typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt;var HI=na&&na.exports===Tf;var Oo=HI&&gf.process;var ar=function(){try{var e=na&&na.require&&na.require("util").types;if(e){return e}return Oo&&Oo.binding&&Oo.binding("util")}catch(t){}}();var wh=ar&&ar.isTypedArray;var Cl=wh?Xs(wh):$I;var jI=Object.prototype;var zI=jI.hasOwnProperty;function yf(e,t){var n=_e(e),r=!n&&Ys(e),i=!n&&!r&&_a(e),a=!n&&!r&&!i&&Cl(e),s=n||r||i||a,o=s?fI(e.length,String):[],c=o.length;for(var h in e){if((t||zI.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||js(h,c)))){o.push(h)}}return o}function bf(e,t){return function(n){return e(t(n))}}var YI=bf(Object.keys,Object);var XI=Object.prototype;var QI=XI.hasOwnProperty;function Nf(e){if(!ya(e)){return YI(e)}var t=[];for(var n in Object(e)){if(QI.call(e,n)&&n!="constructor"){t.push(n)}}return t}function sn(e){return Nn(e)?yf(e):Nf(e)}var JI=Object.prototype;var ZI=JI.hasOwnProperty;var Ht=hI(function(e,t){if(ya(t)||Nn(t)){Dl(t,sn(t),e);return}for(var n in t){if(ZI.call(t,n)){zs(e,n,t[n])}}});function KI(e){var t=[];if(e!=null){for(var n in Object(e)){t.push(n)}}return t}var eO=Object.prototype;var tO=eO.hasOwnProperty;function nO(e){if(!an(e)){return KI(e)}var t=ya(e),n=[];for(var r in e){if(!(r=="constructor"&&(t||!tO.call(e,r)))){n.push(r)}}return n}function kf(e){return Nn(e)?yf(e,true):nO(e)}var rO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/;var iO=/^\w*$/;function Ul(e,t){if(_e(e)){return false}var n=typeof e;if(n=="number"||n=="symbol"||n=="boolean"||e==null||Pa(e)){return true}return iO.test(e)||!rO.test(e)||t!=null&&e in Object(t)}var Ea=Br(Object,"create");function aO(){this.__data__=Ea?Ea(null):{};this.size=0}function sO(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}var oO="__lodash_hash_undefined__";var cO=Object.prototype;var lO=cO.hasOwnProperty;function uO(e){var t=this.__data__;if(Ea){var n=t[e];return n===oO?void 0:n}return lO.call(t,e)?t[e]:void 0}var hO=Object.prototype;var mO=hO.hasOwnProperty;function fO(e){var t=this.__data__;return Ea?t[e]!==void 0:mO.call(t,e)}var pO="__lodash_hash_undefined__";function SO(e,t){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=Ea&&t===void 0?pO:t;return this}function Ur(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Ur.prototype.clear=aO;Ur.prototype["delete"]=sO;Ur.prototype.get=uO;Ur.prototype.has=fO;Ur.prototype.set=SO;function gO(){this.__data__=[];this.size=0}function Qs(e,t){var n=e.length;while(n--){if(Ta(e[n][0],t)){return n}}return-1}var dO=Array.prototype;var _O=dO.splice;function EO(e){var t=this.__data__,n=Qs(t,e);if(n<0){return false}var r=t.length-1;if(n==r){t.pop()}else{_O.call(t,n,1)}--this.size;return true}function AO(e){var t=this.__data__,n=Qs(t,e);return n<0?void 0:t[n][1]}function IO(e){return Qs(this.__data__,e)>-1}function OO(e,t){var n=this.__data__,r=Qs(n,e);if(r<0){++this.size;n.push([e,t])}else{n[r][1]=t}return this}function zn(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}zn.prototype.clear=gO;zn.prototype["delete"]=EO;zn.prototype.get=AO;zn.prototype.has=IO;zn.prototype.set=OO;var Aa=Br(bn,"Map");function RO(){this.size=0;this.__data__={"hash":new Ur,"map":new(Aa||zn),"string":new Ur}}function PO(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Js(e,t){var n=e.__data__;return PO(t)?n[typeof t=="string"?"string":"hash"]:n.map}function TO(e){var t=Js(this,e)["delete"](e);this.size-=t?1:0;return t}function yO(e){return Js(this,e).get(e)}function bO(e){return Js(this,e).has(e)}function NO(e,t){var n=Js(this,e),r=n.size;n.set(e,t);this.size+=n.size==r?0:1;return this}function Yn(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Yn.prototype.clear=RO;Yn.prototype["delete"]=TO;Yn.prototype.get=yO;Yn.prototype.has=bO;Yn.prototype.set=NO;var kO="Expected a function";function Ml(e,t){if(typeof e!="function"||t!=null&&typeof t!="function"){throw new TypeError(kO)}var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i)){return a.get(i)}var s=e.apply(this,r);n.cache=a.set(i,s)||a;return s};n.cache=new(Ml.Cache||Yn);return n}Ml.Cache=Yn;var DO=500;function vO(e){var t=Ml(e,function(r){if(n.size===DO){n.clear()}return r});var n=t.cache;return t}var LO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var CO=/\\(\\)?/g;var UO=vO(function(e){var t=[];if(e.charCodeAt(0)===46){t.push("")}e.replace(LO,function(n,r,i,a){t.push(i?a.replace(CO,"$1"):r||n)});return t});function MO(e){return e==null?"":_f(e)}function Zs(e,t){if(_e(e)){return e}return Ul(e,t)?[e]:UO(MO(e))}function ba(e){if(typeof e=="string"||Pa(e)){return e}var t=e+"";return t=="0"&&1/e==-Infinity?"-0":t}function wl(e,t){t=Zs(t,e);var n=0,r=t.length;while(e!=null&&n<r){e=e[ba(t[n++])]}return n&&n==r?e:void 0}function wO(e,t,n){var r=e==null?void 0:wl(e,t);return r===void 0?n:r}function Gl(e,t){var n=-1,r=t.length,i=e.length;while(++n<r){e[i+n]=t[n]}return e}var Gh=rn?rn.isConcatSpreadable:void 0;function GO(e){return _e(e)||Ys(e)||!!(Gh&&e&&e[Gh])}function Fl(e,t,n,r,i){var a=-1,s=e.length;n||(n=GO);i||(i=[]);while(++a<s){var o=e[a];if(n(o)){{Gl(i,o)}}else if(!r){i[i.length]=o}}return i}function nn(e){var t=e==null?0:e.length;return t?Fl(e):[]}var Df=bf(Object.getPrototypeOf,Object);function vf(e,t,n){var r=-1,i=e.length;if(t<0){t=-t>i?0:i+t}n=n>i?i:n;if(n<0){n+=i}i=t>n?0:n-t>>>0;t>>>=0;var a=Array(i);while(++r<i){a[r]=e[r+t]}return a}function FO(e,t,n,r){var i=-1,a=e==null?0:e.length;if(r&&a){n=e[++i]}while(++i<a){n=t(n,e[i],i,e)}return n}function xO(){this.__data__=new zn;this.size=0}function BO(e){var t=this.__data__,n=t["delete"](e);this.size=t.size;return n}function qO(e){return this.__data__.get(e)}function WO(e){return this.__data__.has(e)}var VO=200;function $O(e,t){var n=this.__data__;if(n instanceof zn){var r=n.__data__;if(!Aa||r.length<VO-1){r.push([e,t]);this.size=++n.size;return this}n=this.__data__=new Yn(r)}n.set(e,t);this.size=n.size;return this}function Pn(e){var t=this.__data__=new zn(e);this.size=t.size}Pn.prototype.clear=xO;Pn.prototype["delete"]=BO;Pn.prototype.get=qO;Pn.prototype.has=WO;Pn.prototype.set=$O;function HO(e,t){return e&&Dl(t,sn(t),e)}var Lf=typeof Wt=="object"&&Wt&&!Wt.nodeType&&Wt;var Fh=Lf&&typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt;var jO=Fh&&Fh.exports===Lf;var xh=jO?bn.Buffer:void 0;var Bh=xh?xh.allocUnsafe:void 0;function zO(e,t){var n=e.length,r=Bh?Bh(n):new e.constructor(n);e.copy(r);return r}function xl(e,t){var n=-1,r=e==null?0:e.length,i=0,a=[];while(++n<r){var s=e[n];if(t(s,n,e)){a[i++]=s}}return a}function Cf(){return[]}var YO=Object.prototype;var XO=YO.propertyIsEnumerable;var qh=Object.getOwnPropertySymbols;var Bl=!qh?Cf:function(e){if(e==null){return[]}e=Object(e);return xl(qh(e),function(t){return XO.call(e,t)})};function QO(e,t){return Dl(e,Bl(e),t)}var JO=Object.getOwnPropertySymbols;var ZO=!JO?Cf:function(e){var t=[];while(e){Gl(t,Bl(e));e=Df(e)}return t};function Uf(e,t,n){var r=t(e);return _e(e)?r:Gl(r,n(e))}function xc(e){return Uf(e,sn,Bl)}function KO(e){return Uf(e,kf,ZO)}var Bc=Br(bn,"DataView");var qc=Br(bn,"Promise");var Zr=Br(bn,"Set");var Wh="[object Map]";var eR="[object Object]";var Vh="[object Promise]";var $h="[object Set]";var Hh="[object WeakMap]";var jh="[object DataView]";var tR=xr(Bc);var nR=xr(Aa);var rR=xr(qc);var iR=xr(Zr);var aR=xr(Fc);var en=cr;if(Bc&&en(new Bc(new ArrayBuffer(1)))!=jh||Aa&&en(new Aa)!=Wh||qc&&en(qc.resolve())!=Vh||Zr&&en(new Zr)!=$h||Fc&&en(new Fc)!=Hh){en=function(e){var t=cr(e),n=t==eR?e.constructor:void 0,r=n?xr(n):"";if(r){switch(r){case tR:return jh;case nR:return Wh;case rR:return Vh;case iR:return $h;case aR:return Hh}}return t}}var sR=Object.prototype;var oR=sR.hasOwnProperty;function cR(e){var t=e.length,n=new e.constructor(t);if(t&&typeof e[0]=="string"&&oR.call(e,"index")){n.index=e.index;n.input=e.input}return n}var bs=bn.Uint8Array;function lR(e){var t=new e.constructor(e.byteLength);new bs(t).set(new bs(e));return t}function uR(e,t){var n=e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var hR=/\w*$/;function mR(e){var t=new e.constructor(e.source,hR.exec(e));t.lastIndex=e.lastIndex;return t}var zh=rn?rn.prototype:void 0;var Yh=zh?zh.valueOf:void 0;function fR(e){return Yh?Object(Yh.call(e)):{}}function pR(e,t){var n=e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var SR="[object Boolean]";var gR="[object Date]";var dR="[object Map]";var _R="[object Number]";var ER="[object RegExp]";var AR="[object Set]";var IR="[object String]";var OR="[object Symbol]";var RR="[object ArrayBuffer]";var PR="[object DataView]";var TR="[object Float32Array]";var yR="[object Float64Array]";var bR="[object Int8Array]";var NR="[object Int16Array]";var kR="[object Int32Array]";var DR="[object Uint8Array]";var vR="[object Uint8ClampedArray]";var LR="[object Uint16Array]";var CR="[object Uint32Array]";function UR(e,t,n){var r=e.constructor;switch(t){case RR:return lR(e);case SR:case gR:return new r(+e);case PR:return uR(e);case TR:case yR:case bR:case NR:case kR:case DR:case vR:case LR:case CR:return pR(e);case dR:return new r;case _R:case IR:return new r(e);case ER:return mR(e);case AR:return new r;case OR:return fR(e)}}function MR(e){return typeof e.constructor=="function"&&!ya(e)?zA(Df(e)):{}}var wR="[object Map]";function GR(e){return fn(e)&&en(e)==wR}var Xh=ar&&ar.isMap;var FR=Xh?Xs(Xh):GR;var xR="[object Set]";function BR(e){return fn(e)&&en(e)==xR}var Qh=ar&&ar.isSet;var qR=Qh?Xs(Qh):BR;var Mf="[object Arguments]";var WR="[object Array]";var VR="[object Boolean]";var $R="[object Date]";var HR="[object Error]";var wf="[object Function]";var jR="[object GeneratorFunction]";var zR="[object Map]";var YR="[object Number]";var Gf="[object Object]";var XR="[object RegExp]";var QR="[object Set]";var JR="[object String]";var ZR="[object Symbol]";var KR="[object WeakMap]";var eP="[object ArrayBuffer]";var tP="[object DataView]";var nP="[object Float32Array]";var rP="[object Float64Array]";var iP="[object Int8Array]";var aP="[object Int16Array]";var sP="[object Int32Array]";var oP="[object Uint8Array]";var cP="[object Uint8ClampedArray]";var lP="[object Uint16Array]";var uP="[object Uint32Array]";var Le={};Le[Mf]=Le[WR]=Le[eP]=Le[tP]=Le[VR]=Le[$R]=Le[nP]=Le[rP]=Le[iP]=Le[aP]=Le[sP]=Le[zR]=Le[YR]=Le[Gf]=Le[XR]=Le[QR]=Le[JR]=Le[ZR]=Le[oP]=Le[cP]=Le[lP]=Le[uP]=true;Le[HR]=Le[wf]=Le[KR]=false;function ss(e,t,n,r,i,a){var s;if(s!==void 0){return s}if(!an(e)){return e}var o=_e(e);if(o){s=cR(e);{return XA(e,s)}}else{var c=en(e),h=c==wf||c==jR;if(_a(e)){return zO(e)}if(c==Gf||c==Mf||h&&!i){s=h?{}:MR(e);{return QO(e,HO(s,e))}}else{if(!Le[c]){return i?e:{}}s=UR(e,c)}}a||(a=new Pn);var f=a.get(e);if(f){return f}a.set(e,s);if(qR(e)){e.forEach(function(_){s.add(ss(_,t,n,_,e,a))})}else if(FR(e)){e.forEach(function(_,I){s.set(I,ss(_,t,n,I,e,a))})}var S=xc;var g=o?void 0:S(e);Ef(g||e,function(_,I){if(g){I=_;_=e[I]}zs(s,I,ss(_,t,n,I,e,a))});return s}var hP=4;function Et(e){return ss(e,hP)}function Na(e){var t=-1,n=e==null?0:e.length,r=0,i=[];while(++t<n){var a=e[t];if(a){i[r++]=a}}return i}var mP="__lodash_hash_undefined__";function fP(e){this.__data__.set(e,mP);return this}function pP(e){return this.__data__.has(e)}function ii(e){var t=-1,n=e==null?0:e.length;this.__data__=new Yn;while(++t<n){this.add(e[t])}}ii.prototype.add=ii.prototype.push=fP;ii.prototype.has=pP;function Ff(e,t){var n=-1,r=e==null?0:e.length;while(++n<r){if(t(e[n],n,e)){return true}}return false}function ql(e,t){return e.has(t)}var SP=1;var gP=2;function xf(e,t,n,r,i,a){var s=n&SP,o=e.length,c=t.length;if(o!=c&&!(s&&c>o)){return false}var h=a.get(e);var f=a.get(t);if(h&&f){return h==t&&f==e}var S=-1,g=true,_=n&gP?new ii:void 0;a.set(e,t);a.set(t,e);while(++S<o){var I=e[S],M=t[S];if(r){var W=s?r(M,I,S,t,e,a):r(I,M,S,e,t,a)}if(W!==void 0){if(W){continue}g=false;break}if(_){if(!Ff(t,function(C,T){if(!ql(_,T)&&(I===C||i(I,C,n,r,a))){return _.push(T)}})){g=false;break}}else if(!(I===M||i(I,M,n,r,a))){g=false;break}}a["delete"](e);a["delete"](t);return g}function dP(e){var t=-1,n=Array(e.size);e.forEach(function(r,i){n[++t]=[i,r]});return n}function Wl(e){var t=-1,n=Array(e.size);e.forEach(function(r){n[++t]=r});return n}var _P=1;var EP=2;var AP="[object Boolean]";var IP="[object Date]";var OP="[object Error]";var RP="[object Map]";var PP="[object Number]";var TP="[object RegExp]";var yP="[object Set]";var bP="[object String]";var NP="[object Symbol]";var kP="[object ArrayBuffer]";var DP="[object DataView]";var Jh=rn?rn.prototype:void 0;var Ro=Jh?Jh.valueOf:void 0;function vP(e,t,n,r,i,a,s){switch(n){case DP:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case kP:if(e.byteLength!=t.byteLength||!a(new bs(e),new bs(t))){return false}return true;case AP:case IP:case PP:return Ta(+e,+t);case OP:return e.name==t.name&&e.message==t.message;case TP:case bP:return e==t+"";case RP:var o=dP;case yP:var c=r&_P;o||(o=Wl);if(e.size!=t.size&&!c){return false}var h=s.get(e);if(h){return h==t}r|=EP;s.set(e,t);var f=xf(o(e),o(t),r,i,a,s);s["delete"](e);return f;case NP:if(Ro){return Ro.call(e)==Ro.call(t)}}return false}var LP=1;var CP=Object.prototype;var UP=CP.hasOwnProperty;function MP(e,t,n,r,i,a){var s=n&LP,o=xc(e),c=o.length,h=xc(t),f=h.length;if(c!=f&&!s){return false}var S=c;while(S--){var g=o[S];if(!(s?g in t:UP.call(t,g))){return false}}var _=a.get(e);var I=a.get(t);if(_&&I){return _==t&&I==e}var M=true;a.set(e,t);a.set(t,e);var W=s;while(++S<c){g=o[S];var C=e[g],T=t[g];if(r){var O=s?r(T,C,g,t,e,a):r(C,T,g,e,t,a)}if(!(O===void 0?C===T||i(C,T,n,r,a):O)){M=false;break}W||(W=g=="constructor")}if(M&&!W){var F=e.constructor,Z=t.constructor;if(F!=Z&&("constructor"in e&&"constructor"in t)&&!(typeof F=="function"&&F instanceof F&&typeof Z=="function"&&Z instanceof Z)){M=false}}a["delete"](e);a["delete"](t);return M}var wP=1;var Zh="[object Arguments]";var Kh="[object Array]";var es="[object Object]";var GP=Object.prototype;var em=GP.hasOwnProperty;function FP(e,t,n,r,i,a){var s=_e(e),o=_e(t),c=s?Kh:en(e),h=o?Kh:en(t);c=c==Zh?es:c;h=h==Zh?es:h;var f=c==es,S=h==es,g=c==h;if(g&&_a(e)){if(!_a(t)){return false}s=true;f=false}if(g&&!f){a||(a=new Pn);return s||Cl(e)?xf(e,t,n,r,i,a):vP(e,t,c,n,r,i,a)}if(!(n&wP)){var _=f&&em.call(e,"__wrapped__"),I=S&&em.call(t,"__wrapped__");if(_||I){var M=_?e.value():e,W=I?t.value():t;a||(a=new Pn);return i(M,W,n,r,a)}}if(!g){return false}a||(a=new Pn);return MP(e,t,n,r,i,a)}function Ks(e,t,n,r,i){if(e===t){return true}if(e==null||t==null||!fn(e)&&!fn(t)){return e!==e&&t!==t}return FP(e,t,n,r,Ks,i)}var xP=1;var BP=2;function qP(e,t,n,r){var i=n.length,a=i;if(e==null){return!a}e=Object(e);while(i--){var s=n[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e)){return false}}while(++i<a){s=n[i];var o=s[0],c=e[o],h=s[1];if(s[2]){if(c===void 0&&!(o in e)){return false}}else{var f=new Pn;var S;if(!(S===void 0?Ks(h,c,xP|BP,r,f):S)){return false}}}return true}function Bf(e){return e===e&&!an(e)}function WP(e){var t=sn(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,Bf(i)]}return t}function qf(e,t){return function(n){if(n==null){return false}return n[e]===t&&(t!==void 0||e in Object(n))}}function VP(e){var t=WP(e);if(t.length==1&&t[0][2]){return qf(t[0][0],t[0][1])}return function(n){return n===e||qP(n,e,t)}}function $P(e,t){return e!=null&&t in Object(e)}function Wf(e,t,n){t=Zs(t,e);var r=-1,i=t.length,a=false;while(++r<i){var s=ba(t[r]);if(!(a=e!=null&&n(e,s))){break}e=e[s]}if(a||++r!=i){return a}i=e==null?0:e.length;return!!i&&Ll(i)&&js(s,i)&&(_e(e)||Ys(e))}function HP(e,t){return e!=null&&Wf(e,t,$P)}var jP=1;var zP=2;function YP(e,t){if(Ul(e)&&Bf(t)){return qf(ba(e),t)}return function(n){var r=wO(n,e);return r===void 0&&r===t?HP(n,e):Ks(t,r,jP|zP)}}function XP(e){return function(t){return t==null?void 0:t[e]}}function QP(e){return function(t){return wl(t,e)}}function JP(e){return Ul(e)?XP(ba(e)):QP(e)}function gn(e){if(typeof e=="function"){return e}if(e==null){return Cr}if(typeof e=="object"){return _e(e)?YP(e[0],e[1]):VP(e)}return JP(e)}function ZP(e,t,n,r){var i=-1,a=e==null?0:e.length;while(++i<a){var s=e[i];t(r,s,n(s),e)}return r}function KP(e){return function(t,n,r){var i=-1,a=Object(t),s=r(t),o=s.length;while(o--){var c=s[++i];if(n(a[c],c,a)===false){break}}return t}}var eT=KP();function tT(e,t){return e&&eT(e,t,sn)}function nT(e,t){return function(n,r){if(n==null){return n}if(!Nn(n)){return e(n,r)}var i=n.length,a=-1,s=Object(n);while(++a<i){if(r(s[a],a,s)===false){break}}return n}}var qr=nT(tT);function rT(e,t,n,r){qr(e,function(i,a,s){t(r,i,n(i),s)});return r}function iT(e,t){return function(n,r){var i=_e(n)?ZP:rT,a=t?t():{};return i(n,e,gn(r),a)}}var Vf=Object.prototype;var aT=Vf.hasOwnProperty;var eo=vl(function(e,t){e=Object(e);var n=-1;var r=t.length;var i=r>2?t[2]:void 0;if(i&&Of(t[0],t[1],i)){r=1}while(++n<r){var a=t[n];var s=kf(a);var o=-1;var c=s.length;while(++o<c){var h=s[o];var f=e[h];if(f===void 0||Ta(f,Vf[h])&&!aT.call(e,h)){e[h]=a[h]}}}return e});function tm(e){return fn(e)&&Nn(e)}var sT=200;function oT(e,t,n,r){var i=-1,a=If,s=true,o=e.length,c=[],h=t.length;if(!o){return c}if(t.length>=sT){a=ql;s=false;t=new ii(t)}e:while(++i<o){var f=e[i],S=f;f=f!==0?f:0;if(s&&S===S){var g=h;while(g--){if(t[g]===S){continue e}}c.push(f)}else if(!a(t,S,r)){c.push(f)}}return c}var to=vl(function(e,t){return tm(e)?oT(e,Fl(t,1,tm,true)):[]});function ai(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function gt(e,t,n){var r=e==null?0:e.length;if(!r){return[]}t=t===void 0?1:Hs(t);return vf(e,t<0?0:t,r)}function Ia(e,t,n){var r=e==null?0:e.length;if(!r){return[]}t=t===void 0?1:Hs(t);t=r-t;return vf(e,0,t<0?0:t)}function cT(e){return typeof e=="function"?e:Cr}function ae(e,t){var n=_e(e)?Ef:qr;return n(e,cT(t))}function lT(e,t){var n=-1,r=e==null?0:e.length;while(++n<r){if(!t(e[n],n,e)){return false}}return true}function uT(e,t){var n=true;qr(e,function(r,i,a){n=!!t(r,i,a);return n});return n}function mn(e,t,n){var r=_e(e)?lT:uT;return r(e,gn(t))}function $f(e,t){var n=[];qr(e,function(r,i,a){if(t(r,i,a)){n.push(r)}});return n}function zt(e,t){var n=_e(e)?xl:$f;return n(e,gn(t))}function hT(e){return function(t,n,r){var i=Object(t);if(!Nn(t)){var a=gn(n);t=sn(t);n=function(o){return a(i[o],o,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:void 0}}var mT=Math.max;function fT(e,t,n){var r=e==null?0:e.length;if(!r){return-1}var i=n==null?0:Hs(n);if(i<0){i=mT(r+i,0)}return Af(e,gn(t),i)}var si=hT(fT);function pn(e){return e&&e.length?e[0]:void 0}function pT(e,t){var n=-1,r=Nn(e)?Array(e.length):[];qr(e,function(i,a,s){r[++n]=t(i,a,s)});return r}function Y(e,t){var n=_e(e)?$s:pT;return n(e,gn(t))}function $t(e,t){return Fl(Y(e,t))}var ST=Object.prototype;var gT=ST.hasOwnProperty;var dT=iT(function(e,t,n){if(gT.call(e,n)){e[n].push(t)}else{kl(e,n,[t])}});var _T=Object.prototype;var ET=_T.hasOwnProperty;function AT(e,t){return e!=null&&ET.call(e,t)}function oe(e,t){return e!=null&&Wf(e,t,AT)}var IT="[object String]";function tt(e){return typeof e=="string"||!_e(e)&&fn(e)&&cr(e)==IT}function OT(e,t){return $s(t,function(n){return e[n]})}function ut(e){return e==null?[]:OT(e,sn(e))}var RT=Math.max;function Pt(e,t,n,r){e=Nn(e)?e:ut(e);n=n&&true?Hs(n):0;var i=e.length;if(n<0){n=RT(i+n,0)}return tt(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Nl(e,t,n)>-1}function Ns(e,t,n){var r=e==null?0:e.length;if(!r){return-1}var i=0;return Nl(e,t,i)}var PT="[object Map]";var TT="[object Set]";var yT=Object.prototype;var bT=yT.hasOwnProperty;function Ne(e){if(e==null){return true}if(Nn(e)&&(_e(e)||typeof e=="string"||typeof e.splice=="function"||_a(e)||Cl(e)||Ys(e))){return!e.length}var t=en(e);if(t==PT||t==TT){return!e.size}if(ya(e)){return!Nf(e).length}for(var n in e){if(bT.call(e,n)){return false}}return true}function NT(e,t){return Ks(e,t)}var kT="[object RegExp]";function DT(e){return fn(e)&&cr(e)==kT}var nm=ar&&ar.isRegExp;var jt=nm?Xs(nm):DT;function yn(e){return e===void 0}function vT(e,t){return e<t}function LT(e,t,n){var r=-1,i=e.length;while(++r<i){var a=e[r],s=t(a);if(s!=null&&(o===void 0?s===s&&!Pa(s):n(s,o))){var o=s,c=a}}return c}function CT(e){return e&&e.length?LT(e,Cr,vT):void 0}var UT="Expected a function";function MT(e){if(typeof e!="function"){throw new TypeError(UT)}return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function wT(e,t,n,r){if(!an(e)){return e}t=Zs(t,e);var i=-1,a=t.length,s=a-1,o=e;while(o!=null&&++i<a){var c=ba(t[i]),h=n;if(c==="__proto__"||c==="constructor"||c==="prototype"){return e}if(i!=s){var f=o[c];h=void 0;if(h===void 0){h=an(f)?f:js(t[i+1])?[]:{}}}zs(o,c,h);o=o[c]}return e}function GT(e,t,n){var r=-1,i=t.length,a={};while(++r<i){var s=t[r],o=wl(e,s);if(n(o,s)){wT(a,Zs(s,e),o)}}return a}function dn(e,t){if(e==null){return{}}var n=$s(KO(e),function(r){return[r]});t=gn(t);return GT(e,n,function(r,i){return t(r,i[0])})}function FT(e,t,n,r,i){i(e,function(a,s,o){n=r?(r=false,a):t(n,a,s,o)});return n}function At(e,t,n){var r=_e(e)?FO:FT,i=arguments.length<3;return r(e,gn(t),n,i,qr)}function ka(e,t){var n=_e(e)?xl:$f;return n(e,MT(gn(t)))}function xT(e,t){var n;qr(e,function(r,i,a){n=t(r,i,a);return!n});return!!n}function Hf(e,t,n){var r=_e(e)?Ff:xT;return r(e,gn(t))}var BT=1/0;var qT=!(Zr&&1/Wl(new Zr([,-0]))[1]==BT)?lt:function(e){return new Zr(e)};var WT=200;function jf(e,t,n){var r=-1,i=If,a=e.length,s=true,o=[],c=o;if(a>=WT){var h=t?null:qT(e);if(h){return Wl(h)}s=false;i=ql;c=new ii}else{c=t?[]:o}e:while(++r<a){var f=e[r],S=t?t(f):f;f=f!==0?f:0;if(s&&S===S){var g=c.length;while(g--){if(c[g]===S){continue e}}if(t){c.push(S)}o.push(f)}else if(!i(c,S,n)){if(c!==o){c.push(S)}o.push(f)}}return o}function Vl(e){return e&&e.length?jf(e):[]}function VT(e,t){return e&&e.length?jf(e,gn(t)):[]}function Wc(e){if(console&&console.error){console.error(`Error: ${e}`)}}function $l(e){if(console&&console.warn){console.warn(`Warning: ${e}`)}}function zf(e){const t=new Date().getTime();const n=e();const r=new Date().getTime();const i=r-t;return{time:i,value:n}}function Yf(e){function t(){}t.prototype=e;const n=new t;function r(){return typeof n.bar}r();r();return e}function $T(e){if(HT(e)){return e.LABEL}else{return e.name}}function HT(e){return tt(e.LABEL)&&e.LABEL!==""}class kn{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this);ae(this.definition,n=>{n.accept(t)})}}class vt extends kn{constructor(t){super([]);this.idx=1;Ht(this,dn(t,n=>n!==void 0))}set definition(t){}get definition(){if(this.referencedRule!==void 0){return this.referencedRule.definition}return[]}accept(t){t.visit(this)}}class ui extends kn{constructor(t){super(t.definition);this.orgText="";Ht(this,dn(t,n=>n!==void 0))}}class wt extends kn{constructor(t){super(t.definition);this.ignoreAmbiguities=false;Ht(this,dn(t,n=>n!==void 0))}}class _t extends kn{constructor(t){super(t.definition);this.idx=1;Ht(this,dn(t,n=>n!==void 0))}}class Yt extends kn{constructor(t){super(t.definition);this.idx=1;Ht(this,dn(t,n=>n!==void 0))}}class Xt extends kn{constructor(t){super(t.definition);this.idx=1;Ht(this,dn(t,n=>n!==void 0))}}class je extends kn{constructor(t){super(t.definition);this.idx=1;Ht(this,dn(t,n=>n!==void 0))}}class Gt extends kn{constructor(t){super(t.definition);this.idx=1;Ht(this,dn(t,n=>n!==void 0))}}class Ft extends kn{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition);this.idx=1;this.ignoreAmbiguities=false;this.hasPredicates=false;Ht(this,dn(t,n=>n!==void 0))}}class Me{constructor(t){this.idx=1;Ht(this,dn(t,n=>n!==void 0))}accept(t){t.visit(this)}}function jT(e){return Y(e,os)}function os(e){function t(n){return Y(n,os)}if(e instanceof vt){const n={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};if(tt(e.label)){n.label=e.label}return n}else if(e instanceof wt){return{type:"Alternative",definition:t(e.definition)}}else if(e instanceof _t){return{type:"Option",idx:e.idx,definition:t(e.definition)}}else if(e instanceof Yt){return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)}}else if(e instanceof Xt){return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:os(new Me({terminalType:e.separator})),definition:t(e.definition)}}else if(e instanceof Gt){return{type:"RepetitionWithSeparator",idx:e.idx,separator:os(new Me({terminalType:e.separator})),definition:t(e.definition)}}else if(e instanceof je){return{type:"Repetition",idx:e.idx,definition:t(e.definition)}}else if(e instanceof Ft){return{type:"Alternation",idx:e.idx,definition:t(e.definition)}}else if(e instanceof Me){const n={type:"Terminal",name:e.terminalType.name,label:$T(e.terminalType),idx:e.idx};if(tt(e.label)){n.terminalLabel=e.label}const r=e.terminalType.PATTERN;if(e.terminalType.PATTERN){n.pattern=jt(r)?r.source:r}return n}else if(e instanceof ui){return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)}}else{throw Error("non exhaustive match")}}class hi{visit(t){const n=t;switch(n.constructor){case vt:return this.visitNonTerminal(n);case wt:return this.visitAlternative(n);case _t:return this.visitOption(n);case Yt:return this.visitRepetitionMandatory(n);case Xt:return this.visitRepetitionMandatoryWithSeparator(n);case Gt:return this.visitRepetitionWithSeparator(n);case je:return this.visitRepetition(n);case Ft:return this.visitAlternation(n);case Me:return this.visitTerminal(n);case ui:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}function zT(e){return e instanceof wt||e instanceof _t||e instanceof je||e instanceof Yt||e instanceof Xt||e instanceof Gt||e instanceof Me||e instanceof ui}function ks(e,t=[]){const n=e instanceof _t||e instanceof je||e instanceof Gt;if(n){return true}if(e instanceof Ft){return Hf(e.definition,r=>{return ks(r,t)})}else if(e instanceof vt&&Pt(t,e)){return false}else if(e instanceof kn){if(e instanceof vt){t.push(e)}return mn(e.definition,r=>{return ks(r,t)})}else{return false}}function YT(e){return e instanceof Ft}function On(e){if(e instanceof vt){return"SUBRULE"}else if(e instanceof _t){return"OPTION"}else if(e instanceof Ft){return"OR"}else if(e instanceof Yt){return"AT_LEAST_ONE"}else if(e instanceof Xt){return"AT_LEAST_ONE_SEP"}else if(e instanceof Gt){return"MANY_SEP"}else if(e instanceof je){return"MANY"}else if(e instanceof Me){return"CONSUME"}else{throw Error("non exhaustive match")}}class no{walk(t,n=[]){ae(t.definition,(r,i)=>{const a=gt(t.definition,i+1);if(r instanceof vt){this.walkProdRef(r,a,n)}else if(r instanceof Me){this.walkTerminal(r,a,n)}else if(r instanceof wt){this.walkFlat(r,a,n)}else if(r instanceof _t){this.walkOption(r,a,n)}else if(r instanceof Yt){this.walkAtLeastOne(r,a,n)}else if(r instanceof Xt){this.walkAtLeastOneSep(r,a,n)}else if(r instanceof Gt){this.walkManySep(r,a,n)}else if(r instanceof je){this.walkMany(r,a,n)}else if(r instanceof Ft){this.walkOr(r,a,n)}else{throw Error("non exhaustive match")}})}walkTerminal(t,n,r){}walkProdRef(t,n,r){}walkFlat(t,n,r){const i=n.concat(r);this.walk(t,i)}walkOption(t,n,r){const i=n.concat(r);this.walk(t,i)}walkAtLeastOne(t,n,r){const i=[new _t({definition:t.definition})].concat(n,r);this.walk(t,i)}walkAtLeastOneSep(t,n,r){const i=rm(t,n,r);this.walk(t,i)}walkMany(t,n,r){const i=[new _t({definition:t.definition})].concat(n,r);this.walk(t,i)}walkManySep(t,n,r){const i=rm(t,n,r);this.walk(t,i)}walkOr(t,n,r){const i=n.concat(r);ae(t.definition,a=>{const s=new wt({definition:[a]});this.walk(s,i)})}}function rm(e,t,n){const r=[new _t({definition:[new Me({terminalType:e.separator})].concat(e.definition)})];const i=r.concat(t,n);return i}function Da(e){if(e instanceof vt){return Da(e.referencedRule)}else if(e instanceof Me){return JT(e)}else if(zT(e)){return XT(e)}else if(YT(e)){return QT(e)}else{throw Error("non exhaustive match")}}function XT(e){let t=[];const n=e.definition;let r=0;let i=n.length>r;let a;let s=true;while(i&&s){a=n[r];s=ks(a);t=t.concat(Da(a));r=r+1;i=n.length>r}return Vl(t)}function QT(e){const t=Y(e.definition,n=>{return Da(n)});return Vl(nn(t))}function JT(e){return[e.terminalType]}const Xf="_~IN~_";class ZT extends no{constructor(t){super();this.topProd=t;this.follows={}}startWalking(){this.walk(this.topProd);return this.follows}walkTerminal(t,n,r){}walkProdRef(t,n,r){const i=ey(t.referencedRule,t.idx)+this.topProd.name;const a=n.concat(r);const s=new wt({definition:a});const o=Da(s);this.follows[i]=o}}function KT(e){const t={};ae(e,n=>{const r=new ZT(n).startWalking();Ht(t,r)});return t}function ey(e,t){return e.name+t+Xf}function fe(e){return e.charCodeAt(0)}function Po(e,t){if(Array.isArray(e)){e.forEach(function(n){t.push(n)})}else{t.push(e)}}function ji(e,t){if(e[t]===true){throw"duplicate flag "+t}e[t];e[t]=true}function jr(e){if(e===void 0){throw Error("Internal Error - Should never get here!")}return true}function ty(){throw Error("Internal Error - Should never get here!")}function im(e){return e["type"]==="Character"}const Ds=[];for(let e=fe("0");e<=fe("9");e++){Ds.push(e)}const vs=[fe("_")].concat(Ds);for(let e=fe("a");e<=fe("z");e++){vs.push(e)}for(let e=fe("A");e<=fe("Z");e++){vs.push(e)}const am=[fe(" "),fe("\f"),fe("\n"),fe("\r"),fe("	"),fe("\v"),fe("	"),fe(""),fe(""),fe(""),fe(""),fe(""),fe(""),fe(""),fe(""),fe(""),fe(""),fe(""),fe(""),fe(""),fe("\u2028"),fe("\u2029"),fe(""),fe(""),fe(""),fe("\uFEFF")];const ny=/[0-9a-fA-F]/;const ts=/[0-9]/;const ry=/[1-9]/;class Qf{constructor(){this.idx=0;this.input="";this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx;this.input=t.input;this.groupIdx=t.groupIdx}pattern(t){this.idx=0;this.input=t;this.groupIdx=0;this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:t.length},global:false,ignoreCase:false,multiLine:false,unicode:false,sticky:false};while(this.isRegExpFlag()){switch(this.popChar()){case"g":ji(r,"global");break;case"i":ji(r,"ignoreCase");break;case"m":ji(r,"multiLine");break;case"u":ji(r,"unicode");break;case"y":ji(r,"sticky");break}}if(this.idx!==this.input.length){throw Error("Redundant input: "+this.input.substring(this.idx))}return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const t=[];const n=this.idx;t.push(this.alternative());while(this.peekChar()==="|"){this.consumeChar("|");t.push(this.alternative())}return{type:"Disjunction",value:t,loc:this.loc(n)}}alternative(){const t=[];const n=this.idx;while(this.isTerm()){t.push(this.term())}return{type:"Alternative",value:t,loc:this.loc(n)}}term(){if(this.isAssertion()){return this.assertion()}else{return this.atom()}}assertion(){const t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}jr(n);const r=this.disjunction();this.consumeChar(")");return{type:n,value:r,loc:this.loc(t)}}return ty()}quantifier(t=false){let n=void 0;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:Infinity};break;case"+":n={atLeast:1,atMost:Infinity};break;case"?":n={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:i,atMost:i};break;case",":let a;if(this.isDigit()){a=this.integerIncludingZero();n={atLeast:i,atMost:a}}else{n={atLeast:i,atMost:Infinity}}this.consumeChar("}");break}if(t===true&&n===void 0){return void 0}jr(n);break}if(t===true&&n===void 0){return void 0}if(jr(n)){if(this.peekChar(0)==="?"){this.consumeChar("?");n.greedy=false}else{n.greedy=true}n.type="Quantifier";n.loc=this.loc(r);return n}}atom(){let t;const n=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}if(t===void 0&&this.isPatternCharacter()){t=this.patternCharacter()}if(jr(t)){t.loc=this.loc(n);if(this.isQuantifier()){t.quantifier=this.quantifier()}return t}}dotAll(){this.consumeChar(".");return{type:"Set",complement:true,value:[fe("\n"),fe("\r"),fe("\u2028"),fe("\u2029")]}}atomEscape(){this.consumeChar("\\");switch(this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){const t=this.positiveInteger();return{type:"GroupBackReference",value:t}}characterClassEscape(){let t;let n=false;switch(this.popChar()){case"d":t=Ds;break;case"D":t=Ds;n=true;break;case"s":t=am;break;case"S":t=am;n=true;break;case"w":t=vs;break;case"W":t=vs;n=true;break}if(jr(t)){return{type:"Set",value:t,complement:n}}}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=fe("\f");break;case"n":t=fe("\n");break;case"r":t=fe("\r");break;case"t":t=fe("	");break;case"v":t=fe("\v");break}if(jr(t)){return{type:"Character",value:t}}}controlLetterEscapeAtom(){this.consumeChar("c");const t=this.popChar();if(/[a-zA-Z]/.test(t)===false){throw Error("Invalid ")}const n=t.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:n}}nulCharacterAtom(){this.consumeChar("0");return{type:"Character",value:fe("\0")}}hexEscapeSequenceAtom(){this.consumeChar("x");return this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){this.consumeChar("u");return this.parseHexDigits(4)}identityEscapeAtom(){const t=this.popChar();return{type:"Character",value:fe(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const t=this.popChar();return{type:"Character",value:fe(t)}}}characterClass(){const t=[];let n=false;this.consumeChar("[");if(this.peekChar(0)==="^"){this.consumeChar("^");n=true}while(this.isClassAtom()){const r=this.classAtom();r.type==="Character";if(im(r)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();i.type==="Character";if(im(i)){if(i.value<r.value){throw Error("Range out of order in character class")}t.push({from:r.value,to:i.value})}else{Po(r.value,t);t.push(fe("-"));Po(i.value,t)}}else{Po(r.value,t)}}this.consumeChar("]");return{type:"Set",complement:n,value:t}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){this.consumeChar("\\");switch(this.peekChar()){case"b":this.consumeChar("b");return{type:"Character",value:fe("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=true;this.consumeChar("(");switch(this.peekChar(0)){case"?":this.consumeChar("?");this.consumeChar(":");t=false;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:t,value:n};if(t){r["idx"]=this.groupIdx}return r}positiveInteger(){let t=this.popChar();if(ry.test(t)===false){throw Error("Expecting a positive integer")}while(ts.test(this.peekChar(0))){t+=this.popChar()}return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(ts.test(t)===false){throw Error("Expecting an integer")}while(ts.test(this.peekChar(0))){t+=this.popChar()}return parseInt(t,10)}patternCharacter(){const t=this.popChar();switch(t){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:fe(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return true;default:return false}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return ts.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return false;default:return true}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter()){return true}switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return true;default:return false}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return true;case"\\":switch(this.peekChar(1)){case"b":case"B":return true;default:return false}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return false}}isQuantifier(){const t=this.saveState();try{return this.quantifier(true)!==void 0}catch(n){return false}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return false;default:return true}}parseHexDigits(t){let n="";for(let i=0;i<t;i++){const a=this.popChar();if(ny.test(a)===false){throw Error("Expecting a HexDecimal digits")}n+=a}const r=parseInt(n,16);return{type:"Character",value:r}}peekChar(t=0){return this.input[this.idx+t]}popChar(){const t=this.peekChar(0);this.consumeChar(void 0);return t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t){throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx)}if(this.idx>=this.input.length){throw Error("Unexpected end of input")}this.idx++}loc(t){return{begin:t,end:this.idx}}}class ro{visitChildren(t){for(const n in t){const r=t[n];if(t.hasOwnProperty(n)){if(r.type!==void 0){this.visit(r)}else if(Array.isArray(r)){r.forEach(i=>{this.visit(i)},this)}}}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}}let cs={};const iy=new Qf;function io(e){const t=e.toString();if(cs.hasOwnProperty(t)){return cs[t]}else{const n=iy.pattern(t);cs[t]=n;return n}}function ay(){cs={}}const Jf="Complement Sets are not supported for first char optimization";const Ls='Unable to use "first char" lexer optimizations:\n';function sy(e,t=false){try{const n=io(e);const r=Vc(n.value,{},n.flags.ignoreCase);return r}catch(n){if(n.message===Jf){if(t){$l(`${Ls}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`)}}else{let r="";if(t){r="\n	This will disable the lexer's first char optimizations.\n	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."}Wc(`${Ls}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function Vc(e,t,n){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++){Vc(e.value[i],t,n)}break;case"Alternative":const r=e.value;for(let i=0;i<r.length;i++){const a=r[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=a;switch(s.type){case"Character":ns(s.value,t,n);break;case"Set":if(s.complement===true){throw Error(Jf)}ae(s.value,c=>{if(typeof c==="number"){ns(c,t,n)}else{const h=c;if(n===true){for(let f=h.from;f<=h.to;f++){ns(f,t,n)}}else{for(let f=h.from;f<=h.to&&f<Xi;f++){ns(f,t,n)}if(h.to>=Xi){const f=h.from>=Xi?h.from:Xi;const S=h.to;const g=sr(f);const _=sr(S);for(let I=g;I<=_;I++){t[I]=I}}}}});break;case"Group":Vc(s.value,t,n);break;default:throw Error("Non Exhaustive Match")}const o=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&$c(s)===false||s.type!=="Group"&&o===false){break}}break;default:throw Error("non exhaustive match!")}return ut(t)}function ns(e,t,n){const r=sr(e);t[r]=r;if(n===true){oy(e,t)}}function oy(e,t){const n=String.fromCharCode(e);const r=n.toUpperCase();if(r!==n){const i=sr(r.charCodeAt(0));t[i]=i}else{const i=n.toLowerCase();if(i!==n){const a=sr(i.charCodeAt(0));t[a]=a}}}function sm(e,t){return si(e.value,n=>{if(typeof n==="number"){return Pt(t,n)}else{const r=n;return si(t,i=>r.from<=i&&i<=r.to)!==void 0}})}function $c(e){const t=e.quantifier;if(t&&t.atLeast===0){return true}if(!e.value){return false}return _e(e.value)?mn(e.value,$c):$c(e.value)}let cy=class hC extends ro{constructor(t){super();this.targetCharCodes=t;this.found=false}visitChildren(t){if(this.found===true){return}switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}visitCharacter(t){if(Pt(this.targetCharCodes,t.value)){this.found=true}}visitSet(t){if(t.complement){if(sm(t,this.targetCharCodes)===void 0){this.found=true}}else{if(sm(t,this.targetCharCodes)!==void 0){this.found=true}}}};function Hl(e,t){if(t instanceof RegExp){const n=io(t);const r=new cy(e);r.visit(n);return r.found}else{return si(t,n=>{return Pt(e,n.charCodeAt(0))})!==void 0}}const Mr="PATTERN";const Yi="defaultMode";const rs="modes";let Zf=typeof new RegExp("(?:)").sticky==="boolean";function ly(e,t){t=eo(t,{useSticky:Zf,debug:false,safeMode:false,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(T,O)=>O()});const n=t.tracer;n("initCharCodeToOptimizedIndexMap",()=>{Ly()});let r;n("Reject Lexer.NA",()=>{r=ka(e,T=>{return T[Mr]===ge.NA})});let i=false;let a;n("Transform Patterns",()=>{i=false;a=Y(r,T=>{const O=T[Mr];if(jt(O)){const F=O.source;if(F.length===1&&F!=="^"&&F!=="$"&&F!=="."&&!O.ignoreCase){return F}else if(F.length===2&&F[0]==="\\"&&!Pt(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],F[1])){return F[1]}else{return t.useSticky?cm(O):om(O)}}else if(Sn(O)){i=true;return{exec:O}}else if(typeof O==="object"){i=true;return O}else if(typeof O==="string"){if(O.length===1){return O}else{const F=O.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&");const Z=new RegExp(F);return t.useSticky?cm(Z):om(Z)}}else{throw Error("non exhaustive match")}})});let s;let o;let c;let h;let f;n("misc mapping",()=>{s=Y(r,T=>T.tokenTypeIdx);o=Y(r,T=>{const O=T.GROUP;if(O===ge.SKIPPED){return void 0}else if(tt(O)){return O}else if(yn(O)){return false}else{throw Error("non exhaustive match")}});c=Y(r,T=>{const O=T.LONGER_ALT;if(O){const F=_e(O)?Y(O,Z=>Ns(r,Z)):[Ns(r,O)];return F}});h=Y(r,T=>T.PUSH_MODE);f=Y(r,T=>oe(T,"POP_MODE"))});let S;n("Line Terminator Handling",()=>{const T=tp(t.lineTerminatorCharacters);S=Y(r,O=>false);if(t.positionTracking!=="onlyOffset"){S=Y(r,O=>{if(oe(O,"LINE_BREAKS")){return!!O.LINE_BREAKS}else{return ep(O,T)===false&&Hl(T,O.PATTERN)}})}});let g;let _;let I;let M;n("Misc Mapping #2",()=>{g=Y(r,Kf);_=Y(a,ky);I=At(r,(T,O)=>{const F=O.GROUP;if(tt(F)&&!(F===ge.SKIPPED)){T[F]=[]}return T},{});M=Y(a,(T,O)=>{return{pattern:a[O],longerAlt:c[O],canLineTerminator:S[O],isCustom:g[O],short:_[O],group:o[O],push:h[O],pop:f[O],tokenTypeIdx:s[O],tokenType:r[O]}})});let W=true;let C=[];if(!t.safeMode){n("First Char Optimization",()=>{C=At(r,(T,O,F)=>{if(typeof O.PATTERN==="string"){const Z=O.PATTERN.charCodeAt(0);const Q=sr(Z);To(T,Q,M[F])}else if(_e(O.START_CHARS_HINT)){let Z;ae(O.START_CHARS_HINT,Q=>{const le=typeof Q==="string"?Q.charCodeAt(0):Q;const pe=sr(le);if(Z!==pe){Z=pe;To(T,pe,M[F])}})}else if(jt(O.PATTERN)){if(O.PATTERN.unicode){W=false;if(t.ensureOptimizations){Wc(`${Ls}	Unable to analyze < ${O.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`)}}else{const Z=sy(O.PATTERN,t.ensureOptimizations);if(Ne(Z)){W=false}ae(Z,Q=>{To(T,Q,M[F])})}}else{if(t.ensureOptimizations){Wc(`${Ls}	TokenType: <${O.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`)}W=false}return T},[])})}return{emptyGroups:I,patternIdxToConfig:M,charCodeToPatternIdxToConfig:C,hasCustom:i,canBeOptimized:W}}function uy(e,t){let n=[];const r=my(e);n=n.concat(r.errors);const i=fy(r.valid);const a=i.valid;n=n.concat(i.errors);n=n.concat(hy(a));n=n.concat(Iy(a));n=n.concat(Oy(a,t));n=n.concat(Ry(a));return n}function hy(e){let t=[];const n=zt(e,r=>jt(r[Mr]));t=t.concat(Sy(n));t=t.concat(_y(n));t=t.concat(Ey(n));t=t.concat(Ay(n));t=t.concat(gy(n));return t}function my(e){const t=zt(e,i=>{return!oe(i,Mr)});const n=Y(t,i=>{return{message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:we.MISSING_PATTERN,tokenTypes:[i]}});const r=to(e,t);return{errors:n,valid:r}}function fy(e){const t=zt(e,i=>{const a=i[Mr];return!jt(a)&&!Sn(a)&&!oe(a,"exec")&&!tt(a)});const n=Y(t,i=>{return{message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:we.INVALID_PATTERN,tokenTypes:[i]}});const r=to(e,t);return{errors:n,valid:r}}const py=/[^\\][$]/;function Sy(e){class t extends ro{constructor(){super(...arguments);this.found=false}visitEndAnchor(a){this.found=true}}const n=zt(e,i=>{const a=i.PATTERN;try{const s=io(a);const o=new t;o.visit(s);return o.found}catch(s){return py.test(a.source)}});const r=Y(n,i=>{return{message:"Unexpected RegExp Anchor Error:\n	Token Type: ->"+i.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.",type:we.EOI_ANCHOR_FOUND,tokenTypes:[i]}});return r}function gy(e){const t=zt(e,r=>{const i=r.PATTERN;return i.test("")});const n=Y(t,r=>{return{message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:we.EMPTY_MATCH_PATTERN,tokenTypes:[r]}});return n}const dy=/[^\\[][\^]|^\^/;function _y(e){class t extends ro{constructor(){super(...arguments);this.found=false}visitStartAnchor(a){this.found=true}}const n=zt(e,i=>{const a=i.PATTERN;try{const s=io(a);const o=new t;o.visit(s);return o.found}catch(s){return dy.test(a.source)}});const r=Y(n,i=>{return{message:"Unexpected RegExp Anchor Error:\n	Token Type: ->"+i.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.",type:we.SOI_ANCHOR_FOUND,tokenTypes:[i]}});return r}function Ey(e){const t=zt(e,r=>{const i=r[Mr];return i instanceof RegExp&&(i.multiline||i.global)});const n=Y(t,r=>{return{message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:we.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}});return n}function Ay(e){const t=[];let n=Y(e,a=>{return At(e,(s,o)=>{if(a.PATTERN.source===o.PATTERN.source&&!Pt(t,o)&&o.PATTERN!==ge.NA){t.push(o);s.push(o);return s}return s},[])});n=Na(n);const r=zt(n,a=>{return a.length>1});const i=Y(r,a=>{const s=Y(a,c=>{return c.name});const o=pn(a).PATTERN;return{message:`The same RegExp pattern ->${o}<-has been used in all of the following Token Types: ${s.join(", ")} <-`,type:we.DUPLICATE_PATTERNS_FOUND,tokenTypes:a}});return i}function Iy(e){const t=zt(e,r=>{if(!oe(r,"GROUP")){return false}const i=r.GROUP;return i!==ge.SKIPPED&&i!==ge.NA&&!tt(i)});const n=Y(t,r=>{return{message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:we.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}});return n}function Oy(e,t){const n=zt(e,i=>{return i.PUSH_MODE!==void 0&&!Pt(t,i.PUSH_MODE)});const r=Y(n,i=>{const a=`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`;return{message:a,type:we.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}});return r}function Ry(e){const t=[];const n=At(e,(r,i,a)=>{const s=i.PATTERN;if(s===ge.NA){return r}if(tt(s)){r.push({str:s,idx:a,tokenType:i})}else if(jt(s)&&Ty(s)){r.push({str:s.source,idx:a,tokenType:i})}return r},[]);ae(e,(r,i)=>{ae(n,({str:a,idx:s,tokenType:o})=>{if(i<s&&Py(a,r.PATTERN)){const c=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:c,type:we.UNREACHABLE_PATTERN,tokenTypes:[r,o]})}})});return t}function Py(e,t){if(jt(t)){const n=t.exec(e);return n!==null&&n.index===0}else if(Sn(t)){return t(e,0,[],{})}else if(oe(t,"exec")){return t.exec(e,0,[],{})}else if(typeof t==="string"){return t===e}else{throw Error("non exhaustive match")}}function Ty(e){const t=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return si(t,n=>e.source.indexOf(n)!==-1)===void 0}function om(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function cm(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function yy(e,t,n){const r=[];if(!oe(e,Yi)){r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Yi+"> property in its definition\n",type:we.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE})}if(!oe(e,rs)){r.push({message:"A MultiMode Lexer cannot be initialized without a <"+rs+"> property in its definition\n",type:we.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY})}if(oe(e,rs)&&oe(e,Yi)&&!oe(e.modes,e.defaultMode)){r.push({message:`A MultiMode Lexer cannot be initialized with a ${Yi}: <${e.defaultMode}>which does not exist
`,type:we.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST})}if(oe(e,rs)){ae(e.modes,(i,a)=>{ae(i,(s,o)=>{if(yn(s)){r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${o}>
`,type:we.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}else if(oe(s,"LONGER_ALT")){const c=_e(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];ae(c,h=>{if(!yn(h)&&!Pt(i,h)){r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${h.name}> on token <${s.name}> outside of mode <${a}>
`,type:we.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})}})}})})}return r}function by(e,t,n){const r=[];let i=false;const a=Na(nn(ut(e.modes)));const s=ka(a,c=>c[Mr]===ge.NA);const o=tp(n);if(t){ae(s,c=>{const h=ep(c,o);if(h!==false){const f=vy(c,h);const S={message:f,type:h.issue,tokenType:c};r.push(S)}else{if(oe(c,"LINE_BREAKS")){if(c.LINE_BREAKS===true){i=true}}else{if(Hl(o,c.PATTERN)){i=true}}}})}if(t&&!i){r.push({message:"Warning: No LINE_BREAKS Found.\n	This Lexer has been defined to track line and column information,\n	But none of the Token Types can be identified as matching a line terminator.\n	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n	for details.",type:we.NO_LINE_BREAKS_FLAGS})}return r}function Ny(e){const t={};const n=sn(e);ae(n,r=>{const i=e[r];if(_e(i)){t[r]=[]}else{throw Error("non exhaustive match")}});return t}function Kf(e){const t=e.PATTERN;if(jt(t)){return false}else if(Sn(t)){return true}else if(oe(t,"exec")){return true}else if(tt(t)){return false}else{throw Error("non exhaustive match")}}function ky(e){if(tt(e)&&e.length===1){return e.charCodeAt(0)}else{return false}}const Dy={test:function(e){const t=e.length;for(let n=this.lastIndex;n<t;n++){const r=e.charCodeAt(n);if(r===10){this.lastIndex=n+1;return true}else if(r===13){if(e.charCodeAt(n+1)===10){this.lastIndex=n+2}else{this.lastIndex=n+1}return true}}return false},lastIndex:0};function ep(e,t){if(oe(e,"LINE_BREAKS")){return false}else{if(jt(e.PATTERN)){try{Hl(t,e.PATTERN)}catch(n){return{issue:we.IDENTIFY_TERMINATOR,errMsg:n.message}}return false}else if(tt(e.PATTERN)){return false}else if(Kf(e)){return{issue:we.CUSTOM_LINE_BREAK}}else{throw Error("non exhaustive match")}}}function vy(e,t){if(t.issue===we.IDENTIFY_TERMINATOR){return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`}else if(t.issue===we.CUSTOM_LINE_BREAK){return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`}else{throw Error("non exhaustive match")}}function tp(e){const t=Y(e,n=>{if(tt(n)){return n.charCodeAt(0)}else{return n}});return t}function To(e,t,n){if(e[t]===void 0){e[t]=[n]}else{e[t].push(n)}}const Xi=256;let ls=[];function sr(e){return e<Xi?e:ls[e]}function Ly(){if(Ne(ls)){ls=new Array(65536);for(let e=0;e<65536;e++){ls[e]=e>255?255+~~(e/255):e}}}function va(e,t){const n=e.tokenTypeIdx;if(n===t.tokenTypeIdx){return true}else{return t.isParent===true&&t.categoryMatchesMap[n]===true}}function Cs(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let lm=1;const np={};function La(e){const t=Cy(e);Uy(t);wy(t);My(t);ae(t,n=>{n.isParent=n.categoryMatches.length>0})}function Cy(e){let t=Et(e);let n=e;let r=true;while(r){n=Na(nn(Y(n,a=>a.CATEGORIES)));const i=to(n,t);t=t.concat(i);if(Ne(i)){r=false}else{n=i}}return t}function Uy(e){ae(e,t=>{if(!ip(t)){np[lm]=t;t.tokenTypeIdx=lm++}if(um(t)&&!_e(t.CATEGORIES)){t.CATEGORIES=[t.CATEGORIES]}if(!um(t)){t.CATEGORIES=[]}if(!Gy(t)){t.categoryMatches=[]}if(!Fy(t)){t.categoryMatchesMap={}}})}function My(e){ae(e,t=>{t.categoryMatches=[];ae(t.categoryMatchesMap,(n,r)=>{t.categoryMatches.push(np[r].tokenTypeIdx)})})}function wy(e){ae(e,t=>{rp([],t)})}function rp(e,t){ae(e,n=>{t.categoryMatchesMap[n.tokenTypeIdx]=true});ae(t.CATEGORIES,n=>{const r=e.concat(t);if(!Pt(r,n)){rp(r,n)}})}function ip(e){return oe(e,"tokenTypeIdx")}function um(e){return oe(e,"CATEGORIES")}function Gy(e){return oe(e,"categoryMatches")}function Fy(e){return oe(e,"categoryMatchesMap")}function xy(e){return oe(e,"tokenTypeIdx")}const By={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,n,r,i){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${n} characters.`}};var we;(function(e){e[e["MISSING_PATTERN"]=0]="MISSING_PATTERN";e[e["INVALID_PATTERN"]=1]="INVALID_PATTERN";e[e["EOI_ANCHOR_FOUND"]=2]="EOI_ANCHOR_FOUND";e[e["UNSUPPORTED_FLAGS_FOUND"]=3]="UNSUPPORTED_FLAGS_FOUND";e[e["DUPLICATE_PATTERNS_FOUND"]=4]="DUPLICATE_PATTERNS_FOUND";e[e["INVALID_GROUP_TYPE_FOUND"]=5]="INVALID_GROUP_TYPE_FOUND";e[e["PUSH_MODE_DOES_NOT_EXIST"]=6]="PUSH_MODE_DOES_NOT_EXIST";e[e["MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE"]=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE";e[e["MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY"]=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY";e[e["MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST"]=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST";e[e["LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED"]=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED";e[e["SOI_ANCHOR_FOUND"]=11]="SOI_ANCHOR_FOUND";e[e["EMPTY_MATCH_PATTERN"]=12]="EMPTY_MATCH_PATTERN";e[e["NO_LINE_BREAKS_FLAGS"]=13]="NO_LINE_BREAKS_FLAGS";e[e["UNREACHABLE_PATTERN"]=14]="UNREACHABLE_PATTERN";e[e["IDENTIFY_TERMINATOR"]=15]="IDENTIFY_TERMINATOR";e[e["CUSTOM_LINE_BREAK"]=16]="CUSTOM_LINE_BREAK";e[e["MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"]=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(we||(we={}));const Qi={deferDefinitionErrorsHandling:false,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:false,safeMode:false,errorMessageProvider:By,traceInitPerf:false,skipValidations:false,recoveryEnabled:true};Object.freeze(Qi);class ge{constructor(t,n=Qi){this.lexerDefinition=t;this.lexerDefinitionErrors=[];this.lexerDefinitionWarning=[];this.patternIdxToConfig={};this.charCodeToPatternIdxToConfig={};this.modes=[];this.emptyGroups={};this.trackStartLines=true;this.trackEndLines=true;this.hasCustom=false;this.canModeBeOptimized={};this.TRACE_INIT=(i,a)=>{if(this.traceInitPerf===true){this.traceInitIndent++;const s=new Array(this.traceInitIndent+1).join("	");if(this.traceInitIndent<this.traceInitMaxIdent){console.log(`${s}--> <${i}>`)}const{time:o,value:c}=zf(a);const h=o>10?console.warn:console.log;if(this.traceInitIndent<this.traceInitMaxIdent){h(`${s}<-- <${i}> time: ${o}ms`)}this.traceInitIndent--;return c}else{return a()}};if(typeof n==="boolean"){throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported")}this.config=Ht({},Qi,n);const r=this.config.traceInitPerf;if(r===true){this.traceInitMaxIdent=Infinity;this.traceInitPerf=true}else if(typeof r==="number"){this.traceInitMaxIdent=r;this.traceInitPerf=true}this.traceInitIndent=-1;this.TRACE_INIT("Lexer Constructor",()=>{let i;let a=true;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Qi.lineTerminatorsPattern){this.config.lineTerminatorsPattern=Dy}else{if(this.config.lineTerminatorCharacters===Qi.lineTerminatorCharacters){throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS")}}if(n.safeMode&&n.ensureOptimizations){throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.')}this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking);this.trackEndLines=/full/i.test(this.config.positionTracking);if(_e(t)){i={modes:{defaultMode:Et(t)},defaultMode:Yi}}else{a=false;i=Et(t)}});if(this.config.skipValidations===false){this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(yy(i,this.trackStartLines,this.config.lineTerminatorCharacters))});this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(by(i,this.trackStartLines,this.config.lineTerminatorCharacters))})}i.modes=i.modes?i.modes:{};ae(i.modes,(o,c)=>{i.modes[c]=ka(o,h=>yn(h))});const s=sn(i.modes);ae(i.modes,(o,c)=>{this.TRACE_INIT(`Mode: <${c}> processing`,()=>{this.modes.push(c);if(this.config.skipValidations===false){this.TRACE_INIT(`validatePatterns`,()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(uy(o,s))})}if(Ne(this.lexerDefinitionErrors)){La(o);let h;this.TRACE_INIT(`analyzeTokenTypes`,()=>{h=ly(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})});this.patternIdxToConfig[c]=h.patternIdxToConfig;this.charCodeToPatternIdxToConfig[c]=h.charCodeToPatternIdxToConfig;this.emptyGroups=Ht({},this.emptyGroups,h.emptyGroups);this.hasCustom=h.hasCustom||this.hasCustom;this.canModeBeOptimized[c]=h.canBeOptimized}})});this.defaultMode=i.defaultMode;if(!Ne(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const o=Y(this.lexerDefinitionErrors,h=>{return h.message});const c=o.join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+c)}ae(this.lexerDefinitionWarning,o=>{$l(o.message)});this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Zf){this.chopInput=Cr;this.match=this.matchWithTest}else{this.updateLastIndex=lt;this.match=this.matchWithExec}if(a){this.handleModes=lt}if(this.trackStartLines===false){this.computeNewColumn=Cr}if(this.trackEndLines===false){this.updateTokenEndLineColumnLocation=lt}if(/full/i.test(this.config.positionTracking)){this.createTokenInstance=this.createFullToken}else if(/onlyStart/i.test(this.config.positionTracking)){this.createTokenInstance=this.createStartOnlyToken}else if(/onlyOffset/i.test(this.config.positionTracking)){this.createTokenInstance=this.createOffsetOnlyToken}else{throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`)}if(this.hasCustom){this.addToken=this.addTokenUsingPush;this.handlePayload=this.handlePayloadWithCustom}else{this.addToken=this.addTokenUsingMemberAccess;this.handlePayload=this.handlePayloadNoCustom}});this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=At(this.canModeBeOptimized,(c,h,f)=>{if(h===false){c.push(f)}return c},[]);if(n.ensureOptimizations&&!Ne(o)){throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}});this.TRACE_INIT("clearRegExpParserCache",()=>{ay()});this.TRACE_INIT("toFastProperties",()=>{Yf(this)})})}tokenize(t,n=this.defaultMode){if(!Ne(this.lexerDefinitionErrors)){const r=Y(this.lexerDefinitionErrors,a=>{return a.message});const i=r.join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+i)}return this.tokenizeInternal(t,n)}tokenizeInternal(t,n){let r,i,a,s,o,c,h,f,S,g,_,I,M,W,C;const T=t;const O=T.length;let F=0;let Z=0;const Q=this.hasCustom?0:Math.floor(t.length/10);const le=new Array(Q);const pe=[];let Oe=this.trackStartLines?1:void 0;let ke=this.trackStartLines?1:void 0;const V=Ny(this.emptyGroups);const P=this.trackStartLines;const A=this.config.lineTerminatorsPattern;let U=0;let R=[];let y=[];const D=[];const H=[];Object.freeze(H);let X;function j(){return R}function ce(Ee){const $e=sr(Ee);const st=y[$e];if(st===void 0){return H}else{return st}}const ue=Ee=>{if(D.length===1&&Ee.tokenType.PUSH_MODE===void 0){const $e=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(Ee);pe.push({offset:Ee.startOffset,line:Ee.startLine,column:Ee.startColumn,length:Ee.image.length,message:$e})}else{D.pop();const $e=ai(D);R=this.patternIdxToConfig[$e];y=this.charCodeToPatternIdxToConfig[$e];U=R.length;const st=this.canModeBeOptimized[$e]&&this.config.safeMode===false;if(y&&st){X=ce}else{X=j}}};function Pe(Ee){D.push(Ee);y=this.charCodeToPatternIdxToConfig[Ee];R=this.patternIdxToConfig[Ee];U=R.length;U=R.length;const $e=this.canModeBeOptimized[Ee]&&this.config.safeMode===false;if(y&&$e){X=ce}else{X=j}}Pe.call(this,n);let he;const Ve=this.config.recoveryEnabled;while(F<O){c=null;const Ee=T.charCodeAt(F);const $e=X(Ee);const st=$e.length;for(r=0;r<st;r++){he=$e[r];const ve=he.pattern;h=null;const ee=he.short;if(ee!==false){if(Ee===ee){c=ve}}else if(he.isCustom===true){C=ve.exec(T,F,le,V);if(C!==null){c=C[0];if(C.payload!==void 0){h=C.payload}}else{c=null}}else{this.updateLastIndex(ve,F);c=this.match(ve,t,F)}if(c!==null){o=he.longerAlt;if(o!==void 0){const b=o.length;for(a=0;a<b;a++){const L=R[o[a]];const te=L.pattern;f=null;if(L.isCustom===true){C=te.exec(T,F,le,V);if(C!==null){s=C[0];if(C.payload!==void 0){f=C.payload}}else{s=null}}else{this.updateLastIndex(te,F);s=this.match(te,t,F)}if(s&&s.length>c.length){c=s;h=f;he=L;break}}}break}}if(c!==null){S=c.length;g=he.group;if(g!==void 0){_=he.tokenTypeIdx;I=this.createTokenInstance(c,F,_,he.tokenType,Oe,ke,S);this.handlePayload(I,h);if(g===false){Z=this.addToken(le,Z,I)}else{V[g].push(I)}}t=this.chopInput(t,S);F=F+S;ke=this.computeNewColumn(ke,S);if(P===true&&he.canLineTerminator===true){let ve=0;let ee;let b;A.lastIndex=0;do{ee=A.test(c);if(ee===true){b=A.lastIndex-1;ve++}}while(ee===true);if(ve!==0){Oe=Oe+ve;ke=S-b;this.updateTokenEndLineColumnLocation(I,g,b,ve,Oe,ke,S)}}this.handleModes(he,ue,Pe,I)}else{const ve=F;const ee=Oe;const b=ke;let L=Ve===false;while(L===false&&F<O){t=this.chopInput(t,1);F++;for(i=0;i<U;i++){const te=R[i];const v=te.pattern;const ye=te.short;if(ye!==false){if(T.charCodeAt(F)===ye){L=true}}else if(te.isCustom===true){L=v.exec(T,F,le,V)!==null}else{this.updateLastIndex(v,F);L=v.exec(t)!==null}if(L===true){break}}}M=F-ve;ke=this.computeNewColumn(ke,M);W=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(T,ve,M,ee,b);pe.push({offset:ve,line:ee,column:b,length:M,message:W});if(Ve===false){break}}}if(!this.hasCustom){le.length=Z}return{tokens:le,groups:V,errors:pe}}handleModes(t,n,r,i){if(t.pop===true){const a=t.push;n(i);if(a!==void 0){r.call(this,a)}}else if(t.push!==void 0){r.call(this,t.push)}}chopInput(t,n){return t.substring(n)}updateLastIndex(t,n){t.lastIndex=n}updateTokenEndLineColumnLocation(t,n,r,i,a,s,o){let c,h;if(n!==void 0){c=r===o-1;h=c?-1:0;if(!(i===1&&c===true)){t.endLine=a+h;t.endColumn=s-1+-h}}}computeNewColumn(t,n){return t+n}createOffsetOnlyToken(t,n,r,i){return{image:t,startOffset:n,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(t,n,r,i,a,s){return{image:t,startOffset:n,startLine:a,startColumn:s,tokenTypeIdx:r,tokenType:i}}createFullToken(t,n,r,i,a,s,o){return{image:t,startOffset:n,endOffset:n+o-1,startLine:a,endLine:a,startColumn:s,endColumn:s+o-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(t,n,r){t.push(r);return n}addTokenUsingMemberAccess(t,n,r){t[n]=r;n++;return n}handlePayloadNoCustom(t,n){}handlePayloadWithCustom(t,n){if(n!==null){t.payload=n}}matchWithTest(t,n,r){const i=t.test(n);if(i===true){return n.substring(r,t.lastIndex)}return null}matchWithExec(t,n){const r=t.exec(n);return r!==null?r[0]:null}}ge.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";ge.NA=/NOT_APPLICABLE/;function Kr(e){if(ap(e)){return e.LABEL}else{return e.name}}function ap(e){return tt(e.LABEL)&&e.LABEL!==""}const qy="parent";const hm="categories";const mm="label";const fm="group";const pm="push_mode";const Sm="pop_mode";const gm="longer_alt";const dm="line_breaks";const _m="start_chars_hint";function p(e){return Wy(e)}function Wy(e){const t=e.pattern;const n={};n.name=e.name;if(!yn(t)){n.PATTERN=t}if(oe(e,qy)){throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details."}if(oe(e,hm)){n.CATEGORIES=e[hm]}La([n]);if(oe(e,mm)){n.LABEL=e[mm]}if(oe(e,fm)){n.GROUP=e[fm]}if(oe(e,Sm)){n.POP_MODE=e[Sm]}if(oe(e,pm)){n.PUSH_MODE=e[pm]}if(oe(e,gm)){n.LONGER_ALT=e[gm]}if(oe(e,dm)){n.LINE_BREAKS=e[dm]}if(oe(e,_m)){n.START_CHARS_HINT=e[_m]}return n}const wr=p({name:"EOF",pattern:ge.NA});La([wr]);function Hn(e,t,n,r,i,a,s,o){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:a,startColumn:s,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function sp(e,t){return va(e,t)}const op={buildMismatchTokenMessage({expected:e,actual:t,previous:n,ruleName:r}){const i=ap(e);const a=i?`--> ${Kr(e)} <--`:`token of type --> ${e.name} <--`;const s=`Expecting ${a} but found --> '${t.image}' <--`;return s},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:n,customUserDescription:r,ruleName:i}){const a="Expecting: ";const s=pn(t).image;const o="\nbut found: '"+s+"'";if(r){return a+r+o}else{const c=At(e,(g,_)=>g.concat(_),[]);const h=Y(c,g=>`[${Y(g,_=>Kr(_)).join(", ")}]`);const f=Y(h,(g,_)=>`  ${_+1}. ${g}`);const S=`one of these possible Token sequences:
${f.join("\n")}`;return a+S+o}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:n,ruleName:r}){const i="Expecting: ";const a=pn(t).image;const s="\nbut found: '"+a+"'";if(n){return i+n+s}else{const o=Y(e,h=>`[${Y(h,f=>Kr(f)).join(",")}]`);const c=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${o.join(" ,")}>`;return i+c+s}}};Object.freeze(op);const Vy={buildRuleNotFoundError(e,t){const n="Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-";return n}};const Dr={buildDuplicateFoundError(e,t){function n(f){if(f instanceof Me){return f.terminalType.name}else if(f instanceof vt){return f.nonTerminalName}else{return""}}const r=e.name;const i=pn(t);const a=i.idx;const s=On(i);const o=n(i);const c=a>0;let h=`->${s}${c?a:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;h=h.replace(/[ \t]+/g," ");h=h.replace(/\s\s+/g,"\n");return h},buildNamespaceConflictError(e){const t=`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return t},buildAlternationPrefixAmbiguityError(e){const t=Y(e.prefixPath,i=>Kr(i)).join(", ");const n=e.alternation.idx===0?"":e.alternation.idx;const r=`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return r},buildAlternationAmbiguityError(e){const t=Y(e.prefixPath,i=>Kr(i)).join(", ");const n=e.alternation.idx===0?"":e.alternation.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`;return r},buildEmptyRepetitionError(e){let t=On(e.repetition);if(e.repetition.idx!==0){t+=e.repetition.idx}const n=`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`;return n},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){const t=`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`;return t},buildTooManyAlternativesError(e){const t=`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`;return t},buildLeftRecursionError(e){const t=e.topLevelRule.name;const n=Y(e.leftRecursionPath,a=>a.name);const r=`${t} --> ${n.concat([t]).join(" --> ")}`;const i=`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;return i},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;if(e.topLevelRule instanceof ui){t=e.topLevelRule.name}else{t=e.topLevelRule}const n=`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`;return n}};function $y(e,t){const n=new Hy(e,t);n.resolveRefs();return n.errors}class Hy extends hi{constructor(t,n){super();this.nameToTopRule=t;this.errMsgProvider=n;this.errors=[]}resolveRefs(){ae(ut(this.nameToTopRule),t=>{this.currTopLevel=t;t.accept(this)})}visitNonTerminal(t){const n=this.nameToTopRule[t.nonTerminalName];if(!n){const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:r,type:Lt.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}else{t.referencedRule=n}}}class jy extends no{constructor(t,n){super();this.topProd=t;this.path=n;this.possibleTokTypes=[];this.nextProductionName="";this.nextProductionOccurrence=0;this.found=false;this.isAtEndOfPath=false}startWalking(){this.found=false;if(this.path.ruleStack[0]!==this.topProd.name){throw Error("The path does not start with the walker's top Rule!")}this.ruleStack=Et(this.path.ruleStack).reverse();this.occurrenceStack=Et(this.path.occurrenceStack).reverse();this.ruleStack.pop();this.occurrenceStack.pop();this.updateExpectedNext();this.walk(this.topProd);return this.possibleTokTypes}walk(t,n=[]){if(!this.found){super.walk(t,n)}}walkProdRef(t,n,r){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const i=n.concat(r);this.updateExpectedNext();this.walk(t.referencedRule,i)}}updateExpectedNext(){if(Ne(this.ruleStack)){this.nextProductionName="";this.nextProductionOccurrence=0;this.isAtEndOfPath=true}else{this.nextProductionName=this.ruleStack.pop();this.nextProductionOccurrence=this.occurrenceStack.pop()}}}class zy extends jy{constructor(t,n){super(t,n);this.path=n;this.nextTerminalName="";this.nextTerminalOccurrence=0;this.nextTerminalName=this.path.lastTok.name;this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,n,r){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const i=n.concat(r);const a=new wt({definition:i});this.possibleTokTypes=Da(a);this.found=true}}}class ao extends no{constructor(t,n){super();this.topRule=t;this.occurrence=n;this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){this.walk(this.topRule);return this.result}}class Yy extends ao{walkMany(t,n,r){if(t.idx===this.occurrence){const i=pn(n.concat(r));this.result.isEndOfRule=i===void 0;if(i instanceof Me){this.result.token=i.terminalType;this.result.occurrence=i.idx}}else{super.walkMany(t,n,r)}}}class Em extends ao{walkManySep(t,n,r){if(t.idx===this.occurrence){const i=pn(n.concat(r));this.result.isEndOfRule=i===void 0;if(i instanceof Me){this.result.token=i.terminalType;this.result.occurrence=i.idx}}else{super.walkManySep(t,n,r)}}}class Xy extends ao{walkAtLeastOne(t,n,r){if(t.idx===this.occurrence){const i=pn(n.concat(r));this.result.isEndOfRule=i===void 0;if(i instanceof Me){this.result.token=i.terminalType;this.result.occurrence=i.idx}}else{super.walkAtLeastOne(t,n,r)}}}class Am extends ao{walkAtLeastOneSep(t,n,r){if(t.idx===this.occurrence){const i=pn(n.concat(r));this.result.isEndOfRule=i===void 0;if(i instanceof Me){this.result.token=i.terminalType;this.result.occurrence=i.idx}}else{super.walkAtLeastOneSep(t,n,r)}}}function Hc(e,t,n=[]){n=Et(n);let r=[];let i=0;function a(o){return o.concat(gt(e,i+1))}function s(o){const c=Hc(a(o),t,n);return r.concat(c)}while(n.length<t&&i<e.length){const o=e[i];if(o instanceof wt){return s(o.definition)}else if(o instanceof vt){return s(o.definition)}else if(o instanceof _t){r=s(o.definition)}else if(o instanceof Yt){const c=o.definition.concat([new je({definition:o.definition})]);return s(c)}else if(o instanceof Xt){const c=[new wt({definition:o.definition}),new je({definition:[new Me({terminalType:o.separator})].concat(o.definition)})];return s(c)}else if(o instanceof Gt){const c=o.definition.concat([new je({definition:[new Me({terminalType:o.separator})].concat(o.definition)})]);r=s(c)}else if(o instanceof je){const c=o.definition.concat([new je({definition:o.definition})]);r=s(c)}else if(o instanceof Ft){ae(o.definition,c=>{if(Ne(c.definition)===false){r=s(c.definition)}});return r}else if(o instanceof Me){n.push(o.terminalType)}else{throw Error("non exhaustive match")}i++}r.push({partialPath:n,suffixDef:gt(e,i)});return r}function cp(e,t,n,r){const i="EXIT_NONE_TERMINAL";const a=[i];const s="EXIT_ALTERNATIVE";let o=false;const c=t.length;const h=c-r-1;const f=[];const S=[];S.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});while(!Ne(S)){const g=S.pop();if(g===s){if(o&&ai(S).idx<=h){S.pop()}continue}const _=g.def;const I=g.idx;const M=g.ruleStack;const W=g.occurrenceStack;if(Ne(_)){continue}const C=_[0];if(C===i){const T={idx:I,def:gt(_),ruleStack:Ia(M),occurrenceStack:Ia(W)};S.push(T)}else if(C instanceof Me){if(I<c-1){const T=I+1;const O=t[T];if(n(O,C.terminalType)){const F={idx:T,def:gt(_),ruleStack:M,occurrenceStack:W};S.push(F)}}else if(I===c-1){f.push({nextTokenType:C.terminalType,nextTokenOccurrence:C.idx,ruleStack:M,occurrenceStack:W});o=true}else{throw Error("non exhaustive match")}}else if(C instanceof vt){const T=Et(M);T.push(C.nonTerminalName);const O=Et(W);O.push(C.idx);const F={idx:I,def:C.definition.concat(a,gt(_)),ruleStack:T,occurrenceStack:O};S.push(F)}else if(C instanceof _t){const T={idx:I,def:gt(_),ruleStack:M,occurrenceStack:W};S.push(T);S.push(s);const O={idx:I,def:C.definition.concat(gt(_)),ruleStack:M,occurrenceStack:W};S.push(O)}else if(C instanceof Yt){const T=new je({definition:C.definition,idx:C.idx});const O=C.definition.concat([T],gt(_));const F={idx:I,def:O,ruleStack:M,occurrenceStack:W};S.push(F)}else if(C instanceof Xt){const T=new Me({terminalType:C.separator});const O=new je({definition:[T].concat(C.definition),idx:C.idx});const F=C.definition.concat([O],gt(_));const Z={idx:I,def:F,ruleStack:M,occurrenceStack:W};S.push(Z)}else if(C instanceof Gt){const T={idx:I,def:gt(_),ruleStack:M,occurrenceStack:W};S.push(T);S.push(s);const O=new Me({terminalType:C.separator});const F=new je({definition:[O].concat(C.definition),idx:C.idx});const Z=C.definition.concat([F],gt(_));const Q={idx:I,def:Z,ruleStack:M,occurrenceStack:W};S.push(Q)}else if(C instanceof je){const T={idx:I,def:gt(_),ruleStack:M,occurrenceStack:W};S.push(T);S.push(s);const O=new je({definition:C.definition,idx:C.idx});const F=C.definition.concat([O],gt(_));const Z={idx:I,def:F,ruleStack:M,occurrenceStack:W};S.push(Z)}else if(C instanceof Ft){for(let T=C.definition.length-1;T>=0;T--){const O=C.definition[T];const F={idx:I,def:O.definition.concat(gt(_)),ruleStack:M,occurrenceStack:W};S.push(F);S.push(s)}}else if(C instanceof wt){S.push({idx:I,def:C.definition.concat(gt(_)),ruleStack:M,occurrenceStack:W})}else if(C instanceof ui){S.push(Qy(C,I,M,W))}else{throw Error("non exhaustive match")}}return f}function Qy(e,t,n,r){const i=Et(n);i.push(e.name);const a=Et(r);a.push(1);return{idx:t,def:e.definition,ruleStack:i,occurrenceStack:a}}var qe;(function(e){e[e["OPTION"]=0]="OPTION";e[e["REPETITION"]=1]="REPETITION";e[e["REPETITION_MANDATORY"]=2]="REPETITION_MANDATORY";e[e["REPETITION_MANDATORY_WITH_SEPARATOR"]=3]="REPETITION_MANDATORY_WITH_SEPARATOR";e[e["REPETITION_WITH_SEPARATOR"]=4]="REPETITION_WITH_SEPARATOR";e[e["ALTERNATION"]=5]="ALTERNATION"})(qe||(qe={}));function jl(e){if(e instanceof _t||e==="Option"){return qe.OPTION}else if(e instanceof je||e==="Repetition"){return qe.REPETITION}else if(e instanceof Yt||e==="RepetitionMandatory"){return qe.REPETITION_MANDATORY}else if(e instanceof Xt||e==="RepetitionMandatoryWithSeparator"){return qe.REPETITION_MANDATORY_WITH_SEPARATOR}else if(e instanceof Gt||e==="RepetitionWithSeparator"){return qe.REPETITION_WITH_SEPARATOR}else if(e instanceof Ft||e==="Alternation"){return qe.ALTERNATION}else{throw Error("non exhaustive match")}}function Im(e){const{occurrence:t,rule:n,prodType:r,maxLookahead:i}=e;const a=jl(r);if(a===qe.ALTERNATION){return so(t,n,i)}else{return oo(t,n,a,i)}}function Jy(e,t,n,r,i,a){const s=so(e,t,n);const o=hp(s)?Cs:va;return a(s,r,o,i)}function Zy(e,t,n,r,i,a){const s=oo(e,t,i,n);const o=hp(s)?Cs:va;return a(s[0],o,r)}function Ky(e,t,n,r){const i=e.length;const a=mn(e,s=>{return mn(s,o=>{return o.length===1})});if(t){return function(s){const o=Y(s,c=>c.GATE);for(let c=0;c<i;c++){const h=e[c];const f=h.length;const S=o[c];if(S!==void 0&&S.call(this)===false){continue}e:for(let g=0;g<f;g++){const _=h[g];const I=_.length;for(let M=0;M<I;M++){const W=this.LA(M+1);if(n(W,_[M])===false){continue e}}return c}}return void 0}}else if(a&&!r){const s=Y(e,c=>{return nn(c)});const o=At(s,(c,h,f)=>{ae(h,S=>{if(!oe(c,S.tokenTypeIdx)){c[S.tokenTypeIdx]=f}ae(S.categoryMatches,g=>{if(!oe(c,g)){c[g]=f}})});return c},{});return function(){const c=this.LA(1);return o[c.tokenTypeIdx]}}else{return function(){for(let s=0;s<i;s++){const o=e[s];const c=o.length;e:for(let h=0;h<c;h++){const f=o[h];const S=f.length;for(let g=0;g<S;g++){const _=this.LA(g+1);if(n(_,f[g])===false){continue e}}return s}}return void 0}}}function eb(e,t,n){const r=mn(e,a=>{return a.length===1});const i=e.length;if(r&&!n){const a=nn(e);if(a.length===1&&Ne(a[0].categoryMatches)){const s=a[0];const o=s.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const s=At(a,(o,c,h)=>{o[c.tokenTypeIdx]=true;ae(c.categoryMatches,f=>{o[f]=true});return o},[]);return function(){const o=this.LA(1);return s[o.tokenTypeIdx]===true}}}else{return function(){e:for(let a=0;a<i;a++){const s=e[a];const o=s.length;for(let c=0;c<o;c++){const h=this.LA(c+1);if(t(h,s[c])===false){continue e}}return true}return false}}}class tb extends no{constructor(t,n,r){super();this.topProd=t;this.targetOccurrence=n;this.targetProdType=r}startWalking(){this.walk(this.topProd);return this.restDef}checkIsTarget(t,n,r,i){if(t.idx===this.targetOccurrence&&this.targetProdType===n){this.restDef=r.concat(i);return true}return false}walkOption(t,n,r){if(!this.checkIsTarget(t,qe.OPTION,n,r)){super.walkOption(t,n,r)}}walkAtLeastOne(t,n,r){if(!this.checkIsTarget(t,qe.REPETITION_MANDATORY,n,r)){super.walkOption(t,n,r)}}walkAtLeastOneSep(t,n,r){if(!this.checkIsTarget(t,qe.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)){super.walkOption(t,n,r)}}walkMany(t,n,r){if(!this.checkIsTarget(t,qe.REPETITION,n,r)){super.walkOption(t,n,r)}}walkManySep(t,n,r){if(!this.checkIsTarget(t,qe.REPETITION_WITH_SEPARATOR,n,r)){super.walkOption(t,n,r)}}}class lp extends hi{constructor(t,n,r){super();this.targetOccurrence=t;this.targetProdType=n;this.targetRef=r;this.result=[]}checkIsTarget(t,n){if(t.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||t===this.targetRef)){this.result=t.definition}}visitOption(t){this.checkIsTarget(t,qe.OPTION)}visitRepetition(t){this.checkIsTarget(t,qe.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,qe.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,qe.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,qe.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,qe.ALTERNATION)}}function Om(e){const t=new Array(e);for(let n=0;n<e;n++){t[n]=[]}return t}function yo(e){let t=[""];for(let n=0;n<e.length;n++){const r=e[n];const i=[];for(let a=0;a<t.length;a++){const s=t[a];i.push(s+"_"+r.tokenTypeIdx);for(let o=0;o<r.categoryMatches.length;o++){const c="_"+r.categoryMatches[o];i.push(s+c)}}t=i}return t}function nb(e,t,n){for(let r=0;r<e.length;r++){if(r===n){continue}const i=e[r];for(let a=0;a<t.length;a++){const s=t[a];if(i[s]===true){return false}}}return true}function up(e,t){const n=Y(e,s=>Hc([s],1));const r=Om(n.length);const i=Y(n,s=>{const o={};ae(s,c=>{const h=yo(c.partialPath);ae(h,f=>{o[f]=true})});return o});let a=n;for(let s=1;s<=t;s++){const o=a;a=Om(o.length);for(let c=0;c<o.length;c++){const h=o[c];for(let f=0;f<h.length;f++){const S=h[f].partialPath;const g=h[f].suffixDef;const _=yo(S);const I=nb(i,_,c);if(I||Ne(g)||S.length===t){const M=r[c];if(jc(M,S)===false){M.push(S);for(let W=0;W<_.length;W++){const C=_[W];i[c][C]=true}}}else{const M=Hc(g,s+1,S);a[c]=a[c].concat(M);ae(M,W=>{const C=yo(W.partialPath);ae(C,T=>{i[c][T]=true})})}}}}return r}function so(e,t,n,r){const i=new lp(e,qe.ALTERNATION,r);t.accept(i);return up(i.result,n)}function oo(e,t,n,r){const i=new lp(e,n);t.accept(i);const a=i.result;const s=new tb(t,e,n);const o=s.startWalking();const c=new wt({definition:a});const h=new wt({definition:o});return up([c,h],r)}function jc(e,t){e:for(let n=0;n<e.length;n++){const r=e[n];if(r.length!==t.length){continue}for(let i=0;i<r.length;i++){const a=t[i];const s=r[i];const o=a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0;if(o===false){continue e}}return true}return false}function rb(e,t){return e.length<t.length&&mn(e,(n,r)=>{const i=t[r];return n===i||i.categoryMatchesMap[n.tokenTypeIdx]})}function hp(e){return mn(e,t=>mn(t,n=>mn(n,r=>Ne(r.categoryMatches))))}function ib(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return Y(t,n=>Object.assign({type:Lt.CUSTOM_LOOKAHEAD_VALIDATION},n))}function ab(e,t,n,r){const i=$t(e,c=>sb(c,n));const a=_b(e,t,n);const s=$t(e,c=>pb(c,n));const o=$t(e,c=>lb(c,e,r,n));return i.concat(a,s,o)}function sb(e,t){const n=new cb;e.accept(n);const r=n.allProductions;const i=dT(r,ob);const a=dn(i,o=>{return o.length>1});const s=Y(ut(a),o=>{const c=pn(o);const h=t.buildDuplicateFoundError(e,o);const f=On(c);const S={message:h,type:Lt.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:f,occurrence:c.idx};const g=mp(c);if(g){S.parameter=g}return S});return s}function ob(e){return`${On(e)}_#_${e.idx}_#_${mp(e)}`}function mp(e){if(e instanceof Me){return e.terminalType.name}else if(e instanceof vt){return e.nonTerminalName}else{return""}}class cb extends hi{constructor(){super(...arguments);this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function lb(e,t,n,r){const i=[];const a=At(t,(s,o)=>{if(o.name===e.name){return s+1}return s},0);if(a>1){const s=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});i.push({message:s,type:Lt.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function ub(e,t,n){const r=[];let i;if(!Pt(t,e)){i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `;r.push({message:i,type:Lt.INVALID_RULE_OVERRIDE,ruleName:e})}return r}function fp(e,t,n,r=[]){const i=[];const a=us(t.definition);if(Ne(a)){return[]}else{const s=e.name;const o=Pt(a,e);if(o){i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:Lt.LEFT_RECURSION,ruleName:s})}const c=to(a,r.concat([e]));const h=$t(c,f=>{const S=Et(r);S.push(f);return fp(e,f,n,S)});return i.concat(h)}}function us(e){let t=[];if(Ne(e)){return t}const n=pn(e);if(n instanceof vt){t.push(n.referencedRule)}else if(n instanceof wt||n instanceof _t||n instanceof Yt||n instanceof Xt||n instanceof Gt||n instanceof je){t=t.concat(us(n.definition))}else if(n instanceof Ft){t=nn(Y(n.definition,a=>us(a.definition)))}else if(n instanceof Me);else{throw Error("non exhaustive match")}const r=ks(n);const i=e.length>1;if(r&&i){const a=gt(e);return t.concat(us(a))}else{return t}}class zl extends hi{constructor(){super(...arguments);this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}function hb(e,t){const n=new zl;e.accept(n);const r=n.alternations;const i=$t(r,a=>{const s=Ia(a.definition);return $t(s,(o,c)=>{const h=cp([o],[],va,1);if(Ne(h)){return[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:a,emptyChoiceIdx:c}),type:Lt.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:a.idx,alternative:c+1}]}else{return[]}})});return i}function mb(e,t,n){const r=new zl;e.accept(r);let i=r.alternations;i=ka(i,s=>s.ignoreAmbiguities===true);const a=$t(i,s=>{const o=s.idx;const c=s.maxLookahead||t;const h=so(o,e,c,s);const f=gb(h,s,e,n);const S=db(h,s,e,n);return f.concat(S)});return a}class fb extends hi{constructor(){super(...arguments);this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}function pb(e,t){const n=new zl;e.accept(n);const r=n.alternations;const i=$t(r,a=>{if(a.definition.length>255){return[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:a}),type:Lt.TOO_MANY_ALTS,ruleName:e.name,occurrence:a.idx}]}else{return[]}});return i}function Sb(e,t,n){const r=[];ae(e,i=>{const a=new fb;i.accept(a);const s=a.allProductions;ae(s,o=>{const c=jl(o);const h=o.maxLookahead||t;const f=o.idx;const S=oo(f,i,c,h);const g=S[0];if(Ne(nn(g))){const _=n.buildEmptyRepetitionError({topLevelRule:i,repetition:o});r.push({message:_,type:Lt.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})});return r}function gb(e,t,n,r){const i=[];const a=At(e,(o,c,h)=>{if(t.definition[h].ignoreAmbiguities===true){return o}ae(c,f=>{const S=[h];ae(e,(g,_)=>{if(h!==_&&jc(g,f)&&t.definition[_].ignoreAmbiguities!==true){S.push(_)}});if(S.length>1&&!jc(i,f)){i.push(f);o.push({alts:S,path:f})}});return o},[]);const s=Y(a,o=>{const c=Y(o.alts,f=>f+1);const h=r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:c,prefixPath:o.path});return{message:h,type:Lt.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:o.alts}});return s}function db(e,t,n,r){const i=At(e,(s,o,c)=>{const h=Y(o,f=>{return{idx:c,path:f}});return s.concat(h)},[]);const a=Na($t(i,s=>{const o=t.definition[s.idx];if(o.ignoreAmbiguities===true){return[]}const c=s.idx;const h=s.path;const f=zt(i,g=>{return t.definition[g.idx].ignoreAmbiguities!==true&&g.idx<c&&rb(g.path,h)});const S=Y(f,g=>{const _=[g.idx+1,c+1];const I=t.idx===0?"":t.idx;const M=r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:_,prefixPath:g.path});return{message:M,type:Lt.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:I,alternatives:_}});return S}));return a}function _b(e,t,n){const r=[];const i=Y(t,a=>a.name);ae(e,a=>{const s=a.name;if(Pt(i,s)){const o=n.buildNamespaceConflictError(a);r.push({message:o,type:Lt.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}});return r}function Eb(e){const t=eo(e,{errMsgProvider:Vy});const n={};ae(e.rules,r=>{n[r.name]=r});return $y(n,t.errMsgProvider)}function Ab(e){e=eo(e,{errMsgProvider:Dr});return ab(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}const pp="MismatchedTokenException";const Sp="NoViableAltException";const gp="EarlyExitException";const dp="NotAllInputParsedException";const _p=[pp,Sp,gp,dp];Object.freeze(_p);function Us(e){return Pt(_p,e.name)}class co extends Error{constructor(t,n){super(t);this.token=n;this.resyncedTokens=[];Object.setPrototypeOf(this,new.target.prototype);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}}class Ep extends co{constructor(t,n,r){super(t,n);this.previousToken=r;this.name=pp}}class Ib extends co{constructor(t,n,r){super(t,n);this.previousToken=r;this.name=Sp}}class Ob extends co{constructor(t,n){super(t,n);this.name=dp}}class Rb extends co{constructor(t,n,r){super(t,n);this.previousToken=r;this.name=gp}}const bo={};const Ap="InRuleRecoveryException";class Pb extends Error{constructor(t){super(t);this.name=Ap}}class Tb{initRecoverable(t){this.firstAfterRepMap={};this.resyncFollows={};this.recoveryEnabled=oe(t,"recoveryEnabled")?t.recoveryEnabled:jn.recoveryEnabled;if(this.recoveryEnabled){this.attemptInRepetitionRecovery=yb}}getTokenToInsert(t){const n=Hn(t,"",NaN,NaN,NaN,NaN,NaN,NaN);n.isInsertedInRecovery=true;return n}canTokenTypeBeInsertedInRecovery(t){return true}canTokenTypeBeDeletedInRecovery(t){return true}tryInRepetitionRecovery(t,n,r,i){const a=this.findReSyncTokenType();const s=this.exportLexerState();const o=[];let c=false;const h=this.LA(1);let f=this.LA(1);const S=()=>{const g=this.LA(0);const _=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:h,previous:g,ruleName:this.getCurrRuleFullName()});const I=new Ep(_,h,this.LA(0));I.resyncedTokens=Ia(o);this.SAVE_ERROR(I)};while(!c){if(this.tokenMatcher(f,i)){S();return}else if(r.call(this)){S();t.apply(this,n);return}else if(this.tokenMatcher(f,a)){c=true}else{f=this.SKIP_TOKEN();this.addToResyncTokens(f,o)}}this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(t,n,r){if(r===false){return false}if(this.tokenMatcher(this.LA(1),t)){return false}if(this.isBackTracking()){return false}if(this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,n))){return false}return true}getFollowsForInRuleRecovery(t,n){const r=this.getCurrentGrammarPath(t,n);const i=this.getNextPossibleTokenTypes(r);return i}tryInRuleRecovery(t,n){if(this.canRecoverWithSingleTokenInsertion(t,n)){const r=this.getTokenToInsert(t);return r}if(this.canRecoverWithSingleTokenDeletion(t)){const r=this.SKIP_TOKEN();this.consumeToken();return r}throw new Pb("sad sad panda")}canPerformInRuleRecovery(t,n){return this.canRecoverWithSingleTokenInsertion(t,n)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,n){if(!this.canTokenTypeBeInsertedInRecovery(t)){return false}if(Ne(n)){return false}const r=this.LA(1);const i=si(n,a=>{return this.tokenMatcher(r,a)})!==void 0;return i}canRecoverWithSingleTokenDeletion(t){if(!this.canTokenTypeBeDeletedInRecovery(t)){return false}const n=this.tokenMatcher(this.LA(2),t);return n}isInCurrentRuleReSyncSet(t){const n=this.getCurrFollowKey();const r=this.getFollowSetFromFollowKey(n);return Pt(r,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let n=this.LA(1);let r=2;while(true){const i=si(t,a=>{const s=sp(n,a);return s});if(i!==void 0){return i}n=this.LA(r);r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1){return bo}const t=this.getLastExplicitRuleShortName();const n=this.getLastExplicitRuleOccurrenceIndex();const r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const t=this.RULE_STACK;const n=this.RULE_OCCURRENCE_STACK;return Y(t,(r,i)=>{if(i===0){return bo}return{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:this.shortRuleNameToFullName(t[i-1])}})}flattenFollowSet(){const t=Y(this.buildFullFollowKeyStack(),n=>{return this.getFollowSetFromFollowKey(n)});return nn(t)}getFollowSetFromFollowKey(t){if(t===bo){return[wr]}const n=t.ruleName+t.idxInCallingRule+Xf+t.inRule;return this.resyncFollows[n]}addToResyncTokens(t,n){if(!this.tokenMatcher(t,wr)){n.push(t)}return n}reSyncTo(t){const n=[];let r=this.LA(1);while(this.tokenMatcher(r,t)===false){r=this.SKIP_TOKEN();this.addToResyncTokens(r,n)}return Ia(n)}attemptInRepetitionRecovery(t,n,r,i,a,s,o){}getCurrentGrammarPath(t,n){const r=this.getHumanReadableRuleStack();const i=Et(this.RULE_OCCURRENCE_STACK);const a={ruleStack:r,occurrenceStack:i,lastTok:t,lastTokOccurrence:n};return a}getHumanReadableRuleStack(){return Y(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}}function yb(e,t,n,r,i,a,s){const o=this.getKeyForAutomaticLookahead(r,i);let c=this.firstAfterRepMap[o];if(c===void 0){const g=this.getCurrRuleFullName();const _=this.getGAstProductions()[g];const I=new a(_,i);c=I.startWalking();this.firstAfterRepMap[o]=c}let h=c.token;let f=c.occurrence;const S=c.isEndOfRule;if(this.RULE_STACK.length===1&&S&&h===void 0){h=wr;f=1}if(h===void 0||f===void 0){return}if(this.shouldInRepetitionRecoveryBeTried(h,f,s)){this.tryInRepetitionRecovery(e,t,n,h)}}const bb=4;const lr=8;const Ip=1<<lr;const Op=2<<lr;const zc=3<<lr;const Yc=4<<lr;const Xc=5<<lr;const hs=6<<lr;function No(e,t,n){return n|t|e}class Rp{constructor(t){var n;this.maxLookahead=(n=t===null||t===void 0?void 0:t.maxLookahead)!==null&&n!==void 0?n:jn.maxLookahead}validate(t){const n=this.validateNoLeftRecursion(t.rules);if(Ne(n)){const r=this.validateEmptyOrAlternatives(t.rules);const i=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead);const a=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);const s=[...n,...r,...i,...a];return s}return n}validateNoLeftRecursion(t){return $t(t,n=>fp(n,n,Dr))}validateEmptyOrAlternatives(t){return $t(t,n=>hb(n,Dr))}validateAmbiguousAlternationAlternatives(t,n){return $t(t,r=>mb(r,n,Dr))}validateSomeNonEmptyLookaheadPath(t,n){return Sb(t,n,Dr)}buildLookaheadForAlternation(t){return Jy(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,Ky)}buildLookaheadForOptional(t){return Zy(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,jl(t.prodType),eb)}}class Nb{initLooksAhead(t){this.dynamicTokensEnabled=oe(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:jn.dynamicTokensEnabled;this.maxLookahead=oe(t,"maxLookahead")?t.maxLookahead:jn.maxLookahead;this.lookaheadStrategy=oe(t,"lookaheadStrategy")?t.lookaheadStrategy:new Rp({maxLookahead:this.maxLookahead});this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){ae(t,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:r,repetition:i,option:a,repetitionMandatory:s,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:c}=Db(n);ae(r,h=>{const f=h.idx===0?"":h.idx;this.TRACE_INIT(`${On(h)}${f}`,()=>{const S=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:h.idx,rule:n,maxLookahead:h.maxLookahead||this.maxLookahead,hasPredicates:h.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled});const g=No(this.fullRuleNameToShort[n.name],Ip,h.idx);this.setLaFuncCache(g,S)})});ae(i,h=>{this.computeLookaheadFunc(n,h.idx,zc,"Repetition",h.maxLookahead,On(h))});ae(a,h=>{this.computeLookaheadFunc(n,h.idx,Op,"Option",h.maxLookahead,On(h))});ae(s,h=>{this.computeLookaheadFunc(n,h.idx,Yc,"RepetitionMandatory",h.maxLookahead,On(h))});ae(o,h=>{this.computeLookaheadFunc(n,h.idx,hs,"RepetitionMandatoryWithSeparator",h.maxLookahead,On(h))});ae(c,h=>{this.computeLookaheadFunc(n,h.idx,Xc,"RepetitionWithSeparator",h.maxLookahead,On(h))})})})}computeLookaheadFunc(t,n,r,i,a,s){this.TRACE_INIT(`${s}${n===0?"":n}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:t,maxLookahead:a||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i});const c=No(this.fullRuleNameToShort[t.name],r,n);this.setLaFuncCache(c,o)})}getKeyForAutomaticLookahead(t,n){const r=this.getLastExplicitRuleShortName();return No(r,t,n)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,n){this.lookAheadFuncsCache.set(t,n)}}class kb extends hi{constructor(){super(...arguments);this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}}const is=new kb;function Db(e){is.reset();e.accept(is);const t=is.dslMethods;is.reset();return t}function Rm(e,t){if(isNaN(e.startOffset)===true){e.startOffset=t.startOffset;e.endOffset=t.endOffset}else if(e.endOffset<t.endOffset===true){e.endOffset=t.endOffset}}function Pm(e,t){if(isNaN(e.startOffset)===true){e.startOffset=t.startOffset;e.startColumn=t.startColumn;e.startLine=t.startLine;e.endOffset=t.endOffset;e.endColumn=t.endColumn;e.endLine=t.endLine}else if(e.endOffset<t.endOffset===true){e.endOffset=t.endOffset;e.endColumn=t.endColumn;e.endLine=t.endLine}}function vb(e,t,n){if(e.children[n]===void 0){e.children[n]=[t]}else{e.children[n].push(t)}}function Lb(e,t,n){if(e.children[t]===void 0){e.children[t]=[n]}else{e.children[t].push(n)}}const Cb="name";function Pp(e,t){Object.defineProperty(e,Cb,{enumerable:false,configurable:true,writable:false,value:t})}function Ub(e,t){const n=sn(e);const r=n.length;for(let i=0;i<r;i++){const a=n[i];const s=e[a];const o=s.length;for(let c=0;c<o;c++){const h=s[c];if(h.tokenTypeIdx===void 0){this[h.name](h.children,t)}}}}function Mb(e,t){const n=function(){};Pp(n,e+"BaseSemantics");const r={visit:function(i,a){if(_e(i)){i=i[0]}if(yn(i)){return void 0}return this[i.name](i.children,a)},validateVisitor:function(){const i=Gb(this,t);if(!Ne(i)){const a=Y(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join("\n\n").replace(/\n/g,"\n	")}`)}}};n.prototype=r;n.prototype.constructor=n;n._RULE_NAMES=t;return n}function wb(e,t,n){const r=function(){};Pp(r,e+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);ae(t,a=>{i[a]=Ub});r.prototype=i;r.prototype.constructor=r;return r}var Qc;(function(e){e[e["REDUNDANT_METHOD"]=0]="REDUNDANT_METHOD";e[e["MISSING_METHOD"]=1]="MISSING_METHOD"})(Qc||(Qc={}));function Gb(e,t){const n=Fb(e,t);return n}function Fb(e,t){const n=zt(t,i=>{return Sn(e[i])===false});const r=Y(n,i=>{return{msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:Qc.MISSING_METHOD,methodName:i}});return Na(r)}class xb{initTreeBuilder(t){this.CST_STACK=[];this.outputCst=t.outputCst;this.nodeLocationTracking=oe(t,"nodeLocationTracking")?t.nodeLocationTracking:jn.nodeLocationTracking;if(!this.outputCst){this.cstInvocationStateUpdate=lt;this.cstFinallyStateUpdate=lt;this.cstPostTerminal=lt;this.cstPostNonTerminal=lt;this.cstPostRule=lt}else{if(/full/i.test(this.nodeLocationTracking)){if(this.recoveryEnabled){this.setNodeLocationFromToken=Pm;this.setNodeLocationFromNode=Pm;this.cstPostRule=lt;this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery}else{this.setNodeLocationFromToken=lt;this.setNodeLocationFromNode=lt;this.cstPostRule=this.cstPostRuleFull;this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular}}else if(/onlyOffset/i.test(this.nodeLocationTracking)){if(this.recoveryEnabled){this.setNodeLocationFromToken=Rm;this.setNodeLocationFromNode=Rm;this.cstPostRule=lt;this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery}else{this.setNodeLocationFromToken=lt;this.setNodeLocationFromNode=lt;this.cstPostRule=this.cstPostRuleOnlyOffset;this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular}}else if(/none/i.test(this.nodeLocationTracking)){this.setNodeLocationFromToken=lt;this.setNodeLocationFromNode=lt;this.cstPostRule=lt;this.setInitialNodeLocation=lt}else{throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}}}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const n=this.LA(1);t.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const n={name:t,children:Object.create(null)};this.setInitialNodeLocation(n);this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const n=this.LA(0);const r=t.location;if(r.startOffset<=n.startOffset===true){r.endOffset=n.endOffset;r.endLine=n.endLine;r.endColumn=n.endColumn}else{r.startOffset=NaN;r.startLine=NaN;r.startColumn=NaN}}cstPostRuleOnlyOffset(t){const n=this.LA(0);const r=t.location;if(r.startOffset<=n.startOffset===true){r.endOffset=n.endOffset}else{r.startOffset=NaN}}cstPostTerminal(t,n){const r=this.CST_STACK[this.CST_STACK.length-1];vb(r,n,t);this.setNodeLocationFromToken(r.location,n)}cstPostNonTerminal(t,n){const r=this.CST_STACK[this.CST_STACK.length-1];Lb(r,n,t);this.setNodeLocationFromNode(r.location,t.location)}getBaseCstVisitorConstructor(){if(yn(this.baseCstVisitorConstructor)){const t=Mb(this.className,sn(this.gastProductionsCache));this.baseCstVisitorConstructor=t;return t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(yn(this.baseCstVisitorWithDefaultsConstructor)){const t=wb(this.className,sn(this.gastProductionsCache),this.getBaseCstVisitorConstructor());this.baseCstVisitorWithDefaultsConstructor=t;return t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}}class Bb{initLexerAdapter(){this.tokVector=[];this.tokVectorLength=0;this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==true){throw Error(`Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.`)}this.reset();this.tokVector=t;this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){if(this.currIdx<=this.tokVector.length-2){this.consumeToken();return this.LA(1)}else{return ws}}LA(t){const n=this.currIdx+t;if(n<0||this.tokVectorLength<=n){return ws}else{return this.tokVector[n]}}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class qb{ACTION(t){return t.call(this)}consume(t,n,r){return this.consumeInternal(n,t,r)}subrule(t,n,r){return this.subruleInternal(n,t,r)}option(t,n){return this.optionInternal(n,t)}or(t,n){return this.orInternal(n,t)}many(t,n){return this.manyInternal(t,n)}atLeastOne(t,n){return this.atLeastOneInternal(t,n)}CONSUME(t,n){return this.consumeInternal(t,0,n)}CONSUME1(t,n){return this.consumeInternal(t,1,n)}CONSUME2(t,n){return this.consumeInternal(t,2,n)}CONSUME3(t,n){return this.consumeInternal(t,3,n)}CONSUME4(t,n){return this.consumeInternal(t,4,n)}CONSUME5(t,n){return this.consumeInternal(t,5,n)}CONSUME6(t,n){return this.consumeInternal(t,6,n)}CONSUME7(t,n){return this.consumeInternal(t,7,n)}CONSUME8(t,n){return this.consumeInternal(t,8,n)}CONSUME9(t,n){return this.consumeInternal(t,9,n)}SUBRULE(t,n){return this.subruleInternal(t,0,n)}SUBRULE1(t,n){return this.subruleInternal(t,1,n)}SUBRULE2(t,n){return this.subruleInternal(t,2,n)}SUBRULE3(t,n){return this.subruleInternal(t,3,n)}SUBRULE4(t,n){return this.subruleInternal(t,4,n)}SUBRULE5(t,n){return this.subruleInternal(t,5,n)}SUBRULE6(t,n){return this.subruleInternal(t,6,n)}SUBRULE7(t,n){return this.subruleInternal(t,7,n)}SUBRULE8(t,n){return this.subruleInternal(t,8,n)}SUBRULE9(t,n){return this.subruleInternal(t,9,n)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,n,r=Gs){if(Pt(this.definedRulesNames,t)){const a=Dr.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className});const s={message:a,type:Lt.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(s)}this.definedRulesNames.push(t);const i=this.defineRule(t,n,r);this[t]=i;return i}OVERRIDE_RULE(t,n,r=Gs){const i=ub(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const a=this.defineRule(t,n,r);this[t]=a;return a}BACKTRACK(t,n){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{t.apply(this,n);return true}catch(i){if(Us(i)){return false}else{throw i}}finally{this.reloadRecogState(r);this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return jT(ut(this.gastProductionsCache))}}class Wb{initRecognizerEngine(t,n){this.className=this.constructor.name;this.shortRuleNameToFull={};this.fullRuleNameToShort={};this.ruleShortNameIdx=256;this.tokenMatcher=Cs;this.subruleIdx=0;this.definedRulesNames=[];this.tokensMap={};this.isBackTrackingStack=[];this.RULE_STACK=[];this.RULE_OCCURRENCE_STACK=[];this.gastProductionsCache={};if(oe(n,"serializedGrammar")){throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n	For Further details.")}if(_e(t)){if(Ne(t)){throw Error("A Token Vocabulary cannot be empty.\n	Note that the first argument for the parser constructor\n	is no longer a Token vector (since v4.0).")}if(typeof t[0].startOffset==="number"){throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n	For Further details.")}}if(_e(t)){this.tokensMap=At(t,(a,s)=>{a[s.name]=s;return a},{})}else if(oe(t,"modes")&&mn(nn(ut(t.modes)),xy)){const a=nn(ut(t.modes));const s=Vl(a);this.tokensMap=At(s,(o,c)=>{o[c.name]=c;return o},{})}else if(an(t)){this.tokensMap=Et(t)}else{throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition")}this.tokensMap["EOF"]=wr;const r=oe(t,"modes")?nn(ut(t.modes)):ut(t);const i=mn(r,a=>Ne(a.categoryMatches));this.tokenMatcher=i?Cs:va;La(ut(this.tokensMap))}defineRule(t,n,r){if(this.selfAnalysisDone){throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`)}const i=oe(r,"resyncEnabled")?r.resyncEnabled:Gs.resyncEnabled;const a=oe(r,"recoveryValueFunc")?r.recoveryValueFunc:Gs.recoveryValueFunc;const s=this.ruleShortNameIdx<<bb+lr;this.ruleShortNameIdx++;this.shortRuleNameToFull[s]=t;this.fullRuleNameToShort[t]=s;let o;if(this.outputCst===true){o=function h(...f){try{this.ruleInvocationStateUpdate(s,t,this.subruleIdx);n.apply(this,f);const S=this.CST_STACK[this.CST_STACK.length-1];this.cstPostRule(S);return S}catch(S){return this.invokeRuleCatch(S,i,a)}finally{this.ruleFinallyStateUpdate()}}}else{o=function h(...f){try{this.ruleInvocationStateUpdate(s,t,this.subruleIdx);return n.apply(this,f)}catch(S){return this.invokeRuleCatch(S,i,a)}finally{this.ruleFinallyStateUpdate()}}}const c=Object.assign(o,{ruleName:t,originalGrammarAction:n});return c}invokeRuleCatch(t,n,r){const i=this.RULE_STACK.length===1;const a=n&&!this.isBackTracking()&&this.recoveryEnabled;if(Us(t)){const s=t;if(a){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o)){s.resyncedTokens=this.reSyncTo(o);if(this.outputCst){const c=this.CST_STACK[this.CST_STACK.length-1];c.recoveredNode=true;return c}else{return r(t)}}else{if(this.outputCst){const c=this.CST_STACK[this.CST_STACK.length-1];c.recoveredNode=true;s.partialCstResult=c}throw s}}else if(i){this.moveToTerminatedState();return r(t)}else{throw s}}else{throw t}}optionInternal(t,n){const r=this.getKeyForAutomaticLookahead(Op,n);return this.optionInternalLogic(t,n,r)}optionInternalLogic(t,n,r){let i=this.getLaFuncFromCache(r);let a;if(typeof t!=="function"){a=t.DEF;const s=t.GATE;if(s!==void 0){const o=i;i=()=>{return s.call(this)&&o.call(this)}}}else{a=t}if(i.call(this)===true){return a.call(this)}return void 0}atLeastOneInternal(t,n){const r=this.getKeyForAutomaticLookahead(Yc,t);return this.atLeastOneInternalLogic(t,n,r)}atLeastOneInternalLogic(t,n,r){let i=this.getLaFuncFromCache(r);let a;if(typeof n!=="function"){a=n.DEF;const s=n.GATE;if(s!==void 0){const o=i;i=()=>{return s.call(this)&&o.call(this)}}}else{a=n}if(i.call(this)===true){let s=this.doSingleRepetition(a);while(i.call(this)===true&&s===true){s=this.doSingleRepetition(a)}}else{throw this.raiseEarlyExitException(t,qe.REPETITION_MANDATORY,n.ERR_MSG)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,n],i,Yc,t,Xy)}atLeastOneSepFirstInternal(t,n){const r=this.getKeyForAutomaticLookahead(hs,t);this.atLeastOneSepFirstInternalLogic(t,n,r)}atLeastOneSepFirstInternalLogic(t,n,r){const i=n.DEF;const a=n.SEP;const s=this.getLaFuncFromCache(r);if(s.call(this)===true){i.call(this);const o=()=>{return this.tokenMatcher(this.LA(1),a)};while(this.tokenMatcher(this.LA(1),a)===true){this.CONSUME(a);i.call(this)}this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,a,o,i,Am],o,hs,t,Am)}else{throw this.raiseEarlyExitException(t,qe.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}}manyInternal(t,n){const r=this.getKeyForAutomaticLookahead(zc,t);return this.manyInternalLogic(t,n,r)}manyInternalLogic(t,n,r){let i=this.getLaFuncFromCache(r);let a;if(typeof n!=="function"){a=n.DEF;const o=n.GATE;if(o!==void 0){const c=i;i=()=>{return o.call(this)&&c.call(this)}}}else{a=n}let s=true;while(i.call(this)===true&&s===true){s=this.doSingleRepetition(a)}this.attemptInRepetitionRecovery(this.manyInternal,[t,n],i,zc,t,Yy,s)}manySepFirstInternal(t,n){const r=this.getKeyForAutomaticLookahead(Xc,t);this.manySepFirstInternalLogic(t,n,r)}manySepFirstInternalLogic(t,n,r){const i=n.DEF;const a=n.SEP;const s=this.getLaFuncFromCache(r);if(s.call(this)===true){i.call(this);const o=()=>{return this.tokenMatcher(this.LA(1),a)};while(this.tokenMatcher(this.LA(1),a)===true){this.CONSUME(a);i.call(this)}this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,a,o,i,Em],o,Xc,t,Em)}}repetitionSepSecondInternal(t,n,r,i,a){while(r()){this.CONSUME(n);i.call(this)}this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,n,r,i,a],r,hs,t,a)}doSingleRepetition(t){const n=this.getLexerPosition();t.call(this);const r=this.getLexerPosition();return r>n}orInternal(t,n){const r=this.getKeyForAutomaticLookahead(Ip,n);const i=_e(t)?t:t.DEF;const a=this.getLaFuncFromCache(r);const s=a.call(this,i);if(s!==void 0){const o=i[s];return o.ALT.call(this)}this.raiseNoAltException(n,t.ERR_MSG)}ruleFinallyStateUpdate(){this.RULE_STACK.pop();this.RULE_OCCURRENCE_STACK.pop();this.cstFinallyStateUpdate();if(this.RULE_STACK.length===0&&this.isAtEndOfInput()===false){const t=this.LA(1);const n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Ob(n,t))}}subruleInternal(t,n,r){let i;try{const a=r!==void 0?r.ARGS:void 0;this.subruleIdx=n;i=t.apply(this,a);this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:t.ruleName);return i}catch(a){throw this.subruleInternalError(a,r,t.ruleName)}}subruleInternalError(t,n,r){if(Us(t)&&t.partialCstResult!==void 0){this.cstPostNonTerminal(t.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r);delete t.partialCstResult}throw t}consumeInternal(t,n,r){let i;try{const a=this.LA(1);if(this.tokenMatcher(a,t)===true){this.consumeToken();i=a}else{this.consumeInternalError(t,a,r)}}catch(a){i=this.consumeInternalRecovery(t,n,a)}this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:t.name,i);return i}consumeInternalError(t,n,r){let i;const a=this.LA(0);if(r!==void 0&&r.ERR_MSG){i=r.ERR_MSG}else{i=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:n,previous:a,ruleName:this.getCurrRuleFullName()})}throw this.SAVE_ERROR(new Ep(i,n,a))}consumeInternalRecovery(t,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(t,n);try{return this.tryInRuleRecovery(t,i)}catch(a){if(a.name===Ap){throw r}else{throw a}}}else{throw r}}saveRecogState(){const t=this.errors;const n=Et(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors;this.importLexerState(t.lexerState);this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,n,r){this.RULE_OCCURRENCE_STACK.push(r);this.RULE_STACK.push(t);this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),wr)}reset(){this.resetLexerState();this.subruleIdx=0;this.isBackTrackingStack=[];this.errors=[];this.RULE_STACK=[];this.CST_STACK=[];this.RULE_OCCURRENCE_STACK=[]}}class Vb{initErrorHandler(t){this._errors=[];this.errorMessageProvider=oe(t,"errorMessageProvider")?t.errorMessageProvider:jn.errorMessageProvider}SAVE_ERROR(t){if(Us(t)){t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Et(this.RULE_OCCURRENCE_STACK)};this._errors.push(t);return t}else{throw Error("Trying to save an Error which is not a RecognitionException")}}get errors(){return Et(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,n,r){const i=this.getCurrRuleFullName();const a=this.getGAstProductions()[i];const s=oo(t,a,n,this.maxLookahead);const o=s[0];const c=[];for(let f=1;f<=this.maxLookahead;f++){c.push(this.LA(f))}const h=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:c,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new Rb(h,this.LA(1),this.LA(0)))}raiseNoAltException(t,n){const r=this.getCurrRuleFullName();const i=this.getGAstProductions()[r];const a=so(t,i,this.maxLookahead);const s=[];for(let h=1;h<=this.maxLookahead;h++){s.push(this.LA(h))}const o=this.LA(0);const c=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:a,actual:s,previous:o,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Ib(c,this.LA(1),o))}}class $b{initContentAssist(){}computeContentAssist(t,n){const r=this.gastProductionsCache[t];if(yn(r)){throw Error(`Rule ->${t}<- does not exist in this grammar.`)}return cp([r],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const n=pn(t.ruleStack);const r=this.getGAstProductions();const i=r[n];const a=new zy(i,t).startWalking();return a}}const lo={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(lo);const Tm=true;const ym=Math.pow(2,lr)-1;const Tp=p({name:"RECORDING_PHASE_TOKEN",pattern:ge.NA});La([Tp]);const yp=Hn(Tp,"This IToken indicates the Parser is in Recording Phase\n	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(yp);const Hb={name:"This CSTNode indicates the Parser is in Recording Phase\n	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};class jb{initGastRecorder(t){this.recordingProdStack=[];this.RECORDING_PHASE=false}enableRecording(){this.RECORDING_PHASE=true;this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const n=t>0?t:"";this[`CONSUME${n}`]=function(r,i){return this.consumeInternalRecord(r,t,i)};this[`SUBRULE${n}`]=function(r,i){return this.subruleInternalRecord(r,t,i)};this[`OPTION${n}`]=function(r){return this.optionInternalRecord(r,t)};this[`OR${n}`]=function(r){return this.orInternalRecord(r,t)};this[`MANY${n}`]=function(r){this.manyInternalRecord(t,r)};this[`MANY_SEP${n}`]=function(r){this.manySepFirstInternalRecord(t,r)};this[`AT_LEAST_ONE${n}`]=function(r){this.atLeastOneInternalRecord(t,r)};this[`AT_LEAST_ONE_SEP${n}`]=function(r){this.atLeastOneSepFirstInternalRecord(t,r)}}this[`consume`]=function(t,n,r){return this.consumeInternalRecord(n,t,r)};this[`subrule`]=function(t,n,r){return this.subruleInternalRecord(n,t,r)};this[`option`]=function(t,n){return this.optionInternalRecord(n,t)};this[`or`]=function(t,n){return this.orInternalRecord(n,t)};this[`many`]=function(t,n){this.manyInternalRecord(t,n)};this[`atLeastOne`]=function(t,n){this.atLeastOneInternalRecord(t,n)};this.ACTION=this.ACTION_RECORD;this.BACKTRACK=this.BACKTRACK_RECORD;this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=false;this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let n=0;n<10;n++){const r=n>0?n:"";delete t[`CONSUME${r}`];delete t[`SUBRULE${r}`];delete t[`OPTION${r}`];delete t[`OR${r}`];delete t[`MANY${r}`];delete t[`MANY_SEP${r}`];delete t[`AT_LEAST_ONE${r}`];delete t[`AT_LEAST_ONE_SEP${r}`]}delete t[`consume`];delete t[`subrule`];delete t[`option`];delete t[`or`];delete t[`many`];delete t[`atLeastOne`];delete t.ACTION;delete t.BACKTRACK;delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,n){return()=>true}LA_RECORD(t){return ws}topLevelRuleRecord(t,n){try{const r=new ui({definition:[],name:t});r.name=t;this.recordingProdStack.push(r);n.call(this);this.recordingProdStack.pop();return r}catch(r){if(r.KNOWN_RECORDER_ERROR!==true){try{r.message=r.message+'\n	 This error was thrown during the "grammar recording phase" For more info see:\n	https://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(i){throw r}}throw r}}optionInternalRecord(t,n){return zi.call(this,_t,t,n)}atLeastOneInternalRecord(t,n){zi.call(this,Yt,n,t)}atLeastOneSepFirstInternalRecord(t,n){zi.call(this,Xt,n,t,Tm)}manyInternalRecord(t,n){zi.call(this,je,n,t)}manySepFirstInternalRecord(t,n){zi.call(this,Gt,n,t,Tm)}orInternalRecord(t,n){return zb.call(this,t,n)}subruleInternalRecord(t,n,r){Ms(n);if(!t||oe(t,"ruleName")===false){const o=new Error(`<SUBRULE${bm(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);o.KNOWN_RECORDER_ERROR=true;throw o}const i=ai(this.recordingProdStack);const a=t.ruleName;const s=new vt({idx:n,nonTerminalName:a,label:r===null||r===void 0?void 0:r.LABEL,referencedRule:void 0});i.definition.push(s);return this.outputCst?Hb:lo}consumeInternalRecord(t,n,r){Ms(n);if(!ip(t)){const s=new Error(`<CONSUME${bm(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);s.KNOWN_RECORDER_ERROR=true;throw s}const i=ai(this.recordingProdStack);const a=new Me({idx:n,terminalType:t,label:r===null||r===void 0?void 0:r.LABEL});i.definition.push(a);return yp}}function zi(e,t,n,r=false){Ms(n);const i=ai(this.recordingProdStack);const a=Sn(t)?t:t.DEF;const s=new e({definition:[],idx:n});if(r){s.separator=t.SEP}if(oe(t,"MAX_LOOKAHEAD")){s.maxLookahead=t.MAX_LOOKAHEAD}this.recordingProdStack.push(s);a.call(this);i.definition.push(s);this.recordingProdStack.pop();return lo}function zb(e,t){Ms(t);const n=ai(this.recordingProdStack);const r=_e(e)===false;const i=r===false?e:e.DEF;const a=new Ft({definition:[],idx:t,ignoreAmbiguities:r&&e.IGNORE_AMBIGUITIES===true});if(oe(e,"MAX_LOOKAHEAD")){a.maxLookahead=e.MAX_LOOKAHEAD}const s=Hf(i,o=>Sn(o.GATE));a.hasPredicates=s;n.definition.push(a);ae(i,o=>{const c=new wt({definition:[]});a.definition.push(c);if(oe(o,"IGNORE_AMBIGUITIES")){c.ignoreAmbiguities=o.IGNORE_AMBIGUITIES}else if(oe(o,"GATE")){c.ignoreAmbiguities=true}this.recordingProdStack.push(c);o.ALT.call(this);this.recordingProdStack.pop()});return lo}function bm(e){return e===0?"":`${e}`}function Ms(e){if(e<0||e>ym){const t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${ym+1}`);t.KNOWN_RECORDER_ERROR=true;throw t}}class Yb{initPerformanceTracer(t){if(oe(t,"traceInitPerf")){const n=t.traceInitPerf;const r=typeof n==="number";this.traceInitMaxIdent=r?n:Infinity;this.traceInitPerf=r?n>0:n}else{this.traceInitMaxIdent=0;this.traceInitPerf=jn.traceInitPerf}this.traceInitIndent=-1}TRACE_INIT(t,n){if(this.traceInitPerf===true){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");if(this.traceInitIndent<this.traceInitMaxIdent){console.log(`${r}--> <${t}>`)}const{time:i,value:a}=zf(n);const s=i>10?console.warn:console.log;if(this.traceInitIndent<this.traceInitMaxIdent){s(`${r}<-- <${t}> time: ${i}ms`)}this.traceInitIndent--;return a}else{return n()}}}function Xb(e,t){t.forEach(n=>{const r=n.prototype;Object.getOwnPropertyNames(r).forEach(i=>{if(i==="constructor"){return}const a=Object.getOwnPropertyDescriptor(r,i);if(a&&(a.get||a.set)){Object.defineProperty(e.prototype,i,a)}else{e.prototype[i]=n.prototype[i]}})})}const ws=Hn(wr,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(ws);const jn=Object.freeze({recoveryEnabled:false,maxLookahead:3,dynamicTokensEnabled:false,outputCst:true,errorMessageProvider:op,nodeLocationTracking:"none",traceInitPerf:false,skipValidations:false});const Gs=Object.freeze({recoveryValueFunc:()=>void 0,resyncEnabled:true});var Lt;(function(e){e[e["INVALID_RULE_NAME"]=0]="INVALID_RULE_NAME";e[e["DUPLICATE_RULE_NAME"]=1]="DUPLICATE_RULE_NAME";e[e["INVALID_RULE_OVERRIDE"]=2]="INVALID_RULE_OVERRIDE";e[e["DUPLICATE_PRODUCTIONS"]=3]="DUPLICATE_PRODUCTIONS";e[e["UNRESOLVED_SUBRULE_REF"]=4]="UNRESOLVED_SUBRULE_REF";e[e["LEFT_RECURSION"]=5]="LEFT_RECURSION";e[e["NONE_LAST_EMPTY_ALT"]=6]="NONE_LAST_EMPTY_ALT";e[e["AMBIGUOUS_ALTS"]=7]="AMBIGUOUS_ALTS";e[e["CONFLICT_TOKENS_RULES_NAMESPACE"]=8]="CONFLICT_TOKENS_RULES_NAMESPACE";e[e["INVALID_TOKEN_NAME"]=9]="INVALID_TOKEN_NAME";e[e["NO_NON_EMPTY_LOOKAHEAD"]=10]="NO_NON_EMPTY_LOOKAHEAD";e[e["AMBIGUOUS_PREFIX_ALTS"]=11]="AMBIGUOUS_PREFIX_ALTS";e[e["TOO_MANY_ALTS"]=12]="TOO_MANY_ALTS";e[e["CUSTOM_LOOKAHEAD_VALIDATION"]=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Lt||(Lt={}));class Ca{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=true;const n=this.className;this.TRACE_INIT("toFastProps",()=>{Yf(this)});this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording();ae(this.definedRulesNames,i=>{const a=this[i];const s=a["originalGrammarAction"];let o;this.TRACE_INIT(`${i} Rule`,()=>{o=this.topLevelRuleRecord(i,s)});this.gastProductionsCache[i]=o})}finally{this.disableRecording()}});let r=[];this.TRACE_INIT("Grammar Resolving",()=>{r=Eb({rules:ut(this.gastProductionsCache)});this.definitionErrors=this.definitionErrors.concat(r)});this.TRACE_INIT("Grammar Validations",()=>{if(Ne(r)&&this.skipValidations===false){const i=Ab({rules:ut(this.gastProductionsCache),tokenTypes:ut(this.tokensMap),errMsgProvider:Dr,grammarName:n});const a=ib({lookaheadStrategy:this.lookaheadStrategy,rules:ut(this.gastProductionsCache),tokenTypes:ut(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(i,a)}});if(Ne(this.definitionErrors)){if(this.recoveryEnabled){this.TRACE_INIT("computeAllProdsFollows",()=>{const i=KT(ut(this.gastProductionsCache));this.resyncFollows=i})}this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,a;(a=(i=this.lookaheadStrategy).initialize)===null||a===void 0?void 0:a.call(i,{rules:ut(this.gastProductionsCache)});this.preComputeLookaheadFunctions(ut(this.gastProductionsCache))})}if(!Ca.DEFER_DEFINITION_ERRORS_HANDLING&&!Ne(this.definitionErrors)){t=Y(this.definitionErrors,i=>i.message);throw new Error(`Parser Definition Errors detected:
 ${t.join("\n-------------------------------\n")}`)}})}constructor(t,n){this.definitionErrors=[];this.selfAnalysisDone=false;const r=this;r.initErrorHandler(n);r.initLexerAdapter();r.initLooksAhead(n);r.initRecognizerEngine(t,n);r.initRecoverable(n);r.initTreeBuilder(n);r.initContentAssist();r.initGastRecorder(n);r.initPerformanceTracer(n);if(oe(n,"ignoredIssues")){throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n	For further details.")}this.skipValidations=oe(n,"skipValidations")?n.skipValidations:jn.skipValidations}}Ca.DEFER_DEFINITION_ERRORS_HANDLING=false;Xb(Ca,[Tb,Nb,xb,Bb,Wb,qb,Vb,$b,jb,Yb]);class bp extends Ca{constructor(t,n=jn){const r=Et(n);r.outputCst=false;super(t,r)}}function oi(e,t,n){return`${e.name}_${t}_${n}`}const or=1;const Qb=2;const Np=4;const kp=5;const Ua=7;const Jb=8;const Zb=9;const Kb=10;const eN=11;const Dp=12;class Yl{constructor(t){this.target=t}isEpsilon(){return false}}class Xl extends Yl{constructor(t,n){super(t);this.tokenType=n}}class vp extends Yl{constructor(t){super(t)}isEpsilon(){return true}}class Ql extends Yl{constructor(t,n,r){super(t);this.rule=n;this.followState=r}isEpsilon(){return true}}function tN(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};nN(t,e);const n=e.length;for(let r=0;r<n;r++){const i=e[r];const a=Wr(t,i,i);if(a===void 0){continue}fN(t,i,a)}return t}function nN(e,t){const n=t.length;for(let r=0;r<n;r++){const i=t[r];const a=mt(e,i,void 0,{type:Qb});const s=mt(e,i,void 0,{type:Ua});a.stop=s;e.ruleToStartState.set(i,a);e.ruleToStopState.set(i,s)}}function Lp(e,t,n){if(n instanceof Me){return Jl(e,t,n.terminalType,n)}else if(n instanceof vt){return mN(e,t,n)}else if(n instanceof Ft){return oN(e,t,n)}else if(n instanceof _t){return cN(e,t,n)}else if(n instanceof je){return rN(e,t,n)}else if(n instanceof Gt){return iN(e,t,n)}else if(n instanceof Yt){return aN(e,t,n)}else if(n instanceof Xt){return sN(e,t,n)}else{return Wr(e,t,n)}}function rN(e,t,n){const r=mt(e,t,n,{type:kp});ur(e,r);const i=mi(e,t,r,n,Wr(e,t,n));return Up(e,t,n,i)}function iN(e,t,n){const r=mt(e,t,n,{type:kp});ur(e,r);const i=mi(e,t,r,n,Wr(e,t,n));const a=Jl(e,t,n.separator,n);return Up(e,t,n,i,a)}function aN(e,t,n){const r=mt(e,t,n,{type:Np});ur(e,r);const i=mi(e,t,r,n,Wr(e,t,n));return Cp(e,t,n,i)}function sN(e,t,n){const r=mt(e,t,n,{type:Np});ur(e,r);const i=mi(e,t,r,n,Wr(e,t,n));const a=Jl(e,t,n.separator,n);return Cp(e,t,n,i,a)}function oN(e,t,n){const r=mt(e,t,n,{type:or});ur(e,r);const i=Y(n.definition,s=>Lp(e,t,s));const a=mi(e,t,r,n,...i);return a}function cN(e,t,n){const r=mt(e,t,n,{type:or});ur(e,r);const i=mi(e,t,r,n,Wr(e,t,n));return lN(e,t,n,i)}function Wr(e,t,n){const r=zt(Y(n.definition,i=>Lp(e,t,i)),i=>i!==void 0);if(r.length===1){return r[0]}else if(r.length===0){return void 0}else{return hN(e,r)}}function Cp(e,t,n,r,i){const a=r.left;const s=r.right;const o=mt(e,t,n,{type:eN});ur(e,o);const c=mt(e,t,n,{type:Dp});a.loopback=o;c.loopback=o;e.decisionMap[oi(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=o;et(s,o);if(i===void 0){et(o,a);et(o,c)}else{et(o,c);et(o,i.left);et(i.right,a)}return{left:a,right:c}}function Up(e,t,n,r,i){const a=r.left;const s=r.right;const o=mt(e,t,n,{type:Kb});ur(e,o);const c=mt(e,t,n,{type:Dp});const h=mt(e,t,n,{type:Zb});o.loopback=h;c.loopback=h;et(o,a);et(o,c);et(s,h);if(i!==void 0){et(h,c);et(h,i.left);et(i.right,a)}else{et(h,o)}e.decisionMap[oi(t,i?"RepetitionWithSeparator":"Repetition",n.idx)]=o;return{left:o,right:c}}function lN(e,t,n,r){const i=r.left;const a=r.right;et(i,a);e.decisionMap[oi(t,"Option",n.idx)]=i;return r}function ur(e,t){e.decisionStates.push(t);t.decision=e.decisionStates.length-1;return t.decision}function mi(e,t,n,r,...i){const a=mt(e,t,r,{type:Jb,start:n});n.end=a;for(const o of i){if(o!==void 0){et(n,o.left);et(o.right,a)}else{et(n,a)}}const s={left:n,right:a};e.decisionMap[oi(t,uN(r),r.idx)]=n;return s}function uN(e){if(e instanceof Ft){return"Alternation"}else if(e instanceof _t){return"Option"}else if(e instanceof je){return"Repetition"}else if(e instanceof Gt){return"RepetitionWithSeparator"}else if(e instanceof Yt){return"RepetitionMandatory"}else if(e instanceof Xt){return"RepetitionMandatoryWithSeparator"}else{throw new Error("Invalid production type encountered")}}function hN(e,t){const n=t.length;for(let a=0;a<n-1;a++){const s=t[a];let o;if(s.left.transitions.length===1){o=s.left.transitions[0]}const c=o instanceof Ql;const h=o;const f=t[a+1].left;if(s.left.type===or&&s.right.type===or&&o!==void 0&&(c&&h.followState===s.right||o.target===s.right)){if(c){h.followState=f}else{o.target=f}pN(e,s.right)}else{et(s.right,f)}}const r=t[0];const i=t[n-1];return{left:r.left,right:i.right}}function Jl(e,t,n,r){const i=mt(e,t,r,{type:or});const a=mt(e,t,r,{type:or});Zl(i,new Xl(a,n));return{left:i,right:a}}function mN(e,t,n){const r=n.referencedRule;const i=e.ruleToStartState.get(r);const a=mt(e,t,n,{type:or});const s=mt(e,t,n,{type:or});const o=new Ql(i,r,s);Zl(a,o);return{left:a,right:s}}function fN(e,t,n){const r=e.ruleToStartState.get(t);et(r,n.left);const i=e.ruleToStopState.get(t);et(n.right,i);const a={left:r,right:i};return a}function et(e,t){const n=new vp(t);Zl(e,n)}function mt(e,t,n,r){const i=Object.assign({atn:e,production:n,epsilonOnlyTransitions:false,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},r);e.states.push(i);return i}function Zl(e,t){if(e.transitions.length===0){e.epsilonOnlyTransitions=t.isEpsilon()}e.transitions.push(t)}function pN(e,t){e.states.splice(e.states.indexOf(t),1)}const Fs={};class Jc{constructor(){this.map={};this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(t){const n=Mp(t);if(!(n in this.map)){this.map[n]=this.configs.length;this.configs.push(t)}}get elements(){return this.configs}get alts(){return Y(this.configs,t=>t.alt)}get key(){let t="";for(const n in this.map){t+=n+":"}return t}}function Mp(e,t=true){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(n=>n.stateNumber.toString()).join("_")}`}function SN(e,t){const n={};return r=>{const i=r.toString();let a=n[i];if(a!==void 0){return a}else{a={atnStartState:e,decision:t,states:{}};n[i]=a;return a}}}class wp{constructor(){this.predicates=[]}is(t){return t>=this.predicates.length||this.predicates[t]}set(t,n){this.predicates[t]=n}toString(){let t="";const n=this.predicates.length;for(let r=0;r<n;r++){t+=this.predicates[r]===true?"1":"0"}return t}}const Nm=new wp;class gN extends Rp{constructor(t){var n;super();this.logging=(n=t===null||t===void 0?void 0:t.logging)!==null&&n!==void 0?n:r=>console.log(r)}initialize(t){this.atn=tN(t.rules);this.dfas=dN(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(t){const{prodOccurrence:n,rule:r,hasPredicates:i,dynamicTokensEnabled:a}=t;const s=this.dfas;const o=this.logging;const c=oi(r,"Alternation",n);const h=this.atn.decisionMap[c];const f=h.decision;const S=Y(Im({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:r}),g=>Y(g,_=>_[0]));if(km(S,false)&&!a){const g=At(S,(_,I,M)=>{ae(I,W=>{if(W){_[W.tokenTypeIdx]=M;ae(W.categoryMatches,C=>{_[C]=M})}});return _},{});if(i){return function(_){var I;const M=this.LA(1);const W=g[M.tokenTypeIdx];if(_!==void 0&&W!==void 0){const C=(I=_[W])===null||I===void 0?void 0:I.GATE;if(C!==void 0&&C.call(this)===false){return void 0}}return W}}else{return function(){const _=this.LA(1);return g[_.tokenTypeIdx]}}}else if(i){return function(g){const _=new wp;const I=g===void 0?0:g.length;for(let W=0;W<I;W++){const C=g===null||g===void 0?void 0:g[W].GATE;_.set(W,C===void 0||C.call(this))}const M=ko.call(this,s,f,_,o);return typeof M==="number"?M:void 0}}else{return function(){const g=ko.call(this,s,f,Nm,o);return typeof g==="number"?g:void 0}}}buildLookaheadForOptional(t){const{prodOccurrence:n,rule:r,prodType:i,dynamicTokensEnabled:a}=t;const s=this.dfas;const o=this.logging;const c=oi(r,i,n);const h=this.atn.decisionMap[c];const f=h.decision;const S=Y(Im({maxLookahead:1,occurrence:n,prodType:i,rule:r}),g=>{return Y(g,_=>_[0])});if(km(S)&&S[0][0]&&!a){const g=S[0];const _=nn(g);if(_.length===1&&Ne(_[0].categoryMatches)){const I=_[0];const M=I.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===M}}else{const I=At(_,(M,W)=>{if(W!==void 0){M[W.tokenTypeIdx]=true;ae(W.categoryMatches,C=>{M[C]=true})}return M},{});return function(){const M=this.LA(1);return I[M.tokenTypeIdx]===true}}}return function(){const g=ko.call(this,s,f,Nm,o);return typeof g==="object"?false:g===0}}}function km(e,t=true){const n=new Set;for(const r of e){const i=new Set;for(const a of r){if(a===void 0){if(t){break}else{return false}}const s=[a.tokenTypeIdx].concat(a.categoryMatches);for(const o of s){if(n.has(o)){if(!i.has(o)){return false}}else{n.add(o);i.add(o)}}}}return true}function dN(e){const t=e.decisionStates.length;const n=Array(t);for(let r=0;r<t;r++){n[r]=SN(e.decisionStates[r],r)}return n}function ko(e,t,n,r){const i=e[t](n);let a=i.start;if(a===void 0){const o=NN(i.atnStartState);a=Fp(i,Gp(o));i.start=a}const s=_N.apply(this,[i,a,n,r]);return s}function _N(e,t,n,r){let i=t;let a=1;const s=[];let o=this.LA(a++);while(true){let c=PN(i,o);if(c===void 0){c=EN.apply(this,[e,i,o,a,n,r])}if(c===Fs){return RN(s,i,o)}if(c.isAcceptState===true){return c.prediction}i=c;s.push(o);o=this.LA(a++)}}function EN(e,t,n,r,i,a){const s=TN(t.configs,n,i);if(s.size===0){Dm(e,t,n,Fs);return Fs}let o=Gp(s);const c=bN(s,i);if(c!==void 0){o.isAcceptState=true;o.prediction=c;o.configs.uniqueAlt=c}else if(LN(s)){const h=CT(s.alts);o.isAcceptState=true;o.prediction=h;o.configs.uniqueAlt=h;AN.apply(this,[e,r,s.alts,a])}o=Dm(e,t,n,o);return o}function AN(e,t,n,r){const i=[];for(let h=1;h<=t;h++){i.push(this.LA(h).tokenType)}const a=e.atnStartState;const s=a.rule;const o=a.production;const c=IN({topLevelRule:s,ambiguityIndices:n,production:o,prefixPath:i});r(c)}function IN(e){const t=Y(e.prefixPath,i=>Kr(i)).join(", ");const n=e.production.idx===0?"":e.production.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${ON(e.production)}${n}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`;return r}function ON(e){if(e instanceof vt){return"SUBRULE"}else if(e instanceof _t){return"OPTION"}else if(e instanceof Ft){return"OR"}else if(e instanceof Yt){return"AT_LEAST_ONE"}else if(e instanceof Xt){return"AT_LEAST_ONE_SEP"}else if(e instanceof Gt){return"MANY_SEP"}else if(e instanceof je){return"MANY"}else if(e instanceof Me){return"CONSUME"}else{throw Error("non exhaustive match")}}function RN(e,t,n){const r=$t(t.configs.elements,a=>a.state.transitions);const i=VT(r.filter(a=>a instanceof Xl).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:n,possibleTokenTypes:i,tokenPath:e}}function PN(e,t){return e.edges[t.tokenTypeIdx]}function TN(e,t,n){const r=new Jc;const i=[];for(const s of e.elements){if(n.is(s.alt)===false){continue}if(s.state.type===Ua){i.push(s);continue}const o=s.state.transitions.length;for(let c=0;c<o;c++){const h=s.state.transitions[c];const f=yN(h,t);if(f!==void 0){r.add({state:f,alt:s.alt,stack:s.stack})}}}let a;if(i.length===0&&r.size===1){a=r}if(a===void 0){a=new Jc;for(const s of r.elements){xs(s,a)}}if(i.length>0&&!DN(a)){for(const s of i){a.add(s)}}return a}function yN(e,t){if(e instanceof Xl&&sp(t,e.tokenType)){return e.target}return void 0}function bN(e,t){let n;for(const r of e.elements){if(t.is(r.alt)===true){if(n===void 0){n=r.alt}else if(n!==r.alt){return void 0}}}return n}function Gp(e){return{configs:e,edges:{},isAcceptState:false,prediction:-1}}function Dm(e,t,n,r){r=Fp(e,r);t.edges[n.tokenTypeIdx]=r;return r}function Fp(e,t){if(t===Fs){return t}const n=t.configs.key;const r=e.states[n];if(r!==void 0){return r}t.configs.finalize();e.states[n]=t;return t}function NN(e){const t=new Jc;const n=e.transitions.length;for(let r=0;r<n;r++){const i=e.transitions[r].target;const a={state:i,alt:r,stack:[]};xs(a,t)}return t}function xs(e,t){const n=e.state;if(n.type===Ua){if(e.stack.length>0){const i=[...e.stack];const a=i.pop();const s={state:a,alt:e.alt,stack:i};xs(s,t)}else{t.add(e)}return}if(!n.epsilonOnlyTransitions){t.add(e)}const r=n.transitions.length;for(let i=0;i<r;i++){const a=n.transitions[i];const s=kN(e,a);if(s!==void 0){xs(s,t)}}}function kN(e,t){if(t instanceof vp){return{state:t.target,alt:e.alt,stack:e.stack}}else if(t instanceof Ql){const n=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:n}}return void 0}function DN(e){for(const t of e.elements){if(t.state.type===Ua){return true}}return false}function vN(e){for(const t of e.elements){if(t.state.type!==Ua){return false}}return true}function LN(e){if(vN(e)){return true}const t=CN(e.elements);const n=UN(t)&&!MN(t);return n}function CN(e){const t=new Map;for(const n of e){const r=Mp(n,false);let i=t.get(r);if(i===void 0){i={};t.set(r,i)}i[n.alt]=true}return t}function UN(e){for(const t of Array.from(e.values())){if(Object.keys(t).length>1){return true}}return false}function MN(e){for(const t of Array.from(e.values())){if(Object.keys(t).length===1){return true}}return false}const fi=p({name:"LinkageOption",pattern:ge.NA});const Ma=p({name:"NoMapOption",pattern:ge.NA});const Te=p({name:"SimpleOptions",pattern:ge.NA});const $=p({name:"DefaultAttribute",pattern:ge.NA});const uo=p({name:"DefaultAttributeBinaryOperator",pattern:ge.NA});const it=p({name:"BinaryOperator",pattern:ge.NA});const wa=p({name:"UnaryOperator",pattern:ge.NA});const ho=p({name:"ScopeAttribute",pattern:ge.NA});const hr=p({name:"AllocateAttributeType",pattern:ge.NA});const Qt=p({name:"AssignmentOperator",pattern:ge.NA});const at=p({name:"KeywordConditions",pattern:ge.NA});const Xn=p({name:"FileReferenceConditions",pattern:ge.NA});const pi=p({name:"PutAttribute",pattern:ge.NA});const Gr=p({name:"Varying",pattern:ge.NA});const Bs=p({name:"Char",pattern:ge.NA});const mr=p({name:"ReadStatementType",pattern:ge.NA});const Si=p({name:"WriteStatementType",pattern:ge.NA});const mo=p({name:"RewriteStatementType",pattern:ge.NA});const fo=p({name:"Boolean",pattern:ge.NA});const Ga=p({name:"LocateType",pattern:ge.NA});const Tt=p({name:"OpenOptionType",pattern:ge.NA});const wN=[fi,Ma,Te,$,uo,it,wa,ho,hr,Qt,at,Xn,pi,Gr,Bs,mr,Si,fo,Ga,Tt];function vm(e){return e.replace(/[.*+?^${}()|[\]\\\-]/g,"\\$&")}function xp(e){const t=vm(e.or||"|");const n=vm(e.not||"^");Bp=new RegExp(`[${t}]`,"y");qp=new RegExp(`[${t}]=`,"y");Wp=new RegExp(`[${t}]{2}`,"y");Vp=new RegExp(`[${t}]{2}=`,"y");$p=new RegExp(`[${n}]`,"y");Hp=new RegExp(`[${n}]=`,"y");jp=new RegExp(`[${n}]>`,"y");zp=new RegExp(`[${n}]<`,"y")}let Bp;let qp;let Wp;let Vp;let $p;let Hp;let jp;let zp;xp({});function fr(e){return(t,n)=>{const r=e();r.lastIndex=n;return r.exec(t)}}const GN=p({name:"WS",pattern:/\s+/,group:ge.SKIPPED});const Yp=p({name:"ExecFragment",line_breaks:true,start_chars_hint:["C","c","S","s"],pattern:(e,t)=>{const n=/(?<=EXEC\s*)[a-zA-Z]+\s[^;]*/y;n.lastIndex=t;return n.exec(e)}});const u=p({name:"ID",pattern:/[$@#_a-zA-Z][\w_$@#]*/});const ct=p({name:"NUMBER",pattern:/((((([0-9][0-9_]*(\.[0-9_]+)?)|(\.[0-9_]+))([eEsSdDqQ][-+]?[0-9]+)?))([bB]|[iI])*)/});const kr=p({name:"STRING_TERM",pattern:/("(""|\\.|[^"\\])*"|'(''|\\.|[^'\\])*')([xX][nN]|[xX][uU]|[xX]|[aA]|[eE]|[bB]4|[bB]3|[bB][xX]|[bB]|[gG][xX]|[gG]|[uU][xX]|[wW][xX]|[iI]|[mM])*/});const Xp=p({name:"ML_COMMENT",pattern:/\/\*[\s\S]*?\*\//,group:ge.SKIPPED});const Qp=p({name:"SL_COMMENT",pattern:/\/\/[^\n\r]*/,group:ge.SKIPPED});const FN=p({name:"SUBSCRIPTRANGE",pattern:/SUBSCRIPTRANGE/i,categories:[u,at],longer_alt:u});const xN=p({name:"NOCHARGRAPHIC",pattern:/NOCHARGRAPHIC/i,categories:[u,Te],longer_alt:u});const BN=p({name:"NONASSIGNABLE",pattern:/NONASSIGNABLE|NONASGN/i,categories:[u,$],longer_alt:u});const qN=p({name:"FIXEDOVERFLOW",pattern:/FIXEDOVERFLOW|FOFL/i,categories:[u,at],longer_alt:u});const WN=p({name:"UNDEFINEDFILE",pattern:/UNDEFINEDFILE|UNDF/i,categories:[u,Xn],longer_alt:u});const Jp=p({name:"VALUELISTFROM",pattern:/VALUELISTFROM/i,categories:[u],longer_alt:u});const VN=p({name:"NODESCRIPTOR",pattern:/NODESCRIPTOR/i,categories:[u,Te],longer_alt:u});const $N=p({name:"NONCONNECTED",pattern:/NONCONNECTED/i,categories:[u,$],longer_alt:u});const HN=p({name:"LITTLEENDIAN",pattern:/LITTLEENDIAN/i,categories:[u,$],longer_alt:u});const jN=p({name:"ANYCONDITION",pattern:/ANYCOND(ITION)?/i,categories:[u,at],longer_alt:u});const zN=p({name:"CHARGRAPHIC",pattern:/CHARGRAPHIC/i,categories:[u,Te],longer_alt:u});const YN=p({name:"IRREDUCIBLE",pattern:/IRRED(UCIBLE)?/i,categories:[u,Te,$],longer_alt:u});const XN=p({name:"DLLINTERNAL",pattern:/DLLINTERNAL/i,categories:[u,Te],longer_alt:u});const Zp=p({name:"UNREACHABLE",pattern:/UNREACHABLE/i,categories:[u],longer_alt:u});const Zc=p({name:"ENVIRONMENT",pattern:/ENV(IRONMENT)?/i,categories:[u],longer_alt:u});const Kp=p({name:"DESCRIPTORS",pattern:/DESCRIPTORS/i,categories:[u],longer_alt:u});const QN=p({name:"CONFORMANCE",pattern:/CONFORMANCE/i,categories:[u,at],longer_alt:u});const JN=p({name:"STRINGRANGE",pattern:/STRINGRANGE/i,categories:[u,at],longer_alt:u});const ZN=p({name:"DESCRIPTOR",pattern:/DESCRIPTOR/i,categories:[u,Te],longer_alt:u});const KN=p({name:"XMLCONTENT",pattern:/XMLCONTENT/i,categories:[u,$],longer_alt:u});const ek=p({name:"JSONIGNORE",pattern:/JSONIGNORE/i,categories:[u,$],longer_alt:u});const tk=p({name:"ASSIGNABLE",pattern:/ASSIGNABLE/i,categories:[u,$],longer_alt:u});const nk=p({name:"CONTROLLED",pattern:/CONTROLLED|CTL/i,categories:[u,$],longer_alt:u});const rk=p({name:"NONVARYING",pattern:/NONVAR(YING)?/i,categories:[u,$,Gr],longer_alt:u});const ik=p({name:"SEQUENTIAL",pattern:/SEQ(UENTIA)?L/i,categories:[u,$,Tt],longer_alt:u});const ak=p({name:"CONVERSION",pattern:/CONVERSION/i,categories:[u,at],longer_alt:u});const sk=p({name:"STRINGSIZE",pattern:/STRINGSIZE/i,categories:[u,at],longer_alt:u});const ok=p({name:"ZERODIVIDE",pattern:/ZERODIVIDE|ZDIV/i,categories:[u,at],longer_alt:u});const eS=p({name:"INITACROSS",pattern:/INITACROSS/i,categories:[u],longer_alt:u});const tS=p({name:"VALUERANGE",pattern:/VALUERANGE/i,categories:[u],longer_alt:u});const ck=p({name:"XMLIGNORE",pattern:/XMLIGNORE/i,categories:[u,$],longer_alt:u});const lk=p({name:"JSONTRIMR",pattern:/JSONTRIMR/i,categories:[u,$],longer_alt:u});const uk=p({name:"NOEXECOPS",pattern:/NOEXECOPS/i,categories:[u,Te],longer_alt:u});const hk=p({name:"REDUCIBLE",pattern:/RED(UCIBLE)?/i,categories:[u,Te],longer_alt:u});const mk=p({name:"REENTRANT",pattern:/REENTRANT/i,categories:[u,Te],longer_alt:u});const fk=p({name:"FETCHABLE",pattern:/FETCHABLE/i,categories:[u,Te],longer_alt:u});const pk=p({name:"FROMALIEN",pattern:/FROMALIEN/i,categories:[u,Te],longer_alt:u});const Sk=p({name:"ASSEMBLER",pattern:/ASSEMBLER|ASM/i,categories:[u,Te],longer_alt:u});const Kc=p({name:"RECURSIVE",pattern:/RECURSIVE/i,categories:[u,Te],longer_alt:u});const el=p({name:"PROCEDURE",pattern:/(X)?PROC(EDURE)?/i,categories:[u],longer_alt:u});const gk=p({name:"CHARACTER",pattern:/CHAR(ACTER)?/i,categories:[u,$,hr],longer_alt:u});const nS=p({name:"DIMACROSS",pattern:/DIMACROSS/i,categories:[u,$],longer_alt:u});const dk=p({name:"AUTOMATIC",pattern:/AUTO(MATIC)?/i,categories:[u,$],longer_alt:u});const _k=p({name:"BACKWARDS",pattern:/BACKWARDS/i,categories:[u,$],longer_alt:u});const rS=p({name:"CONDITION",pattern:/COND(ITION)?/i,categories:[u,$],longer_alt:u});const Ek=p({name:"CONNECTED",pattern:/CONNECTED/i,categories:[u,$],longer_alt:u});const Ak=p({name:"EXCLUSIVE",pattern:/EXCLUSIVE/i,categories:[u,$],longer_alt:u});const Ik=p({name:"NONNATIVE",pattern:/NONNATIVE/i,categories:[u,$],longer_alt:u});const Ok=p({name:"PARAMETER",pattern:/PARAMETER/i,categories:[u,$],longer_alt:u});const iS=p({name:"PRECISION",pattern:/PREC(ISION)?/i,categories:[u,$],longer_alt:u});const aS=p({name:"STRUCTURE",pattern:/STRUCT(URE)?/i,categories:[u,$],longer_alt:u});const Rk=p({name:"TRANSIENT",pattern:/TRANSIENT/i,categories:[u,$],longer_alt:u});const Pk=p({name:"UNALIGNED",pattern:/UNAL(IGNED)?/i,categories:[u,$],longer_alt:u});const Tk=p({name:"BIGENDIAN",pattern:/BIGENDIAN/i,categories:[u,$],longer_alt:u});const yk=p({name:"ASSERTION",pattern:/ASSERTION/i,categories:[u,at],longer_alt:u});const bk=p({name:"ATTENTION",pattern:/ATTENTION/i,categories:[u,at],longer_alt:u});const Nk=p({name:"INVALIDOP",pattern:/INVALIDOP/i,categories:[u,at],longer_alt:u});const kk=p({name:"UNDERFLOW",pattern:/UNDERFLOW|UFL/i,categories:[u,at],longer_alt:u});const tl=p({name:"OTHERWISE",pattern:/OTHER(WISE)?/i,categories:[u],longer_alt:u});const sS=p({name:"DIMENSION",pattern:/DIM(ENSION)?/i,categories:[u],longer_alt:u});const oS=p({name:"VALUELIST",pattern:/VALUELIST/i,categories:[u],longer_alt:u});const cS=p({name:"RESERVES",pattern:/RESERVES/i,categories:[u],longer_alt:u});const Dk=p({name:"JSONNAME",pattern:/JSONNAME/i,categories:[u,$],longer_alt:u});const vk=p({name:"JSONNULL",pattern:/JSONNULL/i,categories:[u,$],longer_alt:u});const Lk=p({name:"JSONOMIT",pattern:/JSONOMIT/i,categories:[u,$],longer_alt:u});const Ck=p({name:"NOMAPOUT",pattern:/NOMAPOUT/i,categories:[u,Ma],longer_alt:u});const Uk=p({name:"NOINLINE",pattern:/NOINLINE/i,categories:[u,Te],longer_alt:u});const Mk=p({name:"NORETURN",pattern:/NORETURN/i,categories:[u,Te],longer_alt:u});const nl=p({name:"EXTERNAL",pattern:/EXT(ERNAL)?/i,categories:[u,$],longer_alt:u});const rl=p({name:"VARIABLE",pattern:/VARIABLE/i,categories:[u,$],longer_alt:u});const lS=p({name:"ALLOCATE",pattern:/ALLOC(ATE)?/i,categories:[u],longer_alt:u});const wk=p({name:"WIDECHAR",pattern:/W(IDE)?CHAR/i,categories:[u,$,hr],longer_alt:u});const Gk=p({name:"ABNORMAL",pattern:/ABNORMAL/i,categories:[u,$],longer_alt:u});const Fk=p({name:"BUFFERED",pattern:/(UN)?BUF(FERED)?/i,categories:[u,$,Tt],longer_alt:u});const xk=p({name:"CONSTANT",pattern:/CONSTANT/i,categories:[u,$],longer_alt:u});const Bk=p({name:"INTERNAL",pattern:/INTERNAL/i,categories:[u,$],longer_alt:u});const qk=p({name:"OPTIONAL",pattern:/OPTIONAL/i,categories:[u,$],longer_alt:u});const uS=p({name:"POSITION",pattern:/POS(ITION)?/i,categories:[u,$],longer_alt:u});const Wk=p({name:"RESERVED",pattern:/RESERVED/i,categories:[u,$],longer_alt:u});const hS=p({name:"UNSIGNED",pattern:/UNSIGNED/i,categories:[u,$],longer_alt:u});const Vk=p({name:"VARYING4",pattern:/VARYING4/i,categories:[u,$,Gr],longer_alt:u});const $k=p({name:"VARYINGZ",pattern:/VAR(YING)?Z/i,categories:[u,$,Gr],longer_alt:u});const mS=p({name:"DOWNTHRU",pattern:/DOWNTHRU/i,categories:[u],longer_alt:u});const Hk=p({name:"%INCLUDE",pattern:/%(X)?INCLUDE/i,categories:[u]});const fS=p({name:"%NOPRINT",pattern:/%NOPRINT/i,categories:[u]});const jk=p({name:"OVERFLOW",pattern:/OVERFLOW|OFL/i,categories:[u,at],longer_alt:u});const zk=p({name:"TRANSMIT",pattern:/TRANSMIT/i,categories:[u,Xn],longer_alt:u});const Yk=p({name:"LINESIZE",pattern:/LINESIZE/i,categories:[u,Tt],longer_alt:u});const Xk=p({name:"PAGESIZE",pattern:/PAGESIZE/i,categories:[u,Tt],longer_alt:u});p({name:"NULLINIT",pattern:/NULLINIT/i,categories:[u,$],longer_alt:u});const Kl=p({name:"PROCESS",pattern:/[*%]PROCESS/i,categories:[u]});const pS=p({name:"PROCINC",pattern:/[*%]PROCINC/i,categories:[u]});const Qk=p({name:"XMLNAME",pattern:/XMLNAME/i,categories:[u,$],longer_alt:u});const Jk=p({name:"XMLATTR",pattern:/XMLATTR/i,categories:[u,$],longer_alt:u});const Zk=p({name:"XMLOMIT",pattern:/XMLOMIT/i,categories:[u,$],longer_alt:u});const SS=p({name:"RESIGNAL",pattern:/RESIGNAL/i,categories:[u],longer_alt:u});const gS=p({name:"PACKAGE",pattern:/PACKAGE/i,categories:[u],longer_alt:u});const dS=p({name:"EXPORTS",pattern:/EXPORTS/i,categories:[u],longer_alt:u});const _S=p({name:"OPTIONS",pattern:/OPTIONS/i,categories:[u,$],longer_alt:u});const ES=p({name:"LINKAGE",pattern:/LINKAGE/i,categories:[u],longer_alt:u});const Kk=p({name:"OPTLINK",pattern:/OPTLINK/i,categories:[u,fi],longer_alt:u});const eD=p({name:"STDCALL",pattern:/STDCALL/i,categories:[u,fi],longer_alt:u});const tD=p({name:"NOMAPIN",pattern:/NOMAPIN/i,categories:[u,Ma],longer_alt:u});const nD=p({name:"FORTRAN",pattern:/FORTRAN/i,categories:[u,Te],longer_alt:u});const AS=p({name:"BYVALUE",pattern:/BYVALUE/i,categories:[u,Te,$],longer_alt:u});const rD=p({name:"AMODE31",pattern:/AMODE31/i,categories:[u,Te],longer_alt:u});const iD=p({name:"AMODE64",pattern:/AMODE64/i,categories:[u,Te],longer_alt:u});const aD=p({name:"RETCODE",pattern:/RETCODE/i,categories:[u,Te],longer_alt:u});const sD=p({name:"WINMAIN",pattern:/WINMAIN/i,categories:[u,Te],longer_alt:u});const oD=p({name:"DYNAMIC",pattern:/DYNAMIC/i,categories:[u,ho],longer_alt:u});const ms=p({name:"LIMITED",pattern:/LIMITED/i,categories:[u],longer_alt:u});const cD=p({name:"GRAPHIC",pattern:/GRAPHIC/i,categories:[u,$,hr],longer_alt:u});const IS=p({name:"COMPARE",pattern:/COMPARE/i,categories:[u],longer_alt:u});const OS=p({name:"DEFAULT",pattern:/DEFAULT|DFT/i,categories:[u],longer_alt:u});const lD=p({name:"ALIGNED",pattern:/ALIGNED/i,categories:[u,$],longer_alt:u});const uD=p({name:"BUILTIN",pattern:/BUILTIN/i,categories:[u,$],longer_alt:u});const hD=p({name:"COMPLEX",pattern:/COMPLEX/i,categories:[u,$],longer_alt:u});const mD=p({name:"DECIMAL",pattern:/DEC(IMAL)?/i,categories:[u,$],longer_alt:u});const RS=p({name:"GENERIC",pattern:/GENERIC/i,categories:[u],longer_alt:u});const fD=p({name:"HEXADEC",pattern:/HEXADEC/i,categories:[u,$],longer_alt:u});const pD=p({name:"OUTONLY",pattern:/OUTONLY/i,categories:[u,$],longer_alt:u});const SD=p({name:"POINTER",pattern:/POINTER|PTR/i,categories:[u,$],longer_alt:u});const gD=p({name:"VARYING",pattern:/VAR(YING)?/i,categories:[u,$,Gr],longer_alt:u});const il=p({name:"ORDINAL",pattern:/ORDINAL/i,categories:[u],longer_alt:u});const PS=p({name:"DISPLAY",pattern:/DISPLAY/i,categories:[u],longer_alt:u});const TS=p({name:"ROUTCDE",pattern:/ROUTCDE/i,categories:[u],longer_alt:u});const yS=p({name:"ITERATE",pattern:/ITERATE/i,categories:[u],longer_alt:u});const dD=p({name:"KEYFROM",pattern:/KEYFROM/i,categories:[u,Si,Ga],longer_alt:u});const _D=p({name:"STORAGE",pattern:/STORAGE/i,categories:[u,at],longer_alt:u});const ED=p({name:"ENDFILE",pattern:/ENDFILE/i,categories:[u,Xn],longer_alt:u});const AD=p({name:"ENDPAGE",pattern:/ENDPAGE/i,categories:[u,Xn],longer_alt:u});const bS=p({name:"QUALIFY",pattern:/QUALIFY/i,categories:[u],longer_alt:u});const NS=p({name:"RELEASE",pattern:/RELEASE/i,categories:[u],longer_alt:u});const kS=p({name:"REWRITE",pattern:/REWRITE/i,categories:[u],longer_alt:u});const DS=p({name:"INITIAL",pattern:/INIT(IAL)?/i,categories:[u],longer_alt:u});const vS=p({name:"DECLARE",pattern:/DECLARE|DCL|XDECLARE|XDCL/i,categories:[u],longer_alt:u});const LS=p({name:"PICTURE",pattern:/PIC(TURE)?/i,categories:[u],longer_alt:u});const CS=p({name:"WIDEPIC",pattern:/WIDEPIC/i,categories:[u],longer_alt:u});const al=p({name:"RETURNS",pattern:/RETURNS/i,categories:[u],longer_alt:u});const US=p({name:"SYSTEM",pattern:/SYSTEM/i,categories:[u,fi],longer_alt:u});const ID=p({name:"INLINE",pattern:/INLINE/i,categories:[u,Te],longer_alt:u});const OD=p({name:"BYADDR",pattern:/BYADDR/i,categories:[u,Te,$],longer_alt:u});const RD=p({name:"STATIC",pattern:/STATIC/i,categories:[u,$,ho],longer_alt:u});const MS=p({name:"ASSERT",pattern:/ASSERT/i,categories:[u],longer_alt:u});const wS=p({name:"ATTACH",pattern:/ATTACH/i,categories:[u],longer_alt:u});const Ji=p({name:"THREAD",pattern:/THREAD/i,categories:[u],longer_alt:u});const GS=p({name:"TSTACK",pattern:/TSTACK/i,categories:[u],longer_alt:u});const FS=p({name:"CANCEL",pattern:/CANCEL/i,categories:[u],longer_alt:u});const PD=p({name:"BINARY",pattern:/BIN(ARY)?/i,categories:[u,$],longer_alt:u});const xS=p({name:"FORMAT",pattern:/FORMAT/i,categories:[u,$],longer_alt:u});p({name:"NOINIT",pattern:/NOINIT/i,categories:[u,$],longer_alt:u});const TD=p({name:"INONLY",pattern:/INONLY/i,categories:[u,$],longer_alt:u});const BS=p({name:"INDFOR",pattern:/INDFOR/i,categories:[u],longer_alt:u});const yD=p({name:"MEMBER",pattern:/MEMBER/i,categories:[u,$],longer_alt:u});const bD=p({name:"NATIVE",pattern:/NATIVE/i,categories:[u,$],longer_alt:u});const ND=p({name:"NORMAL",pattern:/NORMAL/i,categories:[u,$],longer_alt:u});const kD=p({name:"OFFSET",pattern:/OFFSET/i,categories:[u,$],longer_alt:u});const DD=p({name:"OUTPUT",pattern:/OUTPUT/i,categories:[u,$,Tt],longer_alt:u});const vD=p({name:"RECORD",pattern:/RECORD/i,categories:[u,$,Xn,Tt],longer_alt:u});const qS=p({name:"SIGNED",pattern:/SIGNED/i,categories:[u,$],longer_alt:u});const LD=p({name:"STREAM",pattern:/STREAM/i,categories:[u,$,Tt],longer_alt:u});const CD=p({name:"UPDATE",pattern:/UPDATE/i,categories:[u,$,Tt],longer_alt:u});const ra=p({name:"DEFINE",pattern:/(X)?DEFINE/i,categories:[u],longer_alt:u});const WS=p({name:"DEFINED",pattern:/DEF(INED)?/i,categories:[u],longer_alt:[u,ra]});const VS=p({name:"DELETE",pattern:/DELETE/i,categories:[u],longer_alt:u});const $S=p({name:"DETACH",pattern:/DETACH/i,categories:[u],longer_alt:u});const HS=p({name:"UPTHRU",pattern:/UPTHRU/i,categories:[u],longer_alt:u});const jS=p({name:"REPEAT",pattern:/REPEAT/i,categories:[u],longer_alt:u});const zS=p({name:"COLUMN",pattern:/COL(UMN)?/i,categories:[u],longer_alt:u});const sl=p({name:"STRING",pattern:/STRING/i,categories:[u],longer_alt:u});const UD=p({name:"ddname",pattern:/ddname/i,categories:[u],longer_alt:u});const YS=p({name:"LOCATE",pattern:/LOCATE/i,categories:[u],longer_alt:u});const MD=p({name:"FINISH",pattern:/FINISH/i,categories:[u,at],longer_alt:u});const wD=p({name:"DIRECT",pattern:/DIRECT/i,categories:[u,Tt],longer_alt:u});const XS=p({name:"%PRINT",pattern:/%PRINT/i,categories:[u]});const GD=p({name:"IGNORE",pattern:/IGNORE/i,categories:[u,mr],longer_alt:u});const QS=p({name:"REINIT",pattern:/REINIT/i,categories:[u],longer_alt:u});const JS=p({name:"RETURN",pattern:/RETURN/i,categories:[u],longer_alt:u});const ZS=p({name:"SELECT",pattern:/SELECT/i,categories:[u],longer_alt:u});const KS=p({name:"SIGNAL",pattern:/SIGNAL/i,categories:[u],longer_alt:u});const eg=p({name:"HANDLE",pattern:/HANDLE/i,categories:[u],longer_alt:u});const FD=p({name:"CDECL",pattern:/CDECL/i,categories:[u,fi],longer_alt:u});const tg=p({name:"CMPAT",pattern:/CMPAT/i,categories:[u],longer_alt:u});const xD=p({name:"NOMAP",pattern:/NOMAP/i,categories:[u,Ma],longer_alt:u});const ol=p({name:"ORDER",pattern:/(RE)?ORDER/i,categories:[u,Te],longer_alt:u});const BD=p({name:"COBOL",pattern:/COBOL/i,categories:[u,Te],longer_alt:u});const qD=p({name:"INTER",pattern:/INTER/i,categories:[u,Te],longer_alt:u});const cl=p({name:"ENTRY",pattern:/ENTRY/i,categories:[u],longer_alt:u});const WD=p({name:"UCHAR",pattern:/UCHAR/i,categories:[u,$,hr,Bs],longer_alt:u});const VD=p({name:"FALSE",pattern:/FALSE/i,categories:[u,fo],longer_alt:u});const ng=p({name:"BEGIN",pattern:/BEGIN/i,categories:[u],longer_alt:u});const rg=p({name:"CLOSE",pattern:/CLOSE/i,categories:[u],longer_alt:u});const ig=p({name:"RANGE",pattern:/RANGE/i,categories:[u,$],longer_alt:u});const $D=p({name:"BASED",pattern:/BASED/i,categories:[u,$],longer_alt:u});const HD=p({name:"EVENT",pattern:/EVENT/i,categories:[u,$],longer_alt:u});const jD=p({name:"FIXED",pattern:/FIXED/i,categories:[u,$],longer_alt:u});const zD=p({name:"FLOAT",pattern:/FLOAT/i,categories:[u,$],longer_alt:u});const YD=p({name:"INOUT",pattern:/INOUT/i,categories:[u,$],longer_alt:u});const XD=p({name:"INPUT",pattern:/INPUT/i,categories:[u,$,Tt],longer_alt:u});const QD=p({name:"KEYED",pattern:/KEYED/i,categories:[u,$,Tt],longer_alt:u});const JD=p({name:"LABEL",pattern:/LABEL/i,categories:[u,$],longer_alt:u});const ZD=p({name:"PRINT",pattern:/PRINT/i,categories:[u,$,Tt],longer_alt:u});const ag=p({name:"UNION",pattern:/UNION/i,categories:[u,$],longer_alt:u});const sg=p({name:"ALIAS",pattern:/ALIAS/i,categories:[u],longer_alt:u});const fs=p({name:"VALUE",pattern:/VALUE/i,categories:[u],longer_alt:u});const og=p({name:"DELAY",pattern:/DELAY/i,categories:[u],longer_alt:u});const cg=p({name:"REPLY",pattern:/REPLY/i,categories:[u],longer_alt:u});const ll=p({name:"WHILE",pattern:/WHILE/i,categories:[u],longer_alt:u});const ul=p({name:"UNTIL",pattern:/UNTIL/i,categories:[u],longer_alt:u});const lg=p({name:"FETCH",pattern:/FETCH/i,categories:[u],longer_alt:u});const ug=p({name:"TITLE",pattern:/TITLE/i,categories:[u,Tt],longer_alt:u});const hg=p({name:"FLUSH",pattern:/FLUSH/i,categories:[u],longer_alt:u});const mg=p({name:"LEAVE",pattern:/LEAVE/i,categories:[u],longer_alt:u});const fg=p({name:"%LINE",pattern:/%LINE/i,categories:[u]});const pg=p({name:"%NOTE",pattern:/%NOTE/i,categories:[u]});const KD=p({name:"ERROR",pattern:/ERROR/i,categories:[u,at],longer_alt:u});const Sg=p({name:"%PAGE",pattern:/%PAGE/i,categories:[u]});const gg=p({name:"%PUSH",pattern:/%PUSH/i,categories:[u]});const ev=p({name:"KEYTO",pattern:/KEYTO/i,categories:[u,mr,Si],longer_alt:u});const dg=p({name:"REVERT",pattern:/REVERT/i,categories:[u],longer_alt:u});const _g=p({name:"PercentSKIP",pattern:/%SKIP/i,categories:[u]});const Eg=p({name:"WRITE",pattern:/WRITE/i,categories:[u],longer_alt:u});const Ag=p({name:"REFER",pattern:/REFER/i,categories:[u],longer_alt:u});const tv=p({name:"MAIN",pattern:/MAIN/i,categories:[u,Te],longer_alt:u});const nv=p({name:"RENT",pattern:/RENT/i,categories:[u,Te],longer_alt:u});const rv=p({name:"AREA",pattern:/AREA/i,categories:[u,$,hr,at],longer_alt:u});const iv=p({name:"TRUE",pattern:/TRUE/i,categories:[u,fo],longer_alt:u});const Ig=p({name:"TEXT",pattern:/TEXT/i,categories:[u],longer_alt:u});const Og=p({name:"NAME",pattern:/NAME/i,categories:[u,Xn],longer_alt:u});const hl=p({name:"CALL",pattern:/CALL/i,categories:[u],longer_alt:u});const Yr=p({name:"FILE",pattern:/FILE/i,categories:[u,$,pi,mr,Si,mo,Ga,Tt],longer_alt:u});const av=p({name:"IEEE",pattern:/IEEE/i,categories:[u,$],longer_alt:u});const Rg=p({name:"LIST",pattern:/LIST/i,categories:[u,$],longer_alt:u});const sv=p({name:"REAL",pattern:/REAL/i,categories:[u,$],longer_alt:u});const ov=p({name:"TASK",pattern:/TASK/i,categories:[u,$],longer_alt:u});const Pg=p({name:"DESC",pattern:/DESC/i,categories:[u],longer_alt:u});const Tg=p({name:"EXEC",pattern:/EXEC/i,categories:[u],longer_alt:u});const yg=p({name:"EXIT",pattern:/EXIT/i,categories:[u],longer_alt:u});const bg=p({name:"LINE",pattern:/LINE/i,categories:[u,pi],longer_alt:u});const Ng=p({name:"PAGE",pattern:/PAGE/i,categories:[u,pi],longer_alt:u});const ml=p({name:"SKIP",pattern:/SKIP/i,categories:[u,pi],longer_alt:u});const kg=p({name:"FREE",pattern:/FREE/i,categories:[u],longer_alt:u});const Dg=p({name:"COPY",pattern:/COPY/i,categories:[u],longer_alt:u});const vg=p({name:"GOTO",pattern:/GOTO/i,categories:[u],longer_alt:u});const Lg=p({name:"THEN",pattern:/THEN/i,categories:[u],longer_alt:u});const Cg=p({name:"ELSE",pattern:/ELSE/i,categories:[u],longer_alt:u});const Ug=p({name:"SNAP",pattern:/SNAP/i,categories:[u],longer_alt:u});const cv=p({name:"SIZE",pattern:/SIZE/i,categories:[u,at],longer_alt:u});const Mg=p({name:"OPEN",pattern:/OPEN/i,categories:[u],longer_alt:u});const wg=p({name:"%POP",pattern:/%POP/i,categories:[u]});const Gg=p({name:"TODO",pattern:/TODO/i,categories:[u],longer_alt:u});const Fg=p({name:"DATA",pattern:/DATA/i,categories:[u],longer_alt:u});const xg=p({name:"EDIT",pattern:/EDIT/i,categories:[u],longer_alt:u});const Bg=p({name:"READ",pattern:/READ/i,categories:[u],longer_alt:u});const lv=p({name:"INTO",pattern:/INTO/i,categories:[u,mr],longer_alt:u});const uv=p({name:"FROM",pattern:/FROM/i,categories:[u,Si,mo],longer_alt:u});const qg=p({name:"LOOP",pattern:/LOOP|FOREVER/i,categories:[u],longer_alt:u});const fl=p({name:"WHEN",pattern:/WHEN/i,categories:[u],longer_alt:u});const Wg=p({name:"STOP",pattern:/STOP/i,categories:[u],longer_alt:u});const Vg=p({name:"WAIT",pattern:/WAIT/i,categories:[u],longer_alt:u});const $g=p({name:"DATE",pattern:/DATE/i,categories:[u],longer_alt:u});const Hg=p({name:"TYPE",pattern:/TYPE/i,categories:[u],longer_alt:u});const jg=p({name:"LIKE",pattern:/LIKE/i,categories:[u],longer_alt:u});const pl=p({name:"SET",pattern:/SET/i,categories:[u,mr,Ga],longer_alt:u});const hv=p({name:"BIT",pattern:/BIT/i,categories:[u,$,hr],longer_alt:u});const mv=p({name:"||=",pattern:fr(()=>Vp),categories:[Qt],line_breaks:false});const fv=p({name:"**=",pattern:"**=",categories:[Qt]});const zg=p({name:"END",pattern:/END/i,categories:[u],longer_alt:u});const pv=p({name:"AND",pattern:/AND/i,categories:[u,uo],longer_alt:u});const Yg=p({name:"NOT",pattern:/NOT/i,categories:[u],longer_alt:u});const Sv=p({name:"HEX",pattern:/HEX/i,categories:[u,$],longer_alt:u});const gv=p({name:"INT",pattern:/INT/i,categories:[u,$],longer_alt:u});const Xg=p({name:"KEY",pattern:/KEY/i,categories:[u,Xn,mr,mo],longer_alt:u});const Qg=p({name:"GET",pattern:/GET/i,categories:[u],longer_alt:u});const Jg=p({name:"PUT",pattern:/PUT/i,categories:[u],longer_alt:u});const Zg=p({name:"VX",pattern:/V(1|2|3)/i,categories:[u],longer_alt:u});const Kg=p({name:"IN",pattern:/IN/i,categories:[u],longer_alt:u});const ps=p({name:"BY",pattern:/BY/i,categories:[u],longer_alt:u});const dv=p({name:"+=",pattern:"+=",categories:[Qt]});const _v=p({name:"-=",pattern:"-=",categories:[Qt]});const Ev=p({name:"*=",pattern:"*=",categories:[Qt]});const Av=p({name:"/=",pattern:"/=",categories:[Qt]});const Iv=p({name:"|=",pattern:fr(()=>qp),categories:[Qt],line_breaks:false});const Ov=p({name:"&=",pattern:"&=",categories:[Qt]});const ed=p({name:"^=",pattern:fr(()=>Hp),categories:[Qt,it],line_breaks:false});const td=p({name:"<>",pattern:"<>",categories:[Qt,it]});const Rv=p({name:"OR",pattern:/OR/i,categories:[u,uo],longer_alt:u});const Sl=p({name:"DO",pattern:/DO/i,categories:[u],longer_alt:u});const Zi=p({name:"TO",pattern:/TO/i,categories:[u],longer_alt:u});const nd=p({name:"GO",pattern:/GO/i,categories:[u],longer_alt:u});const rd=p({name:"IF",pattern:/IF/i,categories:[u],longer_alt:u});const id=p({name:"ON",pattern:/ON/i,categories:[u],longer_alt:u});const ad=p({name:"^<",pattern:fr(()=>zp),categories:[it],line_breaks:false});const sd=p({name:"<=",pattern:"<=",categories:[it]});const od=p({name:">=",pattern:">=",categories:[it]});const cd=p({name:"^>",pattern:fr(()=>jp),categories:[it],line_breaks:false});const ld=p({name:"||",pattern:fr(()=>Wp),categories:[it],line_breaks:false});const ud=p({name:"**",pattern:"**",categories:[it]});const hd=p({name:"->",pattern:"->"});const md=p({name:"=>",pattern:"=>"});const K=p({name:";",pattern:";"});const B=p({name:"(",pattern:"("});const q=p({name:")",pattern:")"});const Ki=p({name:":",pattern:":"});const ie=p({name:",",pattern:","});const St=p({name:"*",pattern:"*",categories:[it]});const ia=p({name:"=",pattern:"=",categories:[it,Qt]});const fd=p({name:"A",pattern:/A/i,categories:[u],longer_alt:u});const pd=p({name:"B",pattern:/B/i,categories:[u],longer_alt:u});const Sd=p({name:"C",pattern:/C/i,categories:[u],longer_alt:u});const gd=p({name:"F",pattern:/F/i,categories:[u],longer_alt:u});const dd=p({name:"E",pattern:/E/i,categories:[u],longer_alt:u});const _d=p({name:"G",pattern:/G/i,categories:[u],longer_alt:u});const Ed=p({name:"P",pattern:/P/i,categories:[u],longer_alt:u});const Ad=p({name:"L",pattern:/L/i,categories:[u],longer_alt:u});const Id=p({name:"R",pattern:/R/i,categories:[u],longer_alt:u});const Od=p({name:"V",pattern:/V/i,categories:[u],longer_alt:u});const Rd=p({name:"X",pattern:/X/i,categories:[u],longer_alt:u});const Pd=p({name:"|",pattern:fr(()=>Bp),categories:[it],line_breaks:false});const Td=p({name:"^",pattern:fr(()=>$p),categories:[it,wa],line_breaks:false});const yd=p({name:"&",pattern:"&",categories:[it]});const bd=p({name:"<",pattern:"<",categories:[it]});const Nd=p({name:">",pattern:">",categories:[it]});const kd=p({name:"+",pattern:"+",categories:[it,wa]});const Dd=p({name:"-",pattern:"-",categories:[it,wa]});const vd=p({name:"/",pattern:"/",categories:[it],longer_alt:[Xp,Qp]});const gl=p({name:".",pattern:"."});const Pv=[FN,xN,BN,qN,WN,Jp,VN,$N,HN,jN,zN,YN,XN,Zp,Zc,Kp,QN,JN,ZN,KN,ek,tk,nk,rk,ik,ak,sk,ok,eS,tS,uk,ck,lk,hk,mk,fk,pk,Sk,Kc,el,gk,nS,dk,_k,rS,Ek,Ak,Ik,Ok,iS,aS,Rk,Pk,Tk,yk,bk,Nk,kk,tl,sS,oS,cS,Dk,Lk,vk,Ck,Uk,Mk,nl,rl,lS,wk,Gk,Fk,xk,Bk,qk,uS,Wk,hS,Vk,$k,mS,SS,Hk,fS,jk,zk,Yk,Xk,Kl,pS,Qk,Jk,Zk,gS,dS,_S,ES,Kk,eD,tD,nD,AS,rD,iD,aD,sD,oD,ms,cD,IS,OS,lD,uD,hD,RS,fD,pD,SD,gD,il,PS,TS,yS,dD,_D,ED,AD,bS,NS,kS,DS,vS,mD,LS,CS,al,US,ID,OD,RD,MS,wS,Ji,GS,FS,PD,xS,TD,BS,yD,bD,ND,kD,DD,vD,qS,LD,CD,ra,WS,VS,$S,HS,jS,zS,sl,UD,YS,MD,wD,XS,GD,QS,JS,ZS,KS,eg,FD,tg,xD,ol,BD,qD,cl,WD,VD,ng,rg,ig,$D,HD,jD,zD,YD,XD,QD,JD,ZD,ag,sg,fs,og,cg,ll,ul,lg,ug,hg,mg,fg,pg,KD,Sg,gg,ev,dg,_g,Eg,Ag,tv,nv,rv,iv,Ig,Og,hl,Yr,av,Rg,sv,ov,Pg,Tg,yg,bg,Ng,ml,kg,Dg,vg,Lg,Cg,Ug,cv,Mg,wg,Gg,Fg,xg,Bg,lv,uv,qg,fl,Wg,Vg,$g,Hg,jg,pl,hv,mv,fv,zg,pv,Yg,Sv,gv,Xg,Qg,Jg,Zg,Kg,ps,dv,_v,Ev,Av,Iv,Ov,ed,td,Rv,Sl,Zi,nd,rd,id,ad,sd,od,cd,ld,ud,hd,md,K,B,q,Ki,ie,St,ia,fd,pd,Sd,gd,dd,_d,Ed,Ad,Id,Od,Rd,Pd,Td,yd,bd,Nd,kd,Dd,vd,gl];const eu=[GN,Yp,...wN,...Pv,u,ct,kr,Xp,Qp];new ge(eu);class Tv extends bp{constructor(t,n){super(t,{...n,recoveryEnabled:true,lookaheadStrategy:new gN})}tokenPayload(t,n,r){if(isNaN(t.startOffset)){return}if(t.payload===void 0){t.payload={kind:r,element:n}}else{t.payload.kind=r;t.payload.element=n}}stack=[];push(t){return this.ACTION(()=>{this.stack.push(t);return t})}peek(){return this.stack[this.stack.length-1]}replace(t){return this.ACTION(()=>{this.stack[this.stack.length-1]=t;return t})}pop(){return this.ACTION(()=>{let t=this.stack.pop();if(t&&"infix"in t){t=qs(t)}return t})}OR_RULE(t,n){let r;return this.RULE(t,()=>{this.push({});this.OR(r??(r=n().map((i,a)=>({ALT:()=>{this.subrule_assign(a,i,{assign:s=>this.replace(s)})}}))));return this.pop()})}consume_assign(t,n,r){const i=this.consume(t,n);this.ACTION(()=>r(i))}CONSUME_ASSIGN(t,n){this.consume_assign(0,t,n)}CONSUME_ASSIGN1(t,n){this.consume_assign(1,t,n)}CONSUME_ASSIGN2(t,n){this.consume_assign(2,t,n)}CONSUME_ASSIGN3(t,n){this.consume_assign(3,t,n)}CONSUME_ASSIGN4(t,n){this.consume_assign(4,t,n)}subrule_assign(t,n,r){let i;try{i=this.subrule(t,n,r)}finally{this.ACTION(()=>{if(i===void 0){i=this.pop()}if(i!==void 0){r.assign(i)}})}}SUBRULE_ASSIGN(t,n){this.subrule_assign(0,t,n)}SUBRULE_ASSIGN1(t,n){this.subrule_assign(1,t,n)}SUBRULE_ASSIGN2(t,n){this.subrule_assign(2,t,n)}SUBRULE_ASSIGN3(t,n){this.subrule_assign(3,t,n)}SUBRULE_ASSIGN4(t,n){this.subrule_assign(4,t,n)}SUBRULE_ASSIGN5(t,n){this.subrule_assign(5,t,n)}SUBRULE_ASSIGN6(t,n){this.subrule_assign(6,t,n)}SUBRULE_ASSIGN7(t,n){this.subrule_assign(7,t,n)}SUBRULE_ASSIGN8(t,n){this.subrule_assign(8,t,n)}SUBRULE_ASSIGN9(t,n){this.subrule_assign(9,t,n)}}function yv(e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n];for(const i of r){t.set(i.name,n)}}return t}const bv=yv([[ud],[St,vd],[kd,Dd],[ld],[bd,ad,sd,ia,ed,td,od,Nd,cd],[yd],[Pd,Td]]);function qs(e){if(e.items.length===1){return e.items[0]}let t=0;let n=-1;for(let S=0;S<e.operators.length;S++){const g=e.operators[S];const _=bv.get(g)??Infinity;if(_>n){n=_;t=S}}const r=e.operators.slice(0,t);const i=e.operators.slice(t+1);const a=e.items.slice(0,t+1);const s=e.items.slice(t+1);const o={items:a,operators:r};const c={items:s,operators:i};const h=qs(o);const f=qs(c);return{kind:m.BinaryExpression,container:null,left:h,op:e.operators[t],right:f}}class Nv extends Tv{constructor(){super(eu);this.performSelfAnalysis()}parse(){const t=this.PliProgram();if(t===void 0){return this.pop()}return t}createPliProgram(){return{kind:m.PliProgram,container:null,statements:[]}}PliProgram=this.RULE("PliProgram",()=>{let t=this.push(this.createPliProgram());this.MANY(()=>{this.SUBRULE_ASSIGN(this.Statement,{assign:n=>{t.statements.push(n)}})});return this.pop()});createPackage(){return{kind:m.Package,container:null,exports:null,reserves:null,options:null,statements:[],end:null}}Package=this.RULE("Package",()=>{let t=this.push(this.createPackage());this.CONSUME_ASSIGN1(gS,n=>{this.tokenPayload(n,t,l.Package_PACKAGE)});this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.Exports,{assign:n=>{t.exports=n}})});this.OPTION2(()=>{this.SUBRULE_ASSIGN1(this.Reserves,{assign:n=>{t.reserves=n}})});this.OPTION3(()=>{this.SUBRULE_ASSIGN1(this.Options,{assign:n=>{t.options=n}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.Package_Semicolon0)});this.MANY1(()=>{this.SUBRULE_ASSIGN1(this.Statement,{assign:n=>{t.statements.push(n)}})});this.SUBRULE_ASSIGN1(this.EndStatement,{assign:n=>{t.end=n}});this.CONSUME_ASSIGN2(K,n=>{this.tokenPayload(n,t,l.Package_Semicolon1)});return this.pop()});createConditionPrefix(){return{kind:m.ConditionPrefix,container:null,items:[]}}ConditionPrefix=this.RULE("ConditionPrefix",()=>{let t=this.push(this.createConditionPrefix());this.AT_LEAST_ONE1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.ConditionPrefix_OpenParen)});this.SUBRULE_ASSIGN1(this.ConditionPrefixItem,{assign:n=>{t.items.push(n)}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.ConditionPrefix_CloseParen)});this.CONSUME_ASSIGN1(Ki,n=>{this.tokenPayload(n,t,l.ConditionPrefix_Colon)})});return this.pop()});createConditionPrefixItem(){return{kind:m.ConditionPrefixItem,container:null,conditions:[]}}ConditionPrefixItem=this.RULE("ConditionPrefixItem",()=>{let t=this.push(this.createConditionPrefixItem());this.SUBRULE_ASSIGN1(this.Condition,{assign:n=>{t.conditions.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.ConditionPrefixItem_Comma)});this.SUBRULE_ASSIGN2(this.Condition,{assign:n=>{t.conditions.push(n)}})});return this.pop()});createExports(){return{kind:m.Exports,container:null,all:false,procedures:[]}}Exports=this.RULE("Exports",()=>{let t=this.push(this.createExports());this.CONSUME_ASSIGN1(dS,n=>{this.tokenPayload(n,t,l.Exports_EXPORTS)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.Exports_OpenParen)});this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(St,n=>{this.tokenPayload(n,t,l.Exports_AllStar);t.all=true})}},{ALT:()=>{this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.Exports_Procedures0);t.procedures.push(n.image)});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.Exports_Comma)});this.CONSUME_ASSIGN2(u,n=>{this.tokenPayload(n,t,l.Exports_Procedures1);t.procedures.push(n.image)})})}}]);this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.Exports_CloseParen)});return this.pop()});createReserves(){return{kind:m.Reserves,container:null,all:false,variables:[]}}Reserves=this.RULE("Reserves",()=>{let t=this.push(this.createReserves());this.CONSUME_ASSIGN1(cS,n=>{this.tokenPayload(n,t,l.Reserves_RESERVES)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.Reserves_OpenParen)});this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(St,n=>{this.tokenPayload(n,t,l.Reserves_AllStar);t.all=true})}},{ALT:()=>{this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.Reserves_Variables0);t.variables.push(n.image)});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.Reserves_Comma)});this.CONSUME_ASSIGN2(u,n=>{this.tokenPayload(n,t,l.Reserves_Variables1);t.variables.push(n.image)})})}}]);this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.Reserves_CloseParen)});return this.pop()});createOptions(){return{kind:m.Options,container:null,items:[]}}Options=this.RULE("Options",()=>{let t=this.push(this.createOptions());this.CONSUME_ASSIGN1(_S,n=>{this.tokenPayload(n,t,l.Options_OPTIONS)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.Options_OpenParen)});this.SUBRULE_ASSIGN1(this.OptionsItem,{assign:n=>{t.items.push(n)}});this.MANY1(()=>{this.OPTION1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.Options_Comma)})});this.SUBRULE_ASSIGN2(this.OptionsItem,{assign:n=>{t.items.push(n)}})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.Options_CloseParen)});return this.pop()});OptionsItem=this.RULE("OptionsItem",()=>{let t=this.push(null);this.OR1([{ALT:()=>{this.CONSUME_ASSIGN(Te,n=>{t=this.replace({kind:m.SimpleOptionsItem,container:null,value:n.image});this.tokenPayload(n,t,l.SimpleOptionsItem_Value)})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.CMPATOptionsItem,{assign:n=>{t=this.replace(n)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.LinkageOptionsItem,{assign:n=>{t=this.replace(n)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.NoMapOptionsItem,{assign:n=>{t=this.replace(n)}})}}]);return this.pop()});createLinkageOptionsItem(){return{kind:m.LinkageOptionsItem,container:null,value:null}}LinkageOptionsItem=this.RULE("LinkageOptionsItem",()=>{let t=this.push(this.createLinkageOptionsItem());this.CONSUME_ASSIGN1(ES,n=>{this.tokenPayload(n,t,l.LinkageOptionsItem_Linkage)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.LinkageOptionsItem_OpenParen)});this.CONSUME_ASSIGN1(fi,n=>{this.tokenPayload(n,t,l.LinkageOptionsItem_Value);t.value=n.image});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.LinkageOptionsItem_CloseParen)});return this.pop()});createCMPATOptionsItem(){return{kind:m.CMPATOptionsItem,container:null,value:null}}CMPATOptionsItem=this.RULE("CMPATOptionsItem",()=>{let t=this.push(this.createCMPATOptionsItem());this.CONSUME_ASSIGN1(tg,n=>{this.tokenPayload(n,t,l.CMPATOptionsItem_CMPAT)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.CMPATOptionsItem_OpenParen)});this.CONSUME_ASSIGN1(Zg,n=>{this.tokenPayload(n,t,l.CMPATOptionsItem_Value);t.value=n.image});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.CMPATOptionsItem_CloseParen)});return this.pop()});createNoMapOptionsItem(){return{kind:m.NoMapOptionsItem,container:null,type:null,parameters:[]}}NoMapOptionsItem=this.RULE("NoMapOptionsItem",()=>{let t=this.push(this.createNoMapOptionsItem());this.CONSUME_ASSIGN1(Ma,n=>{this.tokenPayload(n,t,l.NoMapOptionsItem_Type);t.type=n.image});this.OPTION2(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.NoMapOptionsItem_OpenParen)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.NoMapOptionsItem_Parameters0);t.parameters.push(n.image)});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.NoMapOptionsItem_Comma)});this.CONSUME_ASSIGN2(u,n=>{this.tokenPayload(n,t,l.NoMapOptionsItem_Parameters1);t.parameters.push(n.image)})})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.NoMapOptionsItem_CloseParen)})});return this.pop()});ProcedureStatement=this.RULE("ProcedureStatement",()=>{let t=this.push(Km());this.CONSUME_ASSIGN1(el,n=>{this.tokenPayload(n,t,l.ProcedureStatement_PROCEDURE)});this.OPTION2(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.ProcedureStatement_OpenParenParams)});this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.ProcedureParameter,{assign:n=>{t.parameters.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.ProcedureStatement_Comma)});this.SUBRULE_ASSIGN2(this.ProcedureParameter,{assign:n=>{t.parameters.push(n)}})})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.ProcedureStatement_CloseParenParams)})});this.MANY2(()=>{this.OR2([{ALT:()=>{this.SUBRULE_ASSIGN1(this.ReturnsOption,{assign:n=>{t.options.push(n)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.Options,{assign:n=>{t.options.push(n)}})}},{ALT:()=>{this.CONSUME_ASSIGN1(Kc,n=>{this.tokenPayload(n,t,l.ProcedureStatement_Recursive);const r=OE();t.options.push(r)})}},{ALT:()=>{this.CONSUME_ASSIGN1(ol,n=>{this.tokenPayload(n,t,l.ProcedureStatement_Order);const r=IE();r.order=n.image;t.options.push(r)})}},{ALT:()=>{this.SUBRULE_ASSIGN(this.EnvironmentOption,{assign:n=>{t.options.push(n)}})}},{ALT:()=>{this.CONSUME_ASSIGN(ho,n=>{this.tokenPayload(n,t,l.ScopeAttribute_Scope);const r=RE();r.scope=n.image;t.options.push(r)})}}])});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.ProcedureStatement_Semicolon0)});this.MANY3(()=>{this.SUBRULE_ASSIGN1(this.Statement,{assign:n=>{t.statements.push(n)}})});this.OPTION4(()=>{this.CONSUME_ASSIGN2(el,n=>{this.tokenPayload(n,t,l.ProcedureStatement_PROCEDURE_END)})});this.SUBRULE_ASSIGN1(this.EndStatement,{assign:n=>{t.end=n}});this.CONSUME_ASSIGN2(K,n=>{this.tokenPayload(n,t,l.ProcedureStatement_Semicolon1)});return this.pop()});createLabelPrefix(){return{kind:m.LabelPrefix,container:null,nameToken:null,name:null}}LabelPrefix=this.RULE("LabelPrefix",()=>{let t=this.push(this.createLabelPrefix());this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.LabelPrefix_Name);t.name=n.image;t.nameToken=n});this.CONSUME_ASSIGN1(Ki,n=>{this.tokenPayload(n,t,l.LabelPrefix_Colon)});return this.pop()});createEntryStatement(){return{kind:m.EntryStatement,container:null,parameters:[],variable:[],limited:[],returns:[],options:[],environmentName:[]}}EntryStatement=this.RULE("EntryStatement",()=>{let t=this.push(this.createEntryStatement());this.CONSUME_ASSIGN1(cl,n=>{this.tokenPayload(n,t,l.EntryStatement_ENTRY)});this.OPTION2(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.EntryStatement_OpenParenParams)});this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.ProcedureParameter,{assign:n=>{t.parameters.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.EntryStatement_Comma)});this.SUBRULE_ASSIGN2(this.ProcedureParameter,{assign:n=>{t.parameters.push(n)}})})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.EntryStatement_CloseParenParams)})});this.MANY2(()=>{this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.EnvironmentOption,{assign:n=>{t.environmentName.push(n)}})}},{ALT:()=>{this.CONSUME_ASSIGN1(rl,n=>{this.tokenPayload(n,t,l.EntryStatement_Variable);t.variable.push(n.image)})}},{ALT:()=>{this.CONSUME_ASSIGN1(ms,n=>{this.tokenPayload(n,t,l.EntryStatement_Limited);t.limited.push(n.image)})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.ReturnsOption,{assign:n=>{t.returns.push(n)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.Options,{assign:n=>{t.options.push(n)}})}}])});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.EntryStatement_Semicolon)});return this.pop()});EnvironmentOption=this.RULE("EnvironmentOption",()=>{const t=this.push(PE());this.CONSUME_ASSIGN1(nl,n=>{this.tokenPayload(n,t,l.EntryStatement_EXTERNAL)});this.OPTION3(()=>{this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.EntryStatement_OpenParenEnv)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.environment=n}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.EntryStatement_CloseParenEnv)})});return this.pop()});createStatement(){return{kind:m.Statement,container:null,condition:null,labels:[],value:null}}Statement=this.RULE("Statement",()=>{let t=this.push(this.createStatement());this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.ConditionPrefix,{assign:n=>{t.condition=n}})});this.MANY1(()=>{this.SUBRULE_ASSIGN1(this.LabelPrefix,{assign:n=>{t.labels.push(n)}})});this.SUBRULE_ASSIGN1(this.Unit,{assign:n=>{t.value=n}});return this.pop()});Unit=this.OR_RULE("Unit",()=>[this.DeclareStatement,this.AllocateStatement,this.AssertStatement,this.AttachStatement,this.BeginStatement,this.CallStatement,this.CancelThreadStatement,this.CloseStatement,this.DefaultStatement,this.DefineAliasStatement,this.DefineOrdinalStatement,this.DefineStructureStatement,this.DelayStatement,this.DeleteStatement,this.DetachStatement,this.DisplayStatement,this.DoStatement,this.EntryStatement,this.ExecStatement,this.ExitStatement,this.FetchStatement,this.FlushStatement,this.FormatStatement,this.FreeStatement,this.GetStatement,this.GoToStatement,this.IfStatement,this.IterateStatement,this.LeaveStatement,this.LineDirective,this.LocateStatement,this.NoPrintDirective,this.NoteDirective,this.NullStatement,this.OnStatement,this.OpenStatement,this.PageDirective,this.PopDirective,this.PrintDirective,this.ProcessDirective,this.ProcincDirective,this.PushDirective,this.PutStatement,this.QualifyStatement,this.ReadStatement,this.ReinitStatement,this.ReleaseStatement,this.ResignalStatement,this.ReturnStatement,this.RevertStatement,this.RewriteStatement,this.SelectStatement,this.SignalStatement,this.SkipDirective,this.StopStatement,this.WaitStatement,this.WriteStatement,this.ProcedureStatement,this.Package,this.AssignmentStatement]);createAllocateStatement(){return{kind:m.AllocateStatement,container:null,variables:[]}}AllocateStatement=this.RULE("AllocateStatement",()=>{let t=this.push(this.createAllocateStatement());this.CONSUME_ASSIGN1(lS,n=>{this.tokenPayload(n,t,l.AllocateStatement_ALLOCATE)});this.SUBRULE_ASSIGN1(this.AllocatedVariable,{assign:n=>{t.variables.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.AllocateStatement_Comma)});this.SUBRULE_ASSIGN2(this.AllocatedVariable,{assign:n=>{t.variables.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.AllocateStatement_Semicolon)});return this.pop()});createAllocatedVariable(){return{kind:m.AllocatedVariable,container:null,level:null,var:null,attribute:null}}AllocatedVariable=this.RULE("AllocatedVariable",()=>{let t=this.push(this.createAllocatedVariable());this.OPTION1(()=>{this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.AllocatedVariable_LevelNumber);t.level=n.image})});this.SUBRULE_ASSIGN1(this.ReferenceItem,{assign:n=>{t.var=n}});this.OPTION2(()=>{this.SUBRULE_ASSIGN1(this.AllocateAttribute,{assign:n=>{t.attribute=n}})});return this.pop()});AllocateAttribute=this.OR_RULE("AllocateAttribute",()=>[this.AllocateDimension,this.AllocateType,this.AllocateLocationReferenceIn,this.AllocateLocationReferenceSet,this.InitialAttribute]);createAllocateLocationReferenceIn(){return{kind:m.AllocateLocationReferenceIn,container:null,area:null}}AllocateLocationReferenceIn=this.RULE("AllocateLocationReferenceIn",()=>{let t=this.push(this.createAllocateLocationReferenceIn());this.CONSUME_ASSIGN1(Kg,n=>{this.tokenPayload(n,t,l.AllocateLocationReferenceIn_IN)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.AllocateLocationReferenceIn_OpenParen)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.area=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.AllocateLocationReferenceIn_CloseParen)});return this.pop()});createAllocateLocationReferenceSet(){return{kind:m.AllocateLocationReferenceSet,container:null,locatorVariable:null}}AllocateLocationReferenceSet=this.RULE("AllocateLocationReferenceSet",()=>{let t=this.push(this.createAllocateLocationReferenceSet());this.CONSUME_ASSIGN1(pl,n=>{this.tokenPayload(n,t,l.AllocateLocationReferenceSet_SET)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.AllocateLocationReferenceSet_OpenParen)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.locatorVariable=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.AllocateLocationReferenceSet_CloseParen)});return this.pop()});createAllocateDimension(){return{kind:m.AllocateDimension,container:null,dimensions:null}}AllocateDimension=this.RULE("AllocateDimension",()=>{let t=this.push(this.createAllocateDimension());this.SUBRULE_ASSIGN1(this.Dimensions,{assign:n=>{t.dimensions=n}});return this.pop()});createAllocateType(){return{kind:m.AllocateType,container:null,type:null,dimensions:null}}AllocateType=this.RULE("AllocateType",()=>{let t=this.push(this.createAllocateType());this.CONSUME_ASSIGN(hr,n=>{this.tokenPayload(n,t,l.AllocateAttributeType_Type);t.type=n.image});this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.Dimensions,{assign:n=>{t.dimensions=n}})});return this.pop()});createAssertStatement(){return{kind:m.AssertStatement,container:null,true:false,actual:null,false:false,unreachable:false,displayExpression:null,compare:false,expected:null,operator:null}}AssertStatement=this.RULE("AssertStatement",()=>{let t=this.push(this.createAssertStatement());this.CONSUME_ASSIGN1(MS,n=>{this.tokenPayload(n,t,l.AssertStatement_ASSERT)});this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(fo,n=>{this.tokenPayload(n,t,l.AssertStatement_Boolean);if(n.image.toUpperCase()==="TRUE"){t.true=true}else{t.false=true}});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.AssertStatement_OpenParen0)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.actual=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.AssertStatement_CloseParen0)})}},{ALT:()=>{this.CONSUME_ASSIGN1(IS,n=>{this.tokenPayload(n,t,l.AssertStatement_COMPARE);t.compare=true});this.CONSUME_ASSIGN3(B,n=>{this.tokenPayload(n,t,l.AssertStatement_OpenParen1)});this.SUBRULE_ASSIGN3(this.Expression,{assign:n=>{t.actual=n}});this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.AssertStatement_Comma0)});this.SUBRULE_ASSIGN4(this.Expression,{assign:n=>{t.expected=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN2(ie,n=>{this.tokenPayload(n,t,l.AssertStatement_Comma1)});this.CONSUME_ASSIGN1(kr,n=>{this.tokenPayload(n,t,l.AssertStatement_OperatorString);t.operator=n.image})});this.CONSUME_ASSIGN3(q,n=>{this.tokenPayload(n,t,l.AssertStatement_CloseParen1)})}},{ALT:()=>{this.CONSUME_ASSIGN1(Zp,n=>{this.tokenPayload(n,t,l.AssertStatement_UNREACHABLE);t.unreachable=true})}}]);this.OPTION2(()=>{this.CONSUME_ASSIGN1(Ig,n=>{this.tokenPayload(n,t,l.AssertStatement_TEXT)});this.SUBRULE_ASSIGN5(this.Expression,{assign:n=>{t.displayExpression=n}})});return this.pop()});createAssignmentStatement(){return{kind:m.AssignmentStatement,container:null,refs:[],operator:null,expression:null,dimacrossExpr:null}}AssignmentStatement=this.RULE("AssignmentStatement",()=>{let t=this.push(this.createAssignmentStatement());this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.refs.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.AssignmentStatement_Comma0)});this.SUBRULE_ASSIGN2(this.LocatorCall,{assign:n=>{t.refs.push(n)}})});this.CONSUME_ASSIGN(Qt,n=>{this.tokenPayload(n,t,l.AssignmentStatement_Operator);t.operator=n.image});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.expression=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN2(ie,n=>{this.tokenPayload(n,t,l.AssignmentStatement_Comma1)});this.CONSUME_ASSIGN1(ps,n=>{this.tokenPayload(n,t,l.AssignmentStatement_BY)});this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(Og,n=>{this.tokenPayload(n,t,l.AssignmentStatement_NAME)})}},{ALT:()=>{this.CONSUME_ASSIGN1(nS,n=>{this.tokenPayload(n,t,l.AssignmentStatement_DIMACROSS)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.dimacrossExpr=n}})}}])});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.AssignmentStatement_Semicolon)});return this.pop()});createAttachStatement(){return{kind:m.AttachStatement,container:null,reference:null,task:null,environment:false,tstack:null}}AttachStatement=this.RULE("AttachStatement",()=>{let t=this.push(this.createAttachStatement());this.CONSUME_ASSIGN1(wS,n=>{this.tokenPayload(n,t,l.AttachStatement_ATTACH)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.reference=n}});this.CONSUME_ASSIGN1(Ji,n=>{this.tokenPayload(n,t,l.AttachStatement_THREAD)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.AttachStatement_OpenParenTask)});this.SUBRULE_ASSIGN2(this.LocatorCall,{assign:n=>{t.task=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.AttachStatement_CloseParenTask)});this.OPTION2(()=>{this.CONSUME_ASSIGN1(Zc,n=>{this.tokenPayload(n,t,l.AttachStatement_ENVIRONMENT);t.environment=true});this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.AttachStatement_OpenParenEnvironment)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(GS,n=>{this.tokenPayload(n,t,l.AttachStatement_TSTACK)});this.CONSUME_ASSIGN3(B,n=>{this.tokenPayload(n,t,l.AttachStatement_OpenParenTStack)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.tstack=n}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.AttachStatement_CloseParenTStack)})});this.CONSUME_ASSIGN3(q,n=>{this.tokenPayload(n,t,l.AttachStatement_CloseParenEnvironment)})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.AttachStatement_Semicolon)});return this.pop()});createBeginStatement(){return{kind:m.BeginStatement,container:null,options:null,recursive:false,statements:[],end:null,order:false,reorder:false}}BeginStatement=this.RULE("BeginStatement",()=>{let t=this.push(this.createBeginStatement());this.CONSUME_ASSIGN1(ng,n=>{this.tokenPayload(n,t,l.BeginStatement_BEGIN)});this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.Options,{assign:n=>{t.options=n}})});this.OPTION2(()=>{this.CONSUME_ASSIGN1(Kc,n=>{this.tokenPayload(n,t,l.BeginStatement_RECURSIVE);t.recursive=true})});this.OPTION3(()=>{this.CONSUME_ASSIGN1(ol,n=>{this.tokenPayload(n,t,l.BeginStatement_ORDER);if(n.image.toUpperCase()==="ORDER"){t.order=true}else if(n.image.toUpperCase()==="REORDER"){t.reorder=true}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.BeginStatement_Semicolon0)});this.MANY1(()=>{this.SUBRULE_ASSIGN1(this.Statement,{assign:n=>{t.statements.push(n)}})});this.SUBRULE_ASSIGN1(this.EndStatement,{assign:n=>{t.end=n}});this.CONSUME_ASSIGN2(K,n=>{this.tokenPayload(n,t,l.BeginStatement_Semicolon1)});return this.pop()});createEndStatement(){return{kind:m.EndStatement,container:null,labels:[],label:null}}EndStatement=this.RULE("EndStatement",()=>{let t=this.push(this.createEndStatement());this.MANY1(()=>{this.SUBRULE_ASSIGN1(this.LabelPrefix,{assign:n=>{t.labels.push(n)}})});this.CONSUME_ASSIGN1(zg,n=>{this.tokenPayload(n,t,l.EndStatement_END)});this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.LabelReference,{assign:n=>{t.label=n}})});return this.pop()});createCallStatement(){return{kind:m.CallStatement,container:null,call:null}}CallStatement=this.RULE("CallStatement",()=>{let t=this.push(this.createCallStatement());this.CONSUME_ASSIGN1(hl,n=>{this.tokenPayload(n,t,l.CallStatement_CALL)});this.SUBRULE_ASSIGN1(this.ProcedureCall,{assign:n=>{t.call=n}});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.CallStatement_Semicolon)});return this.pop()});createCancelThreadStatement(){return{kind:m.CancelThreadStatement,container:null,thread:null}}CancelThreadStatement=this.RULE("CancelThreadStatement",()=>{let t=this.push(this.createCancelThreadStatement());this.CONSUME_ASSIGN1(FS,n=>{this.tokenPayload(n,t,l.CancelThreadStatement_CANCEL)});this.CONSUME_ASSIGN1(Ji,n=>{this.tokenPayload(n,t,l.CancelThreadStatement_THREAD)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.CancelThreadStatement_OpenParen)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.thread=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.CancelThreadStatement_CloseParen)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.CancelThreadStatement_Semicolon)});return this.pop()});createCloseStatement(){return{kind:m.CloseStatement,container:null,files:[]}}CloseStatement=this.RULE("CloseStatement",()=>{let t=this.push(this.createCloseStatement());this.CONSUME_ASSIGN1(rg,n=>{this.tokenPayload(n,t,l.CloseStatement_CLOSE)});this.CONSUME_ASSIGN1(Yr,n=>{this.tokenPayload(n,t,l.CloseStatement_FILE0)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.CloseStatement_OpenParen0)});this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.MemberCall,{assign:n=>{t.files.push(n)}})}},{ALT:()=>{this.CONSUME_ASSIGN1(St,n=>{this.tokenPayload(n,t,l.CloseStatement_FilesStar0);t.files.push(n.image)})}}]);this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.CloseStatement_CloseParen0)});this.MANY1(()=>{this.OPTION1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.CloseStatement_Comma)})});this.CONSUME_ASSIGN2(Yr,n=>{this.tokenPayload(n,t,l.CloseStatement_FILE1)});this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.CloseStatement_OpenParen)});this.OR2([{ALT:()=>{this.SUBRULE_ASSIGN2(this.MemberCall,{assign:n=>{t.files.push(n)}})}},{ALT:()=>{this.CONSUME_ASSIGN2(St,n=>{this.tokenPayload(n,t,l.CloseStatement_FilesStar1);t.files.push(n.image)})}}]);this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.CloseStatement_CloseParen1)})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.CloseStatement_Semicolon)});return this.pop()});createDefaultStatement(){return{kind:m.DefaultStatement,container:null,expressions:[]}}DefaultStatement=this.RULE("DefaultStatement",()=>{let t=this.push(this.createDefaultStatement());this.CONSUME_ASSIGN1(OS,n=>{this.tokenPayload(n,t,l.DefaultStatement_DEFAULT)});this.SUBRULE_ASSIGN1(this.DefaultExpression,{assign:n=>{t.expressions.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.DefaultStatement_Comma)});this.SUBRULE_ASSIGN2(this.DefaultExpression,{assign:n=>{t.expressions.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.DefaultStatement_Semicolon)});return this.pop()});createDefaultExpression(){return{kind:m.DefaultExpression,container:null,expression:null,attributes:[]}}DefaultExpression=this.RULE("DefaultExpression",()=>{let t=this.push(this.createDefaultExpression());this.SUBRULE_ASSIGN1(this.DefaultExpressionPart,{assign:n=>{t.expression=n}});this.MANY1(()=>{this.SUBRULE_ASSIGN1(this.DefaultDeclarationAttribute,{assign:n=>{t.attributes.push(n)}})});return this.pop()});createDefaultExpressionPart(){return{kind:m.DefaultExpressionPart,container:null,expression:null,identifiers:null}}DefaultExpressionPart=this.RULE("DefaultExpressionPart",()=>{let t=this.push(this.createDefaultExpressionPart());this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(Kp,n=>{this.tokenPayload(n,t,l.DefaultExpressionPart_DESCRIPTORS)});this.SUBRULE_ASSIGN1(this.DefaultAttributeExpression,{assign:n=>{t.expression=n}})}},{ALT:()=>{this.OR2([{ALT:()=>{this.CONSUME_ASSIGN1(ig,n=>{this.tokenPayload(n,t,l.DefaultExpressionPart_RANGE)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DefaultExpressionPart_OpenParenRange)});this.SUBRULE_ASSIGN1(this.DefaultRangeIdentifiers,{assign:n=>{t.identifiers=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DefaultExpressionPart_CloseParenRange)})}},{ALT:()=>{this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.DefaultExpressionPart_OpenParenAttribute)});this.SUBRULE_ASSIGN2(this.DefaultAttributeExpression,{assign:n=>{t.expression=n}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.DefaultExpressionPart_CloseParenAttribute)})}}])}}]);return this.pop()});createDefaultRangeIdentifiers(){return{kind:m.DefaultRangeIdentifiers,container:null,identifiers:[]}}DefaultRangeIdentifiers=this.RULE("DefaultRangeIdentifiers",()=>{let t=this.push(this.createDefaultRangeIdentifiers());this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(St,n=>{this.tokenPayload(n,t,l.DefaultRangeIdentifiers_Star0);t.identifiers.push(n.image)})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.DefaultRangeIdentifierItem,{assign:n=>{t.identifiers.push(n)}})}}]);this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.DefaultRangeIdentifiers_Comma)});this.OR2([{ALT:()=>{this.CONSUME_ASSIGN2(St,n=>{this.tokenPayload(n,t,l.DefaultRangeIdentifiers_Star1);t.identifiers.push(n.image)})}},{ALT:()=>{this.SUBRULE_ASSIGN2(this.DefaultRangeIdentifierItem,{assign:n=>{t.identifiers.push(n)}})}}])});return this.pop()});createDefaultRangeIdentifierItem(){return{kind:m.DefaultRangeIdentifierItem,container:null,from:null,to:null}}DefaultRangeIdentifierItem=this.RULE("DefaultRangeIdentifierItem",()=>{let t=this.push(this.createDefaultRangeIdentifierItem());this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.DefaultRangeIdentifierItem_FromID);t.from=n.image});this.OPTION1(()=>{this.CONSUME_ASSIGN1(Ki,n=>{this.tokenPayload(n,t,l.DefaultRangeIdentifierItem_Colon)});this.CONSUME_ASSIGN2(u,n=>{this.tokenPayload(n,t,l.DefaultRangeIdentifierItem_ToID);t.to=n.image})});return this.pop()});createDefaultAttributeExpression(){return{kind:m.DefaultAttributeExpression,container:null,items:[],operators:[]}}DefaultAttributeExpression=this.RULE("DefaultAttributeExpression",()=>{let t=this.push(this.createDefaultAttributeExpression());this.SUBRULE_ASSIGN1(this.DefaultAttributeExpressionNot,{assign:n=>{t.items.push(n)}});this.OPTION1(()=>{this.CONSUME_ASSIGN1(uo,n=>{this.tokenPayload(n,t,l.DefaultAttributeExpression_Operators);t.operators.push(n.image)});this.SUBRULE_ASSIGN2(this.DefaultAttributeExpressionNot,{assign:n=>{t.items.push(n)}})});return this.pop()});createDefaultAttributeExpressionNot(){return{kind:m.DefaultAttributeExpressionNot,container:null,not:false,value:null}}DefaultAttributeExpressionNot=this.RULE("DefaultAttributeExpressionNot",()=>{let t=this.push(this.createDefaultAttributeExpressionNot());this.OPTION1(()=>{this.CONSUME_ASSIGN1(Yg,n=>{this.tokenPayload(n,t,l.DefaultAttributeExpressionNot_NOT);t.not=true})});this.CONSUME_ASSIGN($,n=>{this.tokenPayload(n,t,l.DefaultAttribute_Value);t.value=n.image});return this.pop()});createDefineAliasStatement(){return{kind:m.DefineAliasStatement,container:null,name:null,xDefine:false,attributes:[]}}DefineAliasStatement=this.RULE("DefineAliasStatement",()=>{let t=this.push(this.createDefineAliasStatement());this.CONSUME_ASSIGN1(ra,n=>{this.tokenPayload(n,t,l.DefineAliasStatement_DEFINE);if(n.image.charAt(0).toUpperCase()==="X"){t.xDefine=true}});this.CONSUME_ASSIGN1(sg,n=>{this.tokenPayload(n,t,l.DefineAliasStatement_ALIAS)});this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.DefineAliasStatement_Name);t.name=n.image});this.OPTION2(()=>{this.SUBRULE_ASSIGN1(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}});this.MANY1(()=>{this.OPTION1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.DefineAliasStatement_Comma)})});this.SUBRULE_ASSIGN2(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}})})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.DefineAliasStatement_Semicolon)});return this.pop()});createDefineOrdinalStatement(){return{kind:m.DefineOrdinalStatement,container:null,name:null,ordinalValues:null,xDefine:false,attributes:[],precision:null}}DefineOrdinalStatement=this.RULE("DefineOrdinalStatement",()=>{let t=this.push(this.createDefineOrdinalStatement());this.CONSUME_ASSIGN1(ra,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_DEFINE);if(n.image.charAt(0).toUpperCase()==="X"){t.xDefine=true}});this.CONSUME_ASSIGN1(il,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_ORDINAL)});this.SUBRULE_ASSIGN1(this.FQN,{assign:n=>{t.name=n}});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_OpenParenValues)});this.SUBRULE_ASSIGN1(this.OrdinalValueList,{assign:n=>{t.ordinalValues=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_CloseParenValues)});this.MANY(()=>{this.OR2([{ALT:()=>{this.CONSUME_ASSIGN1(qS,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_Signed0);t.attributes.push(n.image)})}},{ALT:()=>{this.CONSUME_ASSIGN1(hS,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_Unsigned0);t.attributes.push(n.image)})}},{ALT:()=>{this.CONSUME_ASSIGN1(iS,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_PRECISION);t.attributes.push(n.image)});this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_OpenParenPrecision)});this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_PrecisionNumber);t.precision=n.image});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_CloseParenPrecision)})}}])});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.DefineOrdinalStatement_Semicolon)});return this.pop()});createOrdinalValueList(){return{kind:m.OrdinalValueList,container:null,members:[]}}OrdinalValueList=this.RULE("OrdinalValueList",()=>{let t=this.push(this.createOrdinalValueList());this.SUBRULE_ASSIGN1(this.OrdinalValue,{assign:n=>{t.members.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.OrdinalValueList_Comma)});this.SUBRULE_ASSIGN2(this.OrdinalValue,{assign:n=>{t.members.push(n)}})});return this.pop()});createOrdinalValue(){return{kind:m.OrdinalValue,container:null,name:null,nameToken:null,value:null}}OrdinalValue=this.RULE("OrdinalValue",()=>{let t=this.push(this.createOrdinalValue());this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.OrdinalValue_Name);t.name=n.image;t.nameToken=n});this.OPTION1(()=>{this.CONSUME_ASSIGN1(fs,n=>{this.tokenPayload(n,t,l.OrdinalValue_VALUE)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.OrdinalValue_OpenParen)});this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.OrdinalValue_ValueNumber);t.value=n.image});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.OrdinalValue_CloseParen)})});return this.pop()});createDefineStructureStatement(){return{kind:m.DefineStructureStatement,container:null,xDefine:false,level:null,name:null,union:false,substructures:[]}}DefineStructureStatement=this.RULE("DefineStructureStatement",()=>{let t=this.push(this.createDefineStructureStatement());this.CONSUME_ASSIGN1(ra,n=>{this.tokenPayload(n,t,l.DefineStructureStatement_DEFINE);if(n.image.charAt(0).toUpperCase()==="X"){t.xDefine=true}});this.CONSUME_ASSIGN1(aS,n=>{this.tokenPayload(n,t,l.DefineStructureStatement_STRUCTURE)});this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.DefineStructureStatement_LevelNumber);t.level=n.image});this.SUBRULE_ASSIGN1(this.FQN,{assign:n=>{t.name=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN1(ag,n=>{this.tokenPayload(n,t,l.DefineStructureStatement_UNION);t.union=true})});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.DefineStructureStatement_Comma)});this.SUBRULE_ASSIGN1(this.SubStructure,{assign:n=>{t.substructures.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.DefineStructureStatement_Semicolon)});return this.pop()});createSubStructure(){return{kind:m.SubStructure,container:null,level:null,name:null,attributes:[]}}SubStructure=this.RULE("SubStructure",()=>{let t=this.push(this.createSubStructure());this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.SubStructure_LevelNumber);t.level=n.image});this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.SubStructure_Name);t.name=n.image});this.MANY1(()=>{this.SUBRULE_ASSIGN1(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}})});return this.pop()});createDelayStatement(){return{kind:m.DelayStatement,container:null,delay:null}}DelayStatement=this.RULE("DelayStatement",()=>{let t=this.push(this.createDelayStatement());this.CONSUME_ASSIGN1(og,n=>{this.tokenPayload(n,t,l.DelayStatement_DELAY)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DelayStatement_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.delay=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DelayStatement_CloseParen)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.DelayStatement_Semicolon)});return this.pop()});createDeleteStatement(){return{kind:m.DeleteStatement,container:null,file:null,key:null}}DeleteStatement=this.RULE("DeleteStatement",()=>{let t=this.push(this.createDeleteStatement());this.CONSUME_ASSIGN1(VS,n=>{this.tokenPayload(n,t,l.DeleteStatement_DELETE)});this.CONSUME_ASSIGN1(Yr,n=>{this.tokenPayload(n,t,l.DeleteStatement_FILE)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DeleteStatement_OpenParenFile)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.file=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DeleteStatement_CloseParenFile)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(Xg,n=>{this.tokenPayload(n,t,l.DeleteStatement_KEY)});this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.DeleteStatement_OpenParenKey)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.key=n}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.DeleteStatement_CloseParenKey)})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.DeleteStatement_Semicolon)});return this.pop()});createDetachStatement(){return{kind:m.DetachStatement,container:null,reference:null}}DetachStatement=this.RULE("DetachStatement",()=>{let t=this.push(this.createDetachStatement());this.CONSUME_ASSIGN1($S,n=>{this.tokenPayload(n,t,l.DetachStatement_DETACH)});this.CONSUME_ASSIGN1(Ji,n=>{this.tokenPayload(n,t,l.DetachStatement_THREAD)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DetachStatement_OpenParen)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.reference=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DetachStatement_CloseParen)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.DetachStatement_Semicolon)});return this.pop()});createDisplayStatement(){return{kind:m.DisplayStatement,container:null,expression:null,reply:null,rout:[],desc:[]}}DisplayStatement=this.RULE("DisplayStatement",()=>{let t=this.push(this.createDisplayStatement());this.CONSUME_ASSIGN1(PS,n=>{this.tokenPayload(n,t,l.DisplayStatement_DISPLAY)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DisplayStatement_OpenParenExpression)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.expression=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DisplayStatement_CloseParenExpression)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(cg,n=>{this.tokenPayload(n,t,l.DisplayStatement_REPLY)});this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.DisplayStatement_OpenParenReply)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.reply=n}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.DisplayStatement_CloseParenReply)})});this.OPTION3(()=>{this.CONSUME_ASSIGN1(TS,n=>{this.tokenPayload(n,t,l.DisplayStatement_ROUTCDE)});this.CONSUME_ASSIGN3(B,n=>{this.tokenPayload(n,t,l.DisplayStatement_OpenParenRout)});this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.DisplayStatement_RoutNumber0);t.rout.push(n.image)});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.DisplayStatement_CommaRout)});this.CONSUME_ASSIGN2(ct,n=>{this.tokenPayload(n,t,l.DisplayStatement_RoutNumber1);t.rout.push(n.image)})});this.CONSUME_ASSIGN3(q,n=>{this.tokenPayload(n,t,l.DisplayStatement_CloseParenRout)});this.OPTION2(()=>{this.CONSUME_ASSIGN1(Pg,n=>{this.tokenPayload(n,t,l.DisplayStatement_DESC)});this.CONSUME_ASSIGN4(B,n=>{this.tokenPayload(n,t,l.DisplayStatement_OpenParenDesc)});this.CONSUME_ASSIGN3(ct,n=>{this.tokenPayload(n,t,l.DisplayStatement_DescNumber0);t.desc.push(n.image)});this.MANY2(()=>{this.CONSUME_ASSIGN2(ie,n=>{this.tokenPayload(n,t,l.DisplayStatement_CommaDesc)});this.CONSUME_ASSIGN4(ct,n=>{this.tokenPayload(n,t,l.DisplayStatement_DescNumber1);t.desc.push(n.image)})});this.CONSUME_ASSIGN4(q,n=>{this.tokenPayload(n,t,l.DisplayStatement_CloseParenDesc)})})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.DisplayStatement_Semicolon)});return this.pop()});DoStatement=this.RULE("DoStatement",()=>{let t=this.push(Xm());this.CONSUME_ASSIGN1(Sl,n=>{this.tokenPayload(n,t,l.DoStatement_DO)});this.OPTION1(()=>{this.OR1([{GATE:()=>this.LA(2).tokenTypeIdx!==ia.tokenTypeIdx,ALT:()=>{this.SUBRULE_ASSIGN1(this.DoType2,{assign:n=>{t.doType2=n}})}},{GATE:()=>this.LA(2).tokenTypeIdx===ia.tokenTypeIdx,ALT:()=>{this.SUBRULE_ASSIGN1(this.DoType3,{assign:n=>{t.doType3=n}})}},{ALT:()=>{this.CONSUME_ASSIGN1(qg,n=>{this.tokenPayload(n,t,l.DoStatement_LOOP);t.doType4=true})}}])});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.DoStatement_Semicolon0)});this.MANY1(()=>{this.SUBRULE_ASSIGN1(this.Statement,{assign:n=>{t.statements.push(n)}})});this.SUBRULE_ASSIGN1(this.EndStatement,{assign:n=>{t.end=n}});this.CONSUME_ASSIGN2(K,n=>{this.tokenPayload(n,t,l.DoStatement_Semicolon1)});return this.pop()});DoType2=this.OR_RULE("DoType2",()=>[this.DoWhile,this.DoUntil]);DoWhile=this.RULE("DoWhile",()=>{let t=this.push(Jm());this.CONSUME_ASSIGN1(ll,n=>{this.tokenPayload(n,t,l.DoWhile_WHILE)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DoWhile_OpenParenWhile)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.while=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DoWhile_CloseParenWhile)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(ul,n=>{this.tokenPayload(n,t,l.DoWhile_UNTIL)});this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.DoWhile_OpenParenUntil)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.until=n}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.DoWhile_CloseParenUntil)})});return this.pop()});DoUntil=this.RULE("DoUntil",()=>{let t=this.push(Qm());this.CONSUME_ASSIGN1(ul,n=>{this.tokenPayload(n,t,l.DoUntil_UNTIL)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DoUntil_OpenParenUntil)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.until=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DoUntil_CloseParenUntil)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(ll,n=>{this.tokenPayload(n,t,l.DoUntil_WHILE)});this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.DoUntil_OpenParenWhile)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.while=n}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.DoUntil_CloseParenWhile)})});return this.pop()});DoType3=this.RULE("DoType3",()=>{let t=this.push(aE());this.SUBRULE_ASSIGN1(this.ReferenceItem,{assign:n=>{t.variable=n}});this.CONSUME_ASSIGN1(ia,n=>{this.tokenPayload(n,t,l.DoType3_Equals)});this.SUBRULE_ASSIGN1(this.DoSpecification,{assign:n=>{t.specifications.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.DoType3_Comma)});this.SUBRULE_ASSIGN2(this.DoSpecification,{assign:n=>{t.specifications.push(n)}})});return this.pop()});createDoSpecification(){return{kind:m.DoSpecification,container:null,expression:null,upthru:null,downthru:null,repeat:null,whileOrUntil:null,to:null,by:null}}DoSpecification=this.RULE("DoSpecification",()=>{let t=this.push(this.createDoSpecification());this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.expression=n}});this.OPTION3(()=>{this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(Zi,n=>{this.tokenPayload(n,t,l.DoSpecification_TO0)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.to=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN1(ps,n=>{this.tokenPayload(n,t,l.DoSpecification_BY0)});this.SUBRULE_ASSIGN3(this.Expression,{assign:n=>{t.by=n}})})}},{ALT:()=>{this.CONSUME_ASSIGN2(ps,n=>{this.tokenPayload(n,t,l.DoSpecification_BY1)});this.SUBRULE_ASSIGN4(this.Expression,{assign:n=>{t.by=n}});this.OPTION2(()=>{this.CONSUME_ASSIGN2(Zi,n=>{this.tokenPayload(n,t,l.DoSpecification_TO1)});this.SUBRULE_ASSIGN5(this.Expression,{assign:n=>{t.to=n}})})}},{ALT:()=>{this.CONSUME_ASSIGN1(HS,n=>{this.tokenPayload(n,t,l.DoSpecification_UPTHRU)});this.SUBRULE_ASSIGN6(this.Expression,{assign:n=>{t.upthru=n}})}},{ALT:()=>{this.CONSUME_ASSIGN1(mS,n=>{this.tokenPayload(n,t,l.DoSpecification_DOWNTHRU)});this.SUBRULE_ASSIGN7(this.Expression,{assign:n=>{t.downthru=n}})}},{ALT:()=>{this.CONSUME_ASSIGN1(jS,n=>{this.tokenPayload(n,t,l.DoSpecification_REPEAT)});this.SUBRULE_ASSIGN8(this.Expression,{assign:n=>{t.repeat=n}})}}])});this.OPTION4(()=>{this.OR2([{ALT:()=>{this.SUBRULE_ASSIGN1(this.DoWhile,{assign:n=>{t.whileOrUntil=n}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.DoUntil,{assign:n=>{t.whileOrUntil=n}})}}])});return this.pop()});createExecStatement(){return{kind:m.ExecStatement,container:null,query:null}}ExecStatement=this.RULE("ExecStatement",()=>{let t=this.push(this.createExecStatement());this.CONSUME_ASSIGN1(Tg,n=>{this.tokenPayload(n,t,l.ExecStatement_EXEC)});this.CONSUME_ASSIGN1(Yp,n=>{this.tokenPayload(n,t,l.ExecStatement_Query);t.query=n.image});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.ExecStatement_Semicolon)});return this.pop()});createExitStatement(){return{kind:m.ExitStatement,container:null}}ExitStatement=this.RULE("ExitStatement",()=>{let t=this.push(this.createExitStatement());this.CONSUME_ASSIGN1(yg,n=>{this.tokenPayload(n,t,l.ExitStatement_EXIT)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.ExitStatement_Semicolon)});return this.pop()});createFetchStatement(){return{kind:m.FetchStatement,container:null,entries:[]}}FetchStatement=this.RULE("FetchStatement",()=>{let t=this.push(this.createFetchStatement());this.CONSUME_ASSIGN1(lg,n=>{this.tokenPayload(n,t,l.FetchStatement_FETCH)});this.SUBRULE_ASSIGN1(this.FetchEntry,{assign:n=>{t.entries.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.FetchStatement_Comma)});this.SUBRULE_ASSIGN2(this.FetchEntry,{assign:n=>{t.entries.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.FetchStatement_Semicolon)});return this.pop()});createFetchEntry(){return{kind:m.FetchEntry,container:null,entry:null,set:null,title:null}}FetchEntry=this.RULE("FetchEntry",()=>{let t=this.push(this.createFetchEntry());this.SUBRULE_ASSIGN1(this.ReferenceItem,{assign:n=>{t.entry=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN1(pl,n=>{this.tokenPayload(n,t,l.FetchEntry_SET)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.FetchEntry_OpenParenSet)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.set=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.FetchEntry_CloseParenSet)})});this.OPTION2(()=>{this.CONSUME_ASSIGN1(ug,n=>{this.tokenPayload(n,t,l.FetchEntry_TITLE)});this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.FetchEntry_OpenParenTitle)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.title=n}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.FetchEntry_CloseParenTitle)})});return this.pop()});createFlushStatement(){return{kind:m.FlushStatement,container:null,file:null}}FlushStatement=this.RULE("FlushStatement",()=>{let t=this.push(this.createFlushStatement());this.CONSUME_ASSIGN1(hg,n=>{this.tokenPayload(n,t,l.FlushStatement_FLUSH)});this.CONSUME_ASSIGN1(Yr,n=>{this.tokenPayload(n,t,l.FlushStatement_FILE)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.FlushStatement_OpenParen)});this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.file=n}})}},{ALT:()=>{this.CONSUME_ASSIGN1(St,n=>{this.tokenPayload(n,t,l.FlushStatement_Star);t.file=n.image})}}]);this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.FlushStatement_CloseParen)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.FlushStatement_Semicolon)});return this.pop()});createFormatStatement(){return{kind:m.FormatStatement,container:null,list:null}}FormatStatement=this.RULE("FormatStatement",()=>{let t=this.push(this.createFormatStatement());this.CONSUME_ASSIGN1(xS,n=>{this.tokenPayload(n,t,l.FormatStatement_FORMAT)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.FormatStatement_OpenParen)});this.SUBRULE_ASSIGN1(this.FormatList,{assign:n=>{t.list=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.FormatStatement_CloseParen)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.FormatStatement_Semicolon)});return this.pop()});createFormatList(){return{kind:m.FormatList,container:null,items:[]}}FormatList=this.RULE("FormatList",()=>{let t=this.push(this.createFormatList());this.SUBRULE_ASSIGN1(this.FormatListItem,{assign:n=>{t.items.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.FormatList_Comma)});this.SUBRULE_ASSIGN2(this.FormatListItem,{assign:n=>{t.items.push(n)}})});return this.pop()});createFormatListItem(){return{kind:m.FormatListItem,container:null,level:null,item:null,list:null}}FormatListItem=this.RULE("FormatListItem",()=>{let t=this.push(this.createFormatListItem());this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.FormatListItemLevel,{assign:n=>{t.level=n}})});this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.FormatItem,{assign:n=>{t.item=n}})}},{ALT:()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.FormatListItem_OpenParen)});this.SUBRULE_ASSIGN1(this.FormatList,{assign:n=>{t.list=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.FormatListItem_CloseParen)})}}]);return this.pop()});createFormatListItemLevel(){return{kind:m.FormatListItemLevel,container:null,level:null}}FormatListItemLevel=this.RULE("FormatListItemLevel",()=>{let t=this.push(this.createFormatListItemLevel());this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.FormatListItemLevel_LevelNumber);t.level=n.image})}},{ALT:()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.FormatListItemLevel_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.level=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.FormatListItemLevel_CloseParen)})}}]);return this.pop()});FormatItem=this.OR_RULE("FormatItem",()=>[this.AFormatItem,this.BFormatItem,this.CFormatItem,this.EFormatItem,this.FFormatItem,this.PFormatItem,this.ColumnFormatItem,this.GFormatItem,this.LFormatItem,this.LineFormatItem,this.PageFormatItem,this.RFormatItem,this.SkipFormatItem,this.VFormatItem,this.XFormatItem]);AFormatItem=this.RULE("AFormatItem",()=>{let t=this.push(eE());this.CONSUME_ASSIGN1(fd,n=>{this.tokenPayload(n,t,l.AFormatItem_A)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.AFormatItem_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.fieldWidth=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.AFormatItem_CloseParen)})});return this.pop()});createBFormatItem(){return{kind:m.BFormatItem,container:null,fieldWidth:null}}BFormatItem=this.RULE("BFormatItem",()=>{let t=this.push(this.createBFormatItem());this.CONSUME_ASSIGN1(pd,n=>{this.tokenPayload(n,t,l.BFormatItem_B)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.BFormatItem_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.fieldWidth=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.BFormatItem_CloseParen)})});return this.pop()});createCFormatItem(){return{kind:m.CFormatItem,container:null,item:null}}CFormatItem=this.RULE("CFormatItem",()=>{let t=this.push(this.createCFormatItem());this.CONSUME_ASSIGN1(Sd,n=>{this.tokenPayload(n,t,l.CFormatItem_C)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.CFormatItem_OpenParen)});this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.FFormatItem,{assign:n=>{t.item=n}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.EFormatItem,{assign:n=>{t.item=n}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.PFormatItem,{assign:n=>{t.item=n}})}}]);this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.CFormatItem_CloseParen)});return this.pop()});createFFormatItem(){return{kind:m.FFormatItem,container:null,fieldWidth:null,fractionalDigits:null,scalingFactor:null}}FFormatItem=this.RULE("FFormatItem",()=>{let t=this.push(this.createFFormatItem());this.CONSUME_ASSIGN1(gd,n=>{this.tokenPayload(n,t,l.FFormatItem_F)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.FFormatItem_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.fieldWidth=n}});this.OPTION2(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.FFormatItem_CommaFractional)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.fractionalDigits=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN2(ie,n=>{this.tokenPayload(n,t,l.FFormatItem_CommaScalingFactor)});this.SUBRULE_ASSIGN3(this.Expression,{assign:n=>{t.scalingFactor=n}})})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.FFormatItem_CloseParen)});return this.pop()});createEFormatItem(){return{kind:m.EFormatItem,container:null,fieldWidth:null,fractionalDigits:null,significantDigits:null}}EFormatItem=this.RULE("EFormatItem",()=>{let t=this.push(this.createEFormatItem());this.CONSUME_ASSIGN1(dd,n=>{this.tokenPayload(n,t,l.EFormatItem_E)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.EFormatItem_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.fieldWidth=n}});this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.EFormatItem_Comma0)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.fractionalDigits=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN2(ie,n=>{this.tokenPayload(n,t,l.EFormatItem_Comma1)});this.SUBRULE_ASSIGN3(this.Expression,{assign:n=>{t.significantDigits=n}})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.EFormatItem_CloseParen)});return this.pop()});createPFormatItem(){return{kind:m.PFormatItem,container:null,specification:null}}PFormatItem=this.RULE("PFormatItem",()=>{let t=this.push(this.createPFormatItem());this.CONSUME_ASSIGN1(Ed,n=>{this.tokenPayload(n,t,l.PFormatItem_P)});this.CONSUME_ASSIGN1(kr,n=>{this.tokenPayload(n,t,l.PFormatItem_SpecificationString);t.specification=n.image});return this.pop()});createColumnFormatItem(){return{kind:m.ColumnFormatItem,container:null,characterPosition:null}}ColumnFormatItem=this.RULE("ColumnFormatItem",()=>{let t=this.push(this.createColumnFormatItem());this.CONSUME_ASSIGN1(zS,n=>{this.tokenPayload(n,t,l.ColumnFormatItem_COLUMN)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.ColumnFormatItem_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.characterPosition=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.ColumnFormatItem_CloseParen)});return this.pop()});createGFormatItem(){return{kind:m.GFormatItem,container:null,fieldWidth:null}}GFormatItem=this.RULE("GFormatItem",()=>{let t=this.push(this.createGFormatItem());this.CONSUME_ASSIGN1(_d,n=>{this.tokenPayload(n,t,l.GFormatItem_G)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.GFormatItem_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.fieldWidth=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.GFormatItem_CloseParen)})});return this.pop()});createLFormatItem(){return{kind:m.LFormatItem,container:null}}LFormatItem=this.RULE("LFormatItem",()=>{let t=this.push(this.createLFormatItem());this.CONSUME_ASSIGN1(Ad,n=>{this.tokenPayload(n,t,l.LFormatItem_L)});return this.pop()});createLineFormatItem(){return{kind:m.LineFormatItem,container:null,lineNumber:null}}LineFormatItem=this.RULE("LineFormatItem",()=>{let t=this.push(this.createLineFormatItem());this.CONSUME_ASSIGN1(bg,n=>{this.tokenPayload(n,t,l.LineFormatItem_LINE)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.LineFormatItem_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.lineNumber=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.LineFormatItem_CloseParen)});return this.pop()});createPageFormatItem(){return{kind:m.PageFormatItem,container:null}}PageFormatItem=this.RULE("PageFormatItem",()=>{let t=this.push(this.createPageFormatItem());this.CONSUME_ASSIGN1(Ng,n=>{this.tokenPayload(n,t,l.PageFormatItem_PAGE)});return this.pop()});createRFormatItem(){return{kind:m.RFormatItem,container:null,labelReference:null}}RFormatItem=this.RULE("RFormatItem",()=>{let t=this.push(this.createRFormatItem());this.CONSUME_ASSIGN1(Id,n=>{this.tokenPayload(n,t,l.RFormatItem_R)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.RFormatItem_OpenParen)});this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.RFormatItem_LabelRef);t.labelReference=n.image});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.RFormatItem_CloseParen)});return this.pop()});createSkipFormatItem(){return{kind:m.SkipFormatItem,container:null,skip:null}}SkipFormatItem=this.RULE("SkipFormatItem",()=>{let t=this.push(this.createSkipFormatItem());this.CONSUME_ASSIGN1(ml,n=>{this.tokenPayload(n,t,l.SkipFormatItem_SKIP)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.SkipFormatItem_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.skip=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.SkipFormatItem_CloseParen)})});return this.pop()});createVFormatItem(){return{kind:m.VFormatItem,container:null}}VFormatItem=this.RULE("VFormatItem",()=>{let t=this.push(this.createVFormatItem());this.CONSUME_ASSIGN1(Od,n=>{this.tokenPayload(n,t,l.VFormatItem_V)});return this.pop()});createXFormatItem(){return{kind:m.XFormatItem,container:null,width:null}}XFormatItem=this.RULE("XFormatItem",()=>{let t=this.push(this.createXFormatItem());this.CONSUME_ASSIGN1(Rd,n=>{this.tokenPayload(n,t,l.XFormatItem_X)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.XFormatItem_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.width=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.XFormatItem_CloseParen)});return this.pop()});createFreeStatement(){return{kind:m.FreeStatement,container:null,references:[]}}FreeStatement=this.RULE("FreeStatement",()=>{let t=this.push(this.createFreeStatement());this.CONSUME_ASSIGN1(kg,n=>{this.tokenPayload(n,t,l.FreeStatement_FREE)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.references.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.FreeStatement_Comma)});this.SUBRULE_ASSIGN2(this.LocatorCall,{assign:n=>{t.references.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.FreeStatement_Semicolon)});return this.pop()});createGetFileStatement(){return{kind:m.GetFileStatement,container:null,specifications:[]}}createGetStringStatement(){return{kind:m.GetStringStatement,container:null,dataSpecification:null,expression:null}}GetStatement=this.RULE("GetStatement",()=>{let t=this.push(this.createGetFileStatement());this.CONSUME_ASSIGN1(Qg,n=>{this.tokenPayload(n,t,l.GetStatement_GET)});this.OR1([{ALT:()=>{const n=t;this.AT_LEAST_ONE1(()=>{this.OR2([{ALT:()=>{this.SUBRULE_ASSIGN1(this.GetFile,{assign:r=>{n.specifications.push(r)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.GetCopy,{assign:r=>{n.specifications.push(r)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.GetSkip,{assign:r=>{n.specifications.push(r)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.DataSpecificationOptions,{assign:r=>{n.specifications.push(r)}})}}])})}},{ALT:()=>{const n=this.replace(this.createGetStringStatement());this.CONSUME_ASSIGN1(sl,r=>{this.tokenPayload(r,n,l.GetStatement_STRING)});this.CONSUME_ASSIGN1(B,r=>{this.tokenPayload(r,n,l.GetStatement_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:r=>{n.expression=r}});this.CONSUME_ASSIGN1(q,r=>{this.tokenPayload(r,n,l.GetStatement_CloseParen)});this.SUBRULE_ASSIGN2(this.DataSpecificationOptions,{assign:r=>{n.dataSpecification=r}})}}]);this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,this.peek(),l.GetStatement_Semicolon)});return this.pop()});createGetFile(){return{kind:m.GetFile,container:null,file:null}}GetFile=this.RULE("GetFile",()=>{let t=this.push(this.createGetFile());this.CONSUME_ASSIGN1(Yr,n=>{this.tokenPayload(n,t,l.GetFile_FILE)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.GetFile_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.file=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.GetFile_CloseParen)});return this.pop()});createGetCopy(){return{kind:m.GetCopy,container:null,copyReference:null}}GetCopy=this.RULE("GetCopy",()=>{let t=this.push(this.createGetCopy());this.CONSUME_ASSIGN1(Dg,n=>{this.tokenPayload(n,t,l.GetCopy_COPY)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.GetCopy_OpenParen)});this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.GetCopy_CopyReference);t.copyReference=n.image});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.GetCopy_CloseParen)})});return this.pop()});createGetSkip(){return{kind:m.GetSkip,container:null,skipExpression:null}}GetSkip=this.RULE("GetSkip",()=>{let t=this.push(this.createGetSkip());this.CONSUME_ASSIGN1(ml,n=>{this.tokenPayload(n,t,l.GetSkip_SKIP)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.GetSkip_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.skipExpression=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.GetSkip_CloseParen)})});return this.pop()});createGoToStatement(){return{kind:m.GoToStatement,container:null,label:null}}GoToStatement=this.RULE("GoToStatement",()=>{let t=this.push(this.createGoToStatement());this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(nd,n=>{this.tokenPayload(n,t,l.GoToStatement_GO)});this.CONSUME_ASSIGN1(Zi,n=>{this.tokenPayload(n,t,l.GoToStatement_TO)})}},{ALT:()=>{this.CONSUME_ASSIGN1(vg,n=>{this.tokenPayload(n,t,l.GoToStatement_GOTO)})}}]);this.SUBRULE_ASSIGN1(this.LabelReference,{assign:n=>{t.label=n}});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.GoToStatement_Semicolon)});return this.pop()});createGenericAttribute(){return{kind:m.GenericAttribute,container:null,references:[]}}GenericAttribute=this.RULE("GenericAttribute",()=>{let t=this.push(this.createGenericAttribute());this.CONSUME_ASSIGN(RS,n=>{this.tokenPayload(n,t,l.GenericAttribute_GENERIC)});this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.GenericAttribute_OpenParen)});this.OPTION(()=>{this.SUBRULE_ASSIGN1(this.GenericReference,{assign:n=>{t.references.push(n)}});this.MANY(()=>{this.CONSUME_ASSIGN(ie,n=>{this.tokenPayload(n,t,l.GenericAttribute_Comma)});this.SUBRULE_ASSIGN2(this.GenericReference,{assign:n=>{t.references.push(n)}})})});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.GenericAttribute_CloseParen)});return this.pop()});createGenericReference(){return{kind:m.GenericReference,container:null,descriptors:[],otherwise:false,entry:null}}GenericReference=this.RULE("GenericReference",()=>{let t=this.push(this.createGenericReference());this.SUBRULE_ASSIGN(this.ReferenceItem,{assign:n=>{t.entry=n}});this.OR([{ALT:()=>{this.CONSUME_ASSIGN(fl,n=>{this.tokenPayload(n,t,l.GenericReference_WHEN)});this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.GenericReference_OpenParen)});this.OPTION(()=>{this.SUBRULE_ASSIGN(this.GenericDescriptor,{assign:n=>{t.descriptors.push(n)}})});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.GenericReference_CloseParen)})}},{ALT:()=>{this.CONSUME_ASSIGN(tl,n=>{this.tokenPayload(n,t,l.GenericReference_OTHERWISE)})}}]);return this.pop()});createGenericDescriptor(){return{kind:m.GenericDescriptor,container:null,attributes:[]}}GenericDescriptor=this.RULE("GenericDescriptor",()=>{let t=this.push(this.createGenericDescriptor());this.SUBRULE_ASSIGN1(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}});this.MANY(()=>{this.CONSUME_ASSIGN(ie,n=>{this.tokenPayload(n,t,l.GenericDescriptor_Comma)});this.SUBRULE_ASSIGN2(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}})});return this.pop()});createIfStatement(){return{kind:m.IfStatement,container:null,expression:null,unit:null,else:null,unitRange:null,elseRange:null}}IfStatement=this.RULE("IfStatement",()=>{let t=this.push(this.createIfStatement());this.CONSUME_ASSIGN1(rd,n=>{this.tokenPayload(n,t,l.IfStatement_IF)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.expression=n}});this.CONSUME_ASSIGN1(Lg,n=>{this.tokenPayload(n,t,l.IfStatement_THEN)});this.SUBRULE_ASSIGN1(this.Statement,{assign:n=>{t.unit=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN1(Cg,n=>{this.tokenPayload(n,t,l.IfStatement_ELSE)});this.SUBRULE_ASSIGN2(this.Statement,{assign:n=>{t.else=n}})});return this.pop()});createIndForAttribute(){return{kind:m.IndForAttribute,container:null,reference:null}}IndForAttribute=this.RULE("IndForAttribute",()=>{let t=this.push(this.createIndForAttribute());this.CONSUME_ASSIGN(BS,n=>{this.tokenPayload(n,t,l.IndForAttribute_INDFOR)});this.SUBRULE_ASSIGN(this.LocatorCall,{assign:n=>{t.reference=n}});return this.pop()});createIterateStatement(){return{kind:m.IterateStatement,container:null,label:null}}IterateStatement=this.RULE("IterateStatement",()=>{let t=this.push(this.createIterateStatement());this.CONSUME_ASSIGN1(yS,n=>{this.tokenPayload(n,t,l.IterateStatement_ITERATE)});this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.LabelReference,{assign:n=>{t.label=n}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.IterateStatement_Semicolon)});return this.pop()});createLeaveStatement(){return{kind:m.LeaveStatement,container:null,label:null}}LeaveStatement=this.RULE("LeaveStatement",()=>{let t=this.push(this.createLeaveStatement());this.CONSUME_ASSIGN1(mg,n=>{this.tokenPayload(n,t,l.LeaveStatement_LEAVE)});this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.LabelReference,{assign:n=>{t.label=n}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.LeaveStatement_Semicolon)});return this.pop()});createLineDirective(){return{kind:m.LineDirective,container:null,line:null,file:null}}LineDirective=this.RULE("LineDirective",()=>{let t=this.push(this.createLineDirective());this.CONSUME_ASSIGN1(fg,n=>{this.tokenPayload(n,t,l.LineDirective_PercentLINE)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.LineDirective_OpenParen)});this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.LineDirective_line_NUMBER);t.line=n.image});this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.LineDirective_Comma)});this.CONSUME_ASSIGN1(kr,n=>{this.tokenPayload(n,t,l.LineDirective_FileString);t.file=n.image});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.LineDirective_CloseParen)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.LineDirective_Semicolon)});return this.pop()});createLocateStatement(){return{kind:m.LocateStatement,container:null,variable:null,arguments:[]}}LocateStatement=this.RULE("LocateStatement",()=>{let t=this.push(this.createLocateStatement());this.CONSUME_ASSIGN1(YS,n=>{this.tokenPayload(n,t,l.LocateStatement_LOCATE)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.variable=n}});this.MANY(()=>{this.SUBRULE_ASSIGN1(this.LocateStatementOption,{assign:n=>{t.arguments.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.LocateStatement_Semicolon)});return this.pop()});createLocateStatementOption(){return{kind:m.LocateStatementOption,container:null,type:null,element:null}}LocateStatementOption=this.RULE("LocateStatementOption",()=>{let t=this.push(this.createLocateStatementOption());this.CONSUME_ASSIGN1(Ga,n=>{this.tokenPayload(n,t,l.LocateStatementOption_Type);t.type=n.image});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.LocateStatementOption_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.element=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.LocateStatementOption_CloseParen)});return this.pop()});createNoPrintDirective(){return{kind:m.NoPrintDirective,container:null}}NoPrintDirective=this.RULE("NoPrintDirective",()=>{let t=this.push(this.createNoPrintDirective());this.CONSUME_ASSIGN1(fS,n=>{this.tokenPayload(n,t,l.NoPrintDirective_NOPRINT)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.NoPrintDirective_Semicolon)});return this.pop()});createNoteDirective(){return{kind:m.NoteDirective,container:null,message:null,code:null}}NoteDirective=this.RULE("NoteDirective",()=>{let t=this.push(this.createNoteDirective());this.CONSUME_ASSIGN1(pg,n=>{this.tokenPayload(n,t,l.NoteDirective_PercentNOTE)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.NoteDirective_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.message=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.NoteDirective_Comma)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.code=n}})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.NoteDirective_CloseParen)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.NoteDirective_Semicolon)});return this.pop()});createNullStatement(){return{kind:m.NullStatement,container:null}}NullStatement=this.RULE("NullStatement",()=>{let t=this.push(this.createNullStatement());this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.NullStatement_Semicolon)});return this.pop()});createOnStatement(){return{kind:m.OnStatement,container:null,conditions:[],snap:false,system:false,onUnit:null}}OnStatement=this.RULE("OnStatement",()=>{let t=this.push(this.createOnStatement());this.CONSUME_ASSIGN1(id,n=>{this.tokenPayload(n,t,l.OnStatement_ON)});this.SUBRULE_ASSIGN1(this.Condition,{assign:n=>{t.conditions.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.OnStatement_Comma)});this.SUBRULE_ASSIGN2(this.Condition,{assign:n=>{t.conditions.push(n)}})});this.OPTION1(()=>{this.CONSUME_ASSIGN1(Ug,n=>{this.tokenPayload(n,t,l.OnStatement_Snap);t.snap=true})});this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(US,n=>{this.tokenPayload(n,t,l.OnStatement_System);t.system=true});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.OnStatement_Semicolon)})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.Statement,{assign:n=>{t.onUnit=n}})}}]);return this.pop()});Condition=this.OR_RULE("Condition",()=>[this.KeywordCondition,this.NamedCondition,this.FileReferenceCondition]);createKeywordCondition(){return{kind:m.KeywordCondition,container:null,keyword:null}}KeywordCondition=this.RULE("KeywordCondition",()=>{let t=this.push(this.createKeywordCondition());this.CONSUME_ASSIGN1(at,n=>{this.tokenPayload(n,t,l.KeywordCondition_Keyword);t.keyword=n.image});return this.pop()});createNamedCondition(){return{kind:m.NamedCondition,container:null,name:null}}NamedCondition=this.RULE("NamedCondition",()=>{let t=this.push(this.createNamedCondition());this.CONSUME_ASSIGN1(rS,n=>{this.tokenPayload(n,t,l.NamedCondition_CONDITION)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.NamedCondition_OpenParen)});this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.NamedCondition_Name);t.name=n.image});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.NamedCondition_CloseParen)});return this.pop()});createFileReferenceCondition(){return{kind:m.FileReferenceCondition,container:null,keyword:null,fileReference:null}}FileReferenceCondition=this.RULE("FileReferenceCondition",()=>{let t=this.push(this.createFileReferenceCondition());this.CONSUME_ASSIGN1(Xn,n=>{this.tokenPayload(n,t,l.FileReferenceCondition_Keyword);t.keyword=n.image});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.FileReferenceCondition_OpenParen)});this.SUBRULE_ASSIGN1(this.ReferenceItem,{assign:n=>{t.fileReference=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.FileReferenceCondition_CloseParen)})});return this.pop()});createOpenStatement(){return{kind:m.OpenStatement,container:null,options:[]}}OpenStatement=this.RULE("OpenStatement",()=>{let t=this.push(this.createOpenStatement());this.CONSUME_ASSIGN(Mg,n=>{this.tokenPayload(n,t,l.OpenStatement_OPEN)});this.SUBRULE_ASSIGN1(this.OpenOptionsGroup,{assign:n=>{t.options.push(n)}});this.MANY(()=>{this.CONSUME_ASSIGN(ie,n=>{this.tokenPayload(n,t,l.OpenStatement_Comma)});this.SUBRULE_ASSIGN2(this.OpenOptionsGroup,{assign:n=>{t.options.push(n)}})});this.CONSUME_ASSIGN(K,n=>{this.tokenPayload(n,t,l.OpenStatement_Semicolon)});return this.pop()});createOpenOptionsGroup(){return{kind:m.OpenOptionsGroup,container:null,options:[]}}OpenOptionsGroup=this.RULE("OpenOptionsGroup",()=>{let t=this.push(this.createOpenOptionsGroup());this.AT_LEAST_ONE(()=>{this.SUBRULE_ASSIGN(this.OpenOption,{assign:n=>t.options.push(n)})});return this.pop()});createOpenOption(){return{kind:m.OpenOption,container:null,option:null,expression:null}}OpenOption=this.RULE("OpenOption",()=>{let t=this.push(this.createOpenOption());this.CONSUME_ASSIGN1(Tt,n=>{this.tokenPayload(n,t,l.OpenOption_Type);t.option=n.image});this.OPTION(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.OpenOption_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.expression=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.OpenOption_CloseParen)})});return this.pop()});createPageDirective(){return{kind:m.PageDirective,container:null}}PageDirective=this.RULE("PageDirective",()=>{let t=this.push(this.createPageDirective());this.CONSUME_ASSIGN1(Sg,n=>{this.tokenPayload(n,t,l.PageDirective_PAGE)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.PageDirective_Semicolon)});return this.pop()});createPopDirective(){return{kind:m.PopDirective,container:null}}PopDirective=this.RULE("PopDirective",()=>{let t=this.push(this.createPopDirective());this.CONSUME_ASSIGN1(wg,n=>{this.tokenPayload(n,t,l.PopDirective_POP)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.PopDirective_Semicolon)});return this.pop()});createPrintDirective(){return{kind:m.PrintDirective,container:null}}PrintDirective=this.RULE("PrintDirective",()=>{let t=this.push(this.createPrintDirective());this.CONSUME_ASSIGN1(XS,n=>{this.tokenPayload(n,t,l.PrintDirective_PRINT)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.PrintDirective_Semicolon)});return this.pop()});createProcessDirective(){return{kind:m.ProcessDirective,container:null,compilerOptions:[]}}ProcessDirective=this.RULE("ProcessDirective",()=>{let t=this.push(this.createProcessDirective());this.CONSUME_ASSIGN1(Kl,n=>{this.tokenPayload(n,t,l.ProcessDirective_PROCESS)});this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.CompilerOptions,{assign:n=>{t.compilerOptions.push(n)}});this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.ProcessDirective_Comma)});this.SUBRULE_ASSIGN2(this.CompilerOptions,{assign:n=>{t.compilerOptions.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.ProcessDirective_Semicolon)});return this.pop()});createCompilerOptions(){return{kind:m.CompilerOptions,container:null,value:null}}CompilerOptions=this.RULE("CompilerOptions",()=>{let t=this.push(this.createCompilerOptions());this.CONSUME_ASSIGN1(Gg,n=>{this.tokenPayload(n,t,l.CompilerOptions_value_TODO);t.value=n.image});return this.pop()});createProcincDirective(){return{kind:m.ProcincDirective,container:null,datasetName:null}}ProcincDirective=this.RULE("ProcincDirective",()=>{let t=this.push(this.createProcincDirective());this.CONSUME_ASSIGN1(pS,n=>{this.tokenPayload(n,t,l.ProcincDirective_PROCINC)});this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.ProcincDirective_DatasetName);t.datasetName=n.image});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.ProcincDirective_Semicolon)});return this.pop()});createPushDirective(){return{kind:m.PushDirective,container:null}}PushDirective=this.RULE("PushDirective",()=>{let t=this.push(this.createPushDirective());this.CONSUME_ASSIGN1(gg,n=>{this.tokenPayload(n,t,l.PushDirective_PUSH)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.PushDirective_Semicolon)});return this.pop()});createPutFileStatement(){return{kind:m.PutFileStatement,container:null,items:[]}}createPutStringStatement(){return{kind:m.PutStringStatement,container:null,dataSpecification:null,stringExpression:null}}PutStatement=this.RULE("PutStatement",()=>{let t=this.push(this.createPutFileStatement());let n=r=>{};this.CONSUME_ASSIGN1(Jg,r=>{n=i=>{this.tokenPayload(r,i,l.PutStatement_PUT)};n(t)});this.OPTION1(()=>{this.OR1([{ALT:()=>{const r=t;this.AT_LEAST_ONE1(()=>{this.OR2([{ALT:()=>{this.SUBRULE_ASSIGN1(this.PutItem,{assign:i=>{r.items.push(i)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.DataSpecificationOptions,{assign:i=>{r.items.push(i)}})}}])})}},{ALT:()=>{const r=this.replace(this.createPutStringStatement());n(r);this.CONSUME_ASSIGN1(sl,i=>{this.tokenPayload(i,r,l.PutStatement_STRING)});this.CONSUME_ASSIGN1(B,i=>{this.tokenPayload(i,r,l.PutStatement_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:i=>{r.stringExpression=i}});this.CONSUME_ASSIGN1(q,i=>{this.tokenPayload(i,r,l.PutStatement_CloseParen)});this.SUBRULE_ASSIGN2(this.DataSpecificationOptions,{assign:i=>{r.dataSpecification=i}})}}])});this.CONSUME_ASSIGN1(K,r=>{this.tokenPayload(r,this.peek(),l.PutStatement_Semicolon)});return this.pop()});createPutItem(){return{kind:m.PutItem,container:null,attribute:null,expression:null}}PutItem=this.RULE("PutItem",()=>{let t=this.push(this.createPutItem());this.CONSUME_ASSIGN(pi,n=>{this.tokenPayload(n,t,l.PutAttribute_FILE);t.attribute=n.image});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.PutItem_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.expression=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.PutItem_CloseParen)})});return this.pop()});createDataSpecificationOptions(){return{kind:m.DataSpecificationOptions,container:null,dataList:null,edit:false,dataLists:[],formatLists:[],data:false,dataListItems:[]}}DataSpecificationOptions=this.RULE("DataSpecificationOptions",()=>{let t=this.push(this.createDataSpecificationOptions());this.OR1([{ALT:()=>{this.OPTION1(()=>{this.CONSUME_ASSIGN1(Rg,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_LIST)})});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_OpenParenList)});this.SUBRULE_ASSIGN1(this.DataSpecificationDataList,{assign:n=>{t.dataList=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_CloseParenList)})}},{ALT:()=>{this.CONSUME_ASSIGN1(Fg,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_Data);t.data=true});this.OPTION2(()=>{this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_OpenParenData)});this.SUBRULE_ASSIGN1(this.DataSpecificationDataListItem,{assign:n=>{t.dataListItems.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_Comma)});this.SUBRULE_ASSIGN2(this.DataSpecificationDataListItem,{assign:n=>{t.dataListItems.push(n)}})});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_CloseParenData)})})}},{ALT:()=>{this.CONSUME_ASSIGN1(xg,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_Edit);t.edit=true});this.AT_LEAST_ONE1(()=>{this.CONSUME_ASSIGN3(B,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_OpenParenEdit)});this.SUBRULE_ASSIGN2(this.DataSpecificationDataList,{assign:n=>{t.dataLists.push(n)}});this.CONSUME_ASSIGN3(q,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_CloseParenEdit)});this.CONSUME_ASSIGN4(B,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_OpenParenFormat)});this.SUBRULE_ASSIGN1(this.FormatList,{assign:n=>{t.formatLists.push(n)}});this.CONSUME_ASSIGN4(q,n=>{this.tokenPayload(n,t,l.DataSpecificationOptions_CloseParenFormat)})})}}]);return this.pop()});createDataSpecificationDataList(){return{kind:m.DataSpecificationDataList,container:null,items:[]}}DataSpecificationDataList=this.RULE("DataSpecificationDataList",()=>{let t=this.push(this.createDataSpecificationDataList());this.SUBRULE_ASSIGN1(this.DataSpecificationDataListItem,{assign:n=>{t.items.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.DataSpecificationDataList_Comma)});this.SUBRULE_ASSIGN2(this.DataSpecificationDataListItem,{assign:n=>{t.items.push(n)}})});return this.pop()});createDataSpecificationDataListItem(){return{kind:m.DataSpecificationDataListItem,container:null,value:null}}DataSpecificationDataListItem=this.RULE("DataSpecificationDataListItem",()=>{let t=this.push(this.createDataSpecificationDataListItem());this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.value=n}});return this.pop()});createQualifyStatement(){return{kind:m.QualifyStatement,container:null,statements:[],end:null}}QualifyStatement=this.RULE("QualifyStatement",()=>{let t=this.push(this.createQualifyStatement());this.CONSUME_ASSIGN1(bS,n=>{this.tokenPayload(n,t,l.QualifyStatement_QUALIFY)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.QualifyStatement_Semicolon0)});this.MANY1(()=>{this.SUBRULE_ASSIGN1(this.Statement,{assign:n=>{t.statements.push(n)}})});this.SUBRULE_ASSIGN1(this.EndStatement,{assign:n=>{t.end=n}});this.CONSUME_ASSIGN2(K,n=>{this.tokenPayload(n,t,l.QualifyStatement_Semicolon1)});return this.pop()});createReadStatement(){return{kind:m.ReadStatement,container:null,arguments:[]}}ReadStatement=this.RULE("ReadStatement",()=>{let t=this.push(this.createReadStatement());this.CONSUME_ASSIGN1(Bg,n=>{this.tokenPayload(n,t,l.ReadStatement_READ)});this.MANY(()=>{this.SUBRULE_ASSIGN(this.ReadStatementOption,{assign:n=>{t.arguments.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.ReadStatement_Semicolon)});return this.pop()});createReadStatementOption(){return{kind:m.ReadStatementOption,container:null,type:null,value:null}}ReadStatementOption=this.RULE("ReadStatementOption",()=>{let t=this.push(this.createReadStatementOption());this.CONSUME_ASSIGN1(mr,n=>{this.tokenPayload(n,t,l.ReadStatementFile_Type);t.type=n.image});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.ReadStatementFile_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.value=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.ReadStatementFile_CloseParen)});return this.pop()});createReinitStatement(){return{kind:m.ReinitStatement,container:null,reference:null}}ReinitStatement=this.RULE("ReinitStatement",()=>{let t=this.push(this.createReinitStatement());this.CONSUME_ASSIGN1(QS,n=>{this.tokenPayload(n,t,l.ReinitStatement_REINIT)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.reference=n}});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.ReinitStatement_Semicolon)});return this.pop()});createReleaseStatement(){return{kind:m.ReleaseStatement,container:null,star:false,references:[]}}ReleaseStatement=this.RULE("ReleaseStatement",()=>{let t=this.push(this.createReleaseStatement());this.CONSUME_ASSIGN1(NS,n=>{this.tokenPayload(n,t,l.ReleaseStatement_RELEASE)});this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(St,n=>{this.tokenPayload(n,t,l.ReleaseStatement_Star);t.star=true})}},{ALT:()=>{this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.ReleaseStatement_References0);t.references.push(n.image)});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.ReleaseStatement_Comma)});this.CONSUME_ASSIGN2(u,n=>{this.tokenPayload(n,t,l.ReleaseStatement_References1);t.references.push(n.image)})})}}]);this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.ReleaseStatement_Semicolon)});return this.pop()});createResignalStatement(){return{kind:m.ResignalStatement,container:null}}ResignalStatement=this.RULE("ResignalStatement",()=>{let t=this.push(this.createResignalStatement());this.CONSUME_ASSIGN1(SS,n=>{this.tokenPayload(n,t,l.ResignalStatement_RESIGNAL)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.ResignalStatement_Semicolon)});return this.pop()});createReturnStatement(){return{kind:m.ReturnStatement,container:null,expression:null}}ReturnStatement=this.RULE("ReturnStatement",()=>{let t=this.push(this.createReturnStatement());this.CONSUME_ASSIGN1(JS,n=>{this.tokenPayload(n,t,l.ReturnStatement_RETURN)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.ReturnStatement_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.expression=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.ReturnStatement_CloseParen)})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.ReturnStatement_Semicolon)});return this.pop()});createRevertStatement(){return{kind:m.RevertStatement,container:null,conditions:[]}}RevertStatement=this.RULE("RevertStatement",()=>{let t=this.push(this.createRevertStatement());this.CONSUME_ASSIGN1(dg,n=>{this.tokenPayload(n,t,l.RevertStatement_REVERT)});this.SUBRULE_ASSIGN1(this.Condition,{assign:n=>{t.conditions.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.RevertStatement_Comma)});this.SUBRULE_ASSIGN2(this.Condition,{assign:n=>{t.conditions.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.RevertStatement_Semicolon)});return this.pop()});createRewriteStatement(){return{kind:m.RewriteStatement,container:null,arguments:[]}}RewriteStatement=this.RULE("RewriteStatement",()=>{let t=this.push(this.createRewriteStatement());this.CONSUME_ASSIGN1(kS,n=>{this.tokenPayload(n,t,l.RewriteStatement_REWRITE)});this.MANY(()=>{this.SUBRULE_ASSIGN(this.RewriteStatementOption,{assign:n=>{t.arguments.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.RewriteStatement_Semicolon)});return this.pop()});createRewriteStatementOption(){return{kind:m.RewriteStatementOption,container:null,type:null,value:null}}RewriteStatementOption=this.RULE("RewriteStatementOption",()=>{let t=this.push(this.createRewriteStatementOption());this.CONSUME_ASSIGN1(mo,n=>{this.tokenPayload(n,t,l.RewriteStatementFile_FILE);t.type=n.image});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.RewriteStatementFile_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.value=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.RewriteStatementFile_CloseParen)});return this.pop()});createSelectStatement(){return{kind:m.SelectStatement,container:null,on:null,statements:[],end:null}}SelectStatement=this.RULE("SelectStatement",()=>{let t=this.push(this.createSelectStatement());this.CONSUME_ASSIGN1(ZS,n=>{this.tokenPayload(n,t,l.SelectStatement_SELECT)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.SelectStatement_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.on=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.SelectStatement_CloseParen)})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.SelectStatement_Semicolon0)});this.MANY1(()=>{this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.WhenStatement,{assign:n=>{t.statements.push(n)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.OtherwiseStatement,{assign:n=>{t.statements.push(n)}})}}])});this.SUBRULE_ASSIGN1(this.EndStatement,{assign:n=>{t.end=n}});this.CONSUME_ASSIGN2(K,n=>{this.tokenPayload(n,t,l.SelectStatement_Semicolon1)});return this.pop()});createWhenStatement(){return{kind:m.WhenStatement,container:null,conditions:[],unit:null}}WhenStatement=this.RULE("WhenStatement",()=>{let t=this.push(this.createWhenStatement());this.CONSUME_ASSIGN1(fl,n=>{this.tokenPayload(n,t,l.WhenStatement_WHEN)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.WhenStatement_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.conditions.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.WhenStatement_Comma)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.conditions.push(n)}})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.WhenStatement_CloseParen)});this.SUBRULE_ASSIGN1(this.Statement,{assign:n=>{t.unit=n}});return this.pop()});createOtherwiseStatement(){return{kind:m.OtherwiseStatement,container:null,unit:null}}OtherwiseStatement=this.RULE("OtherwiseStatement",()=>{let t=this.push(this.createOtherwiseStatement());this.CONSUME_ASSIGN1(tl,n=>{this.tokenPayload(n,t,l.OtherwiseStatement_OTHERWISE)});this.SUBRULE_ASSIGN1(this.Statement,{assign:n=>{t.unit=n}});return this.pop()});createSignalStatement(){return{kind:m.SignalStatement,container:null,condition:[]}}SignalStatement=this.RULE("SignalStatement",()=>{let t=this.push(this.createSignalStatement());this.CONSUME_ASSIGN1(KS,n=>{this.tokenPayload(n,t,l.SignalStatement_SIGNAL)});this.SUBRULE_ASSIGN1(this.Condition,{assign:n=>{t.condition.push(n)}});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.SignalStatement_Semicolon)});return this.pop()});createSkipDirective(){return{kind:m.SkipDirective,container:null,lines:null,lineCount:1}}SkipDirective=this.RULE("SkipDirective",()=>{let t=this.push(this.createSkipDirective());this.CONSUME_ASSIGN1(_g,n=>{this.tokenPayload(n,t,l.SkipDirective_SKIP)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.SkipDirective_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.lines=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.SkipDirective_CloseParen)})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.SkipDirective_Semicolon)});return this.pop()});createStopStatement(){return{kind:m.StopStatement,container:null}}StopStatement=this.RULE("StopStatement",()=>{let t=this.push(this.createStopStatement());this.CONSUME_ASSIGN1(Wg,n=>{this.tokenPayload(n,t,l.StopStatement_STOP)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.StopStatement_Semicolon)});return this.pop()});createWaitStatement(){return{kind:m.WaitStatement,container:null,task:null}}WaitStatement=this.RULE("WaitStatement",()=>{let t=this.push(this.createWaitStatement());this.CONSUME_ASSIGN1(Vg,n=>{this.tokenPayload(n,t,l.WaitStatement_WAIT)});this.CONSUME_ASSIGN1(Ji,n=>{this.tokenPayload(n,t,l.WaitStatement_THREAD)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.WaitStatement_OpenParen)});this.SUBRULE_ASSIGN1(this.LocatorCall,{assign:n=>{t.task=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.WaitStatement_CloseParen)});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.WaitStatement_Semicolon)});return this.pop()});createWriteStatement(){return{kind:m.WriteStatement,container:null,arguments:[]}}WriteStatement=this.RULE("WriteStatement",()=>{let t=this.push(this.createWriteStatement());this.CONSUME_ASSIGN1(Eg,n=>{this.tokenPayload(n,t,l.WriteStatement_WRITE)});this.MANY(()=>{this.SUBRULE_ASSIGN1(this.WriteStatementOption,{assign:n=>{t.arguments.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.WriteStatement_Semicolon)});return this.pop()});createWriteStatementOption(){return{kind:m.WriteStatementOption,container:null,type:null,value:null}}WriteStatementOption=this.RULE("WriteStatementOption",()=>{let t=this.push(this.createWriteStatementOption());this.CONSUME_ASSIGN1(Si,n=>{this.tokenPayload(n,t,l.WriteStatementFile_FILE);t.type=n.image});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.WriteStatementFile_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.value=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.WriteStatementFile_CloseParen)});return this.pop()});createInitialAttribute(){return{kind:m.InitialAttribute,container:null,across:false,expressions:[],direct:false,items:[],call:false,procedureCall:null,to:false,content:null}}InitialAttribute=this.RULE("InitialAttribute",()=>{let t=this.push(this.createInitialAttribute());this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(DS,n=>{this.tokenPayload(n,t,l.InitialAttribute_INITIAL)});this.OR3([{ALT:()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.InitialAttribute_OpenParenDirect);t.direct=true});this.SUBRULE_ASSIGN1(this.InitialAttributeItem,{assign:n=>{t.items.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.InitialAttribute_CommaDirect)});this.SUBRULE_ASSIGN2(this.InitialAttributeItem,{assign:n=>{t.items.push(n)}})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.InitialAttribute_CloseParenDirect)})}},{ALT:()=>{this.CONSUME_ASSIGN1(hl,n=>{this.tokenPayload(n,t,l.InitialAttribute_Call);t.call=true});this.SUBRULE_ASSIGN1(this.ProcedureCall,{assign:n=>{t.procedureCall=n}})}},{ALT:()=>{this.CONSUME_ASSIGN1(Zi,n=>{this.tokenPayload(n,t,l.InitialAttribute_To);t.to=true});this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.InitialAttribute_OpenParenTo)});this.SUBRULE_ASSIGN1(this.InitialToContent,{assign:n=>{t.content=n}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.InitialAttribute_CloseParenTo)});this.CONSUME_ASSIGN3(B,n=>{this.tokenPayload(n,t,l.InitialAttribute_OpenParenToItem)});this.SUBRULE_ASSIGN3(this.InitialAttributeItem,{assign:n=>{t.items.push(n)}});this.MANY2(()=>{this.CONSUME_ASSIGN2(ie,n=>{this.tokenPayload(n,t,l.InitialAttribute_CommaToItem)});this.SUBRULE_ASSIGN4(this.InitialAttributeItem,{assign:n=>{t.items.push(n)}})});this.CONSUME_ASSIGN3(q,n=>{this.tokenPayload(n,t,l.InitialAttribute_CloseParenToItem)})}}])}},{ALT:()=>{this.CONSUME_ASSIGN1(eS,n=>{this.tokenPayload(n,t,l.InitialAttribute_INITACROSS);t.across=true});this.CONSUME_ASSIGN4(B,n=>{this.tokenPayload(n,t,l.InitialAttribute_OpenParenInitAcross)});this.SUBRULE_ASSIGN1(this.InitAcrossExpression,{assign:n=>{t.expressions.push(n)}});this.MANY3(()=>{this.CONSUME_ASSIGN3(ie,n=>{this.tokenPayload(n,t,l.InitialAttribute_CommaInitAcross)});this.SUBRULE_ASSIGN2(this.InitAcrossExpression,{assign:n=>{t.expressions.push(n)}})});this.CONSUME_ASSIGN4(q,n=>{this.tokenPayload(n,t,l.InitialAttribute_CloseParenInitAcross)})}}]);return this.pop()});createInitialToContent(){return{kind:m.InitialToContent,container:null,varying:null,type:null}}InitialToContent=this.RULE("InitialToContent",()=>{let t=this.push(this.createInitialToContent());this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(Gr,n=>{this.tokenPayload(n,t,l.InitialToContent_VARYING0);t.varying=n.image});this.OPTION1(()=>{this.CONSUME_ASSIGN1(Bs,n=>{this.tokenPayload(n,t,l.InitialToContent_CHAR0);t.type=n.image})})}},{ALT:()=>{this.CONSUME_ASSIGN2(Bs,n=>{this.tokenPayload(n,t,l.InitialToContent_CHAR1);t.type=n.image});this.OPTION2(()=>{this.CONSUME_ASSIGN2(Gr,n=>{this.tokenPayload(n,t,l.InitialToContent_VARYING1);t.varying=n.image})})}}]);return this.pop()});createInitAcrossExpression(){return{kind:m.InitAcrossExpression,container:null,expressions:[]}}InitAcrossExpression=this.RULE("InitAcrossExpression",()=>{let t=this.push(this.createInitAcrossExpression());this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.InitAcrossExpression_OpenParen)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.expressions.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.InitAcrossExpression_Comma)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.expressions.push(n)}})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.InitAcrossExpression_CloseParen)});return this.pop()});InitialAttributeItem=this.RULE("InitialAttributeItem",()=>{this.push({});this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.InitialAttributeItemStar,{assign:t=>{this.replace(t)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.InitialAttributeSpecification,{assign:t=>{this.replace(t)}})}}]);return this.pop()});createInitialAttributeItemStar(){return{kind:m.InitialAttributeItemStar,container:null}}InitialAttributeItemStar=this.RULE("InitialAttributeItemStar",()=>{let t=this.push(this.createInitialAttributeItemStar());this.CONSUME_ASSIGN1(St,n=>{this.tokenPayload(n,t,l.InitialAttributeItemStar_Star)});return this.pop()});createInitialAttributeSpecification(){return{kind:m.InitialAttributeSpecification,container:null,star:false,item:null,expression:null}}InitialAttributeSpecification=this.RULE("InitialAttributeSpecification",()=>{let t=this.push(this.createInitialAttributeSpecification());this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.InitialAttributeSpecification_OpenParen)});this.CONSUME_ASSIGN1(St,n=>{this.tokenPayload(n,t,l.InitialAttributeSpecification_Star);t.star=true});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.InitialAttributeSpecification_CloseParen)})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.expression=n}})}}]);this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.InitialAttributeSpecificationIteration,{assign:n=>{t.item=n}})});return this.pop()});InitialAttributeSpecificationIteration=this.RULE("InitialAttributeSpecificationIteration",()=>{this.push({});this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.InitialAttributeItemStar,{assign:t=>{this.replace(t)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.InitialAttributeSpecificationIterationValue,{assign:t=>{this.replace(t)}})}}]);return this.pop()});createInitialAttributeSpecificationIterationValue(){return{kind:m.InitialAttributeSpecificationIterationValue,container:null,items:[]}}InitialAttributeSpecificationIterationValue=this.RULE("InitialAttributeSpecificationIterationValue",()=>{let t=this.push(this.createInitialAttributeSpecificationIterationValue());this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.InitialAttributeSpecificationIterationValue_OpenParen)});this.SUBRULE_ASSIGN1(this.InitialAttributeItem,{assign:n=>{t.items.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.InitialAttributeSpecificationIterationValue_Comma)});this.SUBRULE_ASSIGN2(this.InitialAttributeItem,{assign:n=>{t.items.push(n)}})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.InitialAttributeSpecificationIterationValue_CloseParen)});return this.pop()});createDeclareStatement(){return{kind:m.DeclareStatement,container:null,items:[],xDeclare:false}}DeclareStatement=this.RULE("DeclareStatement",()=>{let t=this.push(this.createDeclareStatement());this.CONSUME_ASSIGN1(vS,n=>{this.tokenPayload(n,t,l.DeclareStatement_DECLARE);if(n.image.charAt(0).toUpperCase()==="X"){t.xDeclare=true}});this.SUBRULE_ASSIGN1(this.DeclaredItem,{assign:n=>{t.items.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.DeclareStatement_Comma)});this.SUBRULE_ASSIGN2(this.DeclaredItem,{assign:n=>{t.items.push(n)}})});this.CONSUME_ASSIGN1(K,n=>{this.tokenPayload(n,t,l.DeclareStatement_Semicolon)});return this.pop()});createWildcardItem(){return{kind:m.WildcardItem,container:null,token:null}}DeclaredItem=this.RULE("DeclaredItem",()=>{let t=this.push(zm());this.OPTION1(()=>{this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.DeclaredItem_LevelNumber);t.levelToken=n;t.level=parseInt(n.image)})});this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.DeclaredVariable,{assign:n=>{t.elements.push(n)}})}},{ALT:()=>{this.CONSUME_ASSIGN1(St,n=>{const r=this.createWildcardItem();r.token=n;this.tokenPayload(n,r,l.WildcardItem_Asterisk);t.elements.push(r)})}},{ALT:()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DeclaredItem_OpenParen)});this.SUBRULE_ASSIGN1(this.DeclaredItem,{assign:n=>{t.elements.push(n)}});this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.DeclaredItem_Comma)});this.SUBRULE_ASSIGN2(this.DeclaredItem,{assign:n=>{t.elements.push(n)}})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DeclaredItem_CloseParen)})}}]);this.MANY2(()=>{this.SUBRULE_ASSIGN1(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}})});return this.pop()});DeclaredVariable=this.RULE("DeclaredVariable",()=>{let t=this.push(Ym());this.CONSUME_ASSIGN(u,n=>{this.tokenPayload(n,t,l.DeclaredVariable_Name);t.name=n.image;t.nameToken=n});return this.pop()});getCommonDeclarationAttributes(){return[this.InitialAttribute,this.DateAttribute,this.HandleAttribute,this.DefinedAttribute,this.PictureAttribute,this.EnvironmentAttribute,this.DimensionsDataAttribute,this.ValueListFromAttribute,this.ValueListAttribute,this.ValueRangeAttribute,this.ReturnsAttribute,this.ComputationDataAttribute,this.EntryAttribute,this.LikeAttribute,this.TypeAttribute,this.OrdinalTypeAttribute,this.GenericAttribute,this.IndForAttribute]}DefaultDeclarationAttribute=this.OR_RULE("DefaultDeclarationAttribute",()=>[...this.getCommonDeclarationAttributes(),this.DefaultValueAttribute]);DeclarationAttribute=this.OR_RULE("DeclarationAttribute",()=>[...this.getCommonDeclarationAttributes(),this.ValueAttribute]);createDateAttribute(){return{kind:m.DateAttribute,container:null,pattern:null}}DateAttribute=this.RULE("DateAttribute",()=>{let t=this.push(this.createDateAttribute());this.CONSUME_ASSIGN1($g,n=>{this.tokenPayload(n,t,l.DateAttribute_DATE)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DateAttribute_OpenParen)});this.CONSUME_ASSIGN1(kr,n=>{this.tokenPayload(n,t,l.DateAttribute_PatternString);t.pattern=n.image});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DateAttribute_CloseParen)})});return this.pop()});createDefinedAttribute(){return{kind:m.DefinedAttribute,container:null,reference:null,position:null}}DefinedAttribute=this.RULE("DefinedAttribute",()=>{let t=this.push(this.createDefinedAttribute());this.CONSUME_ASSIGN1(WS,n=>{this.tokenPayload(n,t,l.DefinedAttribute_DEFINED)});this.OR2([{ALT:()=>{this.SUBRULE_ASSIGN1(this.MemberCall,{assign:n=>{t.reference=n}})}},{ALT:()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.DefinedAttribute_OpenParenRef)});this.SUBRULE_ASSIGN2(this.MemberCall,{assign:n=>{t.reference=n}});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.DefinedAttribute_CloseParenRef)})}}]);this.OPTION1(()=>{this.CONSUME_ASSIGN1(uS,n=>{this.tokenPayload(n,t,l.DefinedAttribute_POSITION)});this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.DefinedAttribute_OpenParenPos)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.position=n}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.DefinedAttribute_CloseParenPos)})});return this.pop()});createPictureAttribute(){return{kind:m.PictureAttribute,container:null,picture:null}}PictureAttribute=this.RULE("PictureAttribute",()=>{let t=this.push(this.createPictureAttribute());this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(LS,n=>{this.tokenPayload(n,t,l.PictureAttribute_PICTURE)})}},{ALT:()=>{this.CONSUME_ASSIGN1(CS,n=>{this.tokenPayload(n,t,l.PictureAttribute_WIDEPIC)})}}]);this.OPTION1(()=>{this.CONSUME_ASSIGN1(kr,n=>{this.tokenPayload(n,t,l.PictureAttribute_PictureString);t.picture=n.image})});return this.pop()});createDimensionsDataAttribute(){return{kind:m.DimensionsDataAttribute,container:null,dimensions:null}}DimensionsDataAttribute=this.RULE("DimensionsDataAttribute",()=>{let t=this.push(this.createDimensionsDataAttribute());this.OPTION1(()=>{this.CONSUME_ASSIGN1(sS,n=>{this.tokenPayload(n,t,l.DimensionsDataAttribute_DIMENSION)})});this.SUBRULE_ASSIGN1(this.Dimensions,{assign:n=>{t.dimensions=n}});return this.pop()});createTypeAttribute(){return{kind:m.TypeAttribute,container:null,type:null}}TypeAttribute=this.RULE("TypeAttribute",()=>{let t=this.push(this.createTypeAttribute());this.CONSUME_ASSIGN1(Hg,n=>{this.tokenPayload(n,t,l.TypeAttribute_TYPE)});this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.TypeAttribute_TypeId0);t.type=ln(t,n)})}},{ALT:()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.TypeAttribute_OpenParen)});this.CONSUME_ASSIGN2(u,n=>{this.tokenPayload(n,t,l.TypeAttribute_TypeId1);t.type=ln(t,n)});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.TypeAttribute_CloseParen)})}}]);return this.pop()});createOrdinalTypeAttribute(){return{kind:m.OrdinalTypeAttribute,container:null,type:null,byvalue:false}}OrdinalTypeAttribute=this.RULE("OrdinalTypeAttribute",()=>{let t=this.push(this.createOrdinalTypeAttribute());this.CONSUME_ASSIGN1(il,n=>{this.tokenPayload(n,t,l.OrdinalTypeAttribute_ORDINAL)});this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.OrdinalTypeAttribute_TypeId0);t.type=ln(t,n)})}},{ALT:()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.OrdinalTypeAttribute_OpenParen)});this.CONSUME_ASSIGN2(u,n=>{this.tokenPayload(n,t,l.OrdinalTypeAttribute_TypeId1);t.type=ln(t,n)});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.OrdinalTypeAttribute_CloseParen)})}}]);this.CONSUME_ASSIGN1(AS,n=>{this.tokenPayload(n,t,l.OrdinalTypeAttribute_ByValue);t.byvalue=true});return this.pop()});createReturnsAttribute(){return{kind:m.ReturnsAttribute,container:null,attrs:[]}}ReturnsAttribute=this.RULE("ReturnsAttribute",()=>{let t=this.push(this.createReturnsAttribute());this.CONSUME_ASSIGN1(al,n=>{this.tokenPayload(n,t,l.ReturnsAttribute_RETURNS)});this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.ReturnsAttribute_OpenParen)});this.MANY1(()=>{this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.ComputationDataAttribute,{assign:n=>{t.attrs.push(n)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.DateAttribute,{assign:n=>{t.attrs.push(n)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.ValueListAttribute,{assign:n=>{t.attrs.push(n)}})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.ValueRangeAttribute,{assign:n=>{t.attrs.push(n)}})}}])});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.ReturnsAttribute_CloseParen)});return this.pop()});createComputationDataAttribute(){return{kind:m.ComputationDataAttribute,container:null,type:null,dimensions:null}}ComputationDataAttribute=this.RULE("ComputationDataAttribute",()=>{let t=this.push(this.createComputationDataAttribute());this.CONSUME_ASSIGN($,n=>{this.tokenPayload(n,t,l.DefaultAttribute_Value);t.type=n.image});this.OPTION1(()=>{this.SUBRULE_ASSIGN1(this.Dimensions,{assign:n=>{t.dimensions=n}})});return this.pop()});createDefaultValueAttribute(){return{kind:m.DefaultValueAttribute,container:null,items:[]}}DefaultValueAttribute=this.RULE("DefaultValueAttribute",()=>{let t=this.push(this.createDefaultValueAttribute());this.CONSUME_ASSIGN(fs,n=>{this.tokenPayload(n,t,l.DefaultValueAttribute_VALUE)});this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.DefaultValueAttribute_OpenParen)});this.SUBRULE_ASSIGN1(this.DefaultValueAttributeItem,{assign:n=>{t.items.push(n)}});this.MANY(()=>{this.CONSUME_ASSIGN(ie,n=>{this.tokenPayload(n,t,l.DefaultValueAttribute_Comma)});this.SUBRULE_ASSIGN2(this.DefaultValueAttributeItem,{assign:n=>{t.items.push(n)}})});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.DefaultValueAttribute_CloseParen)});return this.pop()});createValueAttribute(){return{kind:m.ValueAttribute,container:null,value:null}}ValueAttribute=this.RULE("ValueAttribute",()=>{let t=this.push(this.createValueAttribute());this.CONSUME_ASSIGN(fs,n=>{this.tokenPayload(n,t,l.ValueAttribute_VALUE)});this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.ValueAttribute_OpenParen)});this.SUBRULE_ASSIGN(this.Expression,{assign:n=>{t.value=n}});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.ValueAttribute_CloseParen)});return this.pop()});createDefaultValueAttributeItem(){return{kind:m.DefaultValueAttributeItem,container:null,attributes:[]}}DefaultValueAttributeItem=this.RULE("DefaultValueAttributeItem",()=>{let t=this.push(this.createDefaultValueAttributeItem());this.AT_LEAST_ONE(()=>{this.SUBRULE_ASSIGN(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}})});return this.pop()});createValueListAttribute(){return{kind:m.ValueListAttribute,container:null,values:[]}}ValueListAttribute=this.RULE("ValueListAttribute",()=>{let t=this.push(this.createValueListAttribute());this.CONSUME_ASSIGN(oS,n=>{this.tokenPayload(n,t,l.ValueListAttribute_VALUELIST)});this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.ValueListAttribute_OpenParen)});this.OPTION(()=>{this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.values.push(n)}});this.MANY(()=>{this.CONSUME_ASSIGN(ie,n=>{this.tokenPayload(n,t,l.ValueListAttribute_Comma)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.values.push(n)}})})});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.ValueListAttribute_CloseParen)});return this.pop()});createValueListFromAttribute(){return{kind:m.ValueListFromAttribute,container:null,from:null}}ValueListFromAttribute=this.RULE("ValueListFromAttribute",()=>{let t=this.push(this.createValueListFromAttribute());this.CONSUME_ASSIGN(Jp,n=>{this.tokenPayload(n,t,l.ValueListFromAttribute_VALUELISTFROM)});this.SUBRULE_ASSIGN(this.LocatorCall,{assign:n=>{t.from=n}});return this.pop()});createValueRangeAttribute(){return{kind:m.ValueRangeAttribute,container:null,values:[]}}ValueRangeAttribute=this.RULE("ValueRangeAttribute",()=>{let t=this.push(this.createValueRangeAttribute());this.CONSUME_ASSIGN(tS,n=>{this.tokenPayload(n,t,l.ValueRangeAttribute_VALUERANGE)});this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.ValueRangeAttribute_OpenParen)});this.OPTION(()=>{this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.values.push(n)}});this.MANY(()=>{this.CONSUME_ASSIGN(ie,n=>{this.tokenPayload(n,t,l.ValueRangeAttribute_Comma)});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.values.push(n)}})})});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.ValueRangeAttribute_CloseParen)});return this.pop()});createLikeAttribute(){return{kind:m.LikeAttribute,container:null,reference:null}}LikeAttribute=this.RULE("LikeAttribute",()=>{let t=this.push(this.createLikeAttribute());this.CONSUME_ASSIGN(jg,n=>{this.tokenPayload(n,t,l.LikeAttribute_LIKE)});this.SUBRULE_ASSIGN(this.LocatorCall,{assign:n=>{t.reference=n}});return this.pop()});createHandleAttribute(){return{kind:m.HandleAttribute,container:null,size:null,type:null}}HandleAttribute=this.RULE("HandleAttribute",()=>{let t=this.push(this.createHandleAttribute());this.CONSUME_ASSIGN(eg,n=>{this.tokenPayload(n,t,l.HandleAttribute_HANDLE)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.HandleAttribute_OpenParenSize)});this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.HandleAttribute_SizeNumber);t.size=n.image});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.HandleAttribute_CloseParenSize)})});this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.HandleAttribute_TypeId0);t.type=ln(t,n)})}},{ALT:()=>{this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.HandleAttribute_OpenParenType)});this.CONSUME_ASSIGN2(u,n=>{this.tokenPayload(n,t,l.HandleAttribute_TypeId1);t.type=ln(t,n)});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.HandleAttribute_CloseParenType)})}}]);return this.pop()});createDimensions(){return{kind:m.Dimensions,container:null,dimensions:[]}}Dimensions=this.RULE("Dimensions",()=>{let t=this.push(this.createDimensions());this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.Dimensions_OpenParen)});this.OPTION(()=>{this.SUBRULE_ASSIGN1(this.DimensionBound,{assign:n=>{t.dimensions.push(n)}});this.MANY(()=>{this.CONSUME_ASSIGN(ie,n=>{this.tokenPayload(n,t,l.Dimensions_Comma)});this.SUBRULE_ASSIGN2(this.DimensionBound,{assign:n=>{t.dimensions.push(n)}})})});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.Dimensions_CloseParen)});return this.pop()});createDimensionBound(){return{kind:m.DimensionBound,container:null,lower:null,upper:null}}DimensionBound=this.RULE("DimensionBound",()=>{let t=this.push(this.createDimensionBound());this.SUBRULE_ASSIGN1(this.Bound,{assign:n=>{t.upper=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN(Ki,n=>{this.tokenPayload(n,t,l.DimensionBound_Colon)});this.SUBRULE_ASSIGN2(this.Bound,{assign:n=>{t.lower=t.upper;t.upper=n}})});return this.pop()});createBound(){return{kind:m.Bound,container:null,expression:null,refer:null}}Bound=this.RULE("Bound",()=>{let t=this.push(this.createBound());this.OR1([{ALT:()=>{this.CONSUME_ASSIGN(St,n=>{this.tokenPayload(n,t,l.Bound_Star);t.expression=n.image})}},{ALT:()=>{this.SUBRULE_ASSIGN(this.Expression,{assign:n=>{t.expression=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN(Ag,n=>{this.tokenPayload(n,t,l.Bound_REFER)});this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.Bound_OpenParen)});this.SUBRULE_ASSIGN(this.LocatorCall,{assign:n=>{t.refer=n}});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.Bound_CloseParen)})})}}]);return this.pop()});createEnvironmentAttribute(){return{kind:m.EnvironmentAttribute,container:null,items:[]}}EnvironmentAttribute=this.RULE("EnvironmentAttribute",()=>{let t=this.push(this.createEnvironmentAttribute());this.CONSUME_ASSIGN(Zc,n=>{this.tokenPayload(n,t,l.EnvironmentAttribute_ENVIRONMENT)});this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.EnvironmentAttribute_OpenParen)});this.MANY(()=>{this.SUBRULE_ASSIGN(this.EnvironmentAttributeItem,{assign:n=>{t.items.push(n)}});this.OPTION(()=>{this.CONSUME_ASSIGN(ie,n=>{this.tokenPayload(n,t,l.EnvironmentAttributeItem_Comma)})})});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.EnvironmentAttribute_CloseParen)});return this.pop()});createEnvironmentAttributeItem(){return{kind:m.EnvironmentAttributeItem,container:null,environment:null,args:[]}}EnvironmentAttributeItem=this.RULE("EnvironmentAttributeItem",()=>{let t=this.push(this.createEnvironmentAttributeItem());this.CONSUME_ASSIGN(u,n=>{this.tokenPayload(n,t,l.EnvironmentAttributeItem_Environment);t.environment=n.image});this.OPTION3(()=>{this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.EnvironmentAttributeItem_OpenParen)});this.OPTION2(()=>{this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.args.push(n)}});this.MANY1(()=>{this.OPTION1(()=>{this.CONSUME_ASSIGN(ie,n=>{this.tokenPayload(n,t,l.EnvironmentAttributeItem_Comma)})});this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.args.push(n)}})})});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.EnvironmentAttributeItem_CloseParen)})});return this.pop()});createEntryAttribute(){return{kind:m.EntryAttribute,container:null,limited:[],attributes:[],options:[],variable:[],returns:[],environmentName:[]}}EntryAttribute=this.RULE("EntryAttribute",()=>{let t=this.push(this.createEntryAttribute());this.MANY1(()=>{this.CONSUME_ASSIGN1(ms,n=>{this.tokenPayload(n,t,l.EntryAttribute_Limited0);t.limited.push(n.image)})});this.CONSUME_ASSIGN1(cl,n=>{this.tokenPayload(n,t,l.EntryAttribute_ENTRY)});this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.EntryAttribute_OpenParenAttribute)});this.SUBRULE_ASSIGN1(this.EntryDescription,{assign:n=>{t.attributes.push(n)}});this.MANY2(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.EntryAttribute_CommaAttribute)});this.SUBRULE_ASSIGN2(this.EntryDescription,{assign:n=>{t.attributes.push(n)}})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.EntryAttribute_CloseParenAttribute)})});this.MANY3(()=>{this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.Options,{assign:n=>{t.options.push(n)}})}},{ALT:()=>{this.CONSUME_ASSIGN1(rl,n=>{this.tokenPayload(n,t,l.EntryAttribute_Variable);t.variable.push(n.image)})}},{ALT:()=>{this.CONSUME_ASSIGN2(ms,n=>{this.tokenPayload(n,t,l.EntryAttribute_Limited1);t.limited.push(n.image)})}},{ALT:()=>{this.SUBRULE_ASSIGN1(this.ReturnsOption,{assign:n=>{t.returns.push(n)}})}},{ALT:()=>{this.CONSUME_ASSIGN1(nl,n=>{this.tokenPayload(n,t,l.EntryAttribute_EXTERNAL)});this.OPTION2(()=>{this.CONSUME_ASSIGN2(B,n=>{this.tokenPayload(n,t,l.EntryAttribute_OpenParenEnv)});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.environmentName.push(n)}});this.CONSUME_ASSIGN2(q,n=>{this.tokenPayload(n,t,l.EntryAttribute_CloseParenEnv)})})}}])});return this.pop()});createReturnsOption(){return{kind:m.ReturnsOption,container:null,returnAttributes:[]}}ReturnsOption=this.RULE("ReturnsOption",()=>{let t=this.push(this.createReturnsOption());this.CONSUME_ASSIGN(al,n=>{this.tokenPayload(n,t,l.ReturnsOption_RETURNS)});this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.ReturnsOption_OpenParen)});this.MANY(()=>{this.SUBRULE_ASSIGN(this.DeclarationAttribute,{assign:n=>{t.returnAttributes.push(n)}})});this.CONSUME_ASSIGN(q,n=>{this.tokenPayload(n,t,l.ReturnsOption_CloseParen)});return this.pop()});EntryDescription=this.OR_RULE("EntryDescription",()=>[this.EntryParameterDescription,this.EntryUnionDescription]);createEntryParameterDescription(){return{kind:m.EntryParameterDescription,container:null,attributes:[],star:false}}EntryParameterDescription=this.RULE("EntryParameterDescription",()=>{let t=this.push(this.createEntryParameterDescription());this.OR([{ALT:()=>{this.AT_LEAST_ONE(()=>{this.SUBRULE_ASSIGN1(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}})})}},{ALT:()=>{this.CONSUME_ASSIGN(St,n=>{this.tokenPayload(n,t,l.EntryParameterDescription_Star);t.star=true});this.MANY1(()=>{this.SUBRULE_ASSIGN2(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}})})}}]);return this.pop()});createEntryUnionDescription(){return{kind:m.EntryUnionDescription,container:null,init:null,attributes:[],prefixedAttributes:[]}}EntryUnionDescription=this.RULE("EntryUnionDescription",()=>{let t=this.push(this.createEntryUnionDescription());this.CONSUME_ASSIGN(ct,n=>{this.tokenPayload(n,t,l.EntryUnionDescription_InitNumber);t.init=n.image});this.MANY1(()=>{this.SUBRULE_ASSIGN(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}})});this.CONSUME_ASSIGN(ie,n=>{this.tokenPayload(n,t,l.EntryUnionDescription_Comma)});this.MANY2(()=>{this.SUBRULE_ASSIGN(this.PrefixedAttribute,{assign:n=>{t.prefixedAttributes.push(n)}})});return this.pop()});createPrefixedAttribute(){return{kind:m.PrefixedAttribute,container:null,level:null,attributes:[]}}PrefixedAttribute=this.RULE("PrefixedAttribute",()=>{let t=this.push(this.createPrefixedAttribute());this.CONSUME_ASSIGN(ct,n=>{this.tokenPayload(n,t,l.PrefixedAttribute_LevelNumber);t.level=n.image});this.MANY(()=>{this.SUBRULE_ASSIGN(this.DeclarationAttribute,{assign:n=>{t.attributes.push(n)}})});return this.pop()});ProcedureParameter=this.RULE("ProcedureParameter",()=>{let t=this.push(Zm());this.CONSUME_ASSIGN(u,n=>{this.tokenPayload(n,t,l.ProcedureParameter_Id);t.name=n.image;t.nameToken=n});return this.pop()});createReferenceItem(){return{kind:m.ReferenceItem,container:null,ref:null,dimensions:null}}ReferenceItem=this.RULE("ReferenceItem",()=>{let t=this.push(this.createReferenceItem());this.CONSUME_ASSIGN(u,n=>{this.tokenPayload(n,t,l.ReferenceItem_Ref);t.ref=ln(t,n)});this.OPTION(()=>{this.SUBRULE_ASSIGN(this.Dimensions,{assign:n=>{t.dimensions=n}})});return this.pop()});BinaryExpression=this.RULE("BinaryExpression",()=>{const t=this.push({infix:true,items:[],operators:[]});this.SUBRULE_ASSIGN1(this.PrimaryExpression,{assign:n=>{t.items.push(n)}});this.MANY(()=>{this.CONSUME_ASSIGN(it,n=>{this.tokenPayload(n,t,l.BinaryExpression_Operator);t.operators.push(n.tokenType.name)});this.SUBRULE_ASSIGN2(this.PrimaryExpression,{assign:n=>{t.items.push(n)}})});return this.pop()});Expression=this.BinaryExpression;PrimaryExpression=this.OR_RULE("PrimaryExpression",()=>[this.Literal,this.ParenthesizedExpression,this.UnaryExpression,this.LocatorCall]);createParenthesizedExpression(){return{kind:m.Parenthesis,container:null,value:null,do:null}}ParenthesizedExpression=this.RULE("ParenthesizedExpression",()=>{let t=this.push(this.createParenthesizedExpression());this.CONSUME_ASSIGN(B,n=>{this.tokenPayload(n,t,l.ParenthesizedExpression_OpenParen)});this.SUBRULE_ASSIGN(this.Expression,{assign:n=>{t.value=n}});this.OPTION1(()=>{this.CONSUME_ASSIGN(Sl,n=>{this.tokenPayload(n,t,l.ParenthesizedExpression_DO)});this.SUBRULE_ASSIGN(this.DoType3,{assign:n=>{t.do=n}})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.ParenthesizedExpression_CloseParen)});this.OPTION2(()=>{const n=t;const r=this.replace(this.createLiteral());this.ACTION(()=>{r.multiplier=n});this.SUBRULE_ASSIGN(this.LiteralValue,{assign:i=>{r.value=i}})});return this.pop()});createMemberCall(){return{kind:m.MemberCall,container:null,element:null,previous:null}}MemberCall=this.RULE("MemberCall",()=>{let t=this.push(this.createMemberCall());this.SUBRULE_ASSIGN1(this.ReferenceItem,{assign:n=>{t.element=n}});this.MANY1(()=>{this.ACTION(()=>{const n=t;t=this.replace(this.createMemberCall());t.previous=n});this.CONSUME_ASSIGN1(gl,n=>{this.tokenPayload(n,t,l.MemberCall_Dot)});this.SUBRULE_ASSIGN2(this.ReferenceItem,{assign:n=>{t.element=n}})});return this.pop()});createLocatorCall(){return{kind:m.LocatorCall,container:null,element:null,previous:null,pointer:false,handle:false}}LocatorCall=this.RULE("LocatorCall",()=>{let t=this.push(this.createLocatorCall());this.SUBRULE_ASSIGN1(this.MemberCall,{assign:n=>{t.element=n}});this.MANY1(()=>{this.ACTION(()=>{const n=t;t=this.replace(this.createLocatorCall());t.previous=n});this.OR1([{ALT:()=>{this.CONSUME_ASSIGN1(hd,n=>{this.tokenPayload(n,t,l.LocatorCall_Pointer);t.pointer=true})}},{ALT:()=>{this.CONSUME_ASSIGN1(md,n=>{this.tokenPayload(n,t,l.LocatorCall_Handle);t.handle=true})}}]);this.SUBRULE_ASSIGN2(this.MemberCall,{assign:n=>{t.element=n}})});return this.pop()});createProcedureCall(){return{kind:m.ProcedureCall,container:null,procedure:null,args1:null,args2:null}}ProcedureCall=this.RULE("ProcedureCall",()=>{let t=this.push(this.createProcedureCall());this.CONSUME_ASSIGN(u,r=>{this.tokenPayload(r,t,l.ProcedureCall_ProcedureRef);t.procedure=ln(t,r)});let n=0;this.MANY({DEF:()=>{this.SUBRULE_ASSIGN(this.ProcedureCallArgs,{assign:r=>{if(n===0){t.args1=r}else{t.args2=r}}});n++},GATE:()=>n<2});return this.pop()});createProcedureCallArgs(){return{kind:m.ProcedureCallArgs,container:null,list:[]}}ProcedureCallArgs=this.RULE("ProcedureCallArgs",()=>{const t=this.push(this.createProcedureCallArgs());this.OPTION1(()=>{this.CONSUME_ASSIGN1(B,n=>{this.tokenPayload(n,t,l.ProcedureCallArgs_OpenParen)});this.OPTION2(()=>{this.OR1([{ALT:()=>{this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.list.push(n)}})}},{ALT:()=>{this.CONSUME_ASSIGN1(St,n=>{this.tokenPayload(n,t,l.ProcedureCallArgs_Star0);t.list.push(n.image)})}}]);this.MANY1(()=>{this.CONSUME_ASSIGN1(ie,n=>{this.tokenPayload(n,t,l.ProcedureCallArgs_Comma)});this.OR2([{ALT:()=>{this.SUBRULE_ASSIGN2(this.Expression,{assign:n=>{t.list.push(n)}})}},{ALT:()=>{this.CONSUME_ASSIGN2(St,n=>{this.tokenPayload(n,t,l.ProcedureCallArgs_Star1);t.list.push(n.image)})}}])})});this.CONSUME_ASSIGN1(q,n=>{this.tokenPayload(n,t,l.ProcedureCallArgs_CloseParen)})});return this.pop()});createLabelReference(){return{kind:m.LabelReference,container:null,label:null}}LabelReference=this.RULE("LabelReference",()=>{let t=this.push(this.createLabelReference());this.CONSUME_ASSIGN1(u,n=>{this.tokenPayload(n,t,l.LabelReference_LabelRef);t.label=ln(t,n)});return this.pop()});createUnaryExpression(){return{kind:m.UnaryExpression,container:null,op:null,expr:null}}UnaryExpression=this.RULE("UnaryExpression",()=>{let t=this.push(this.createUnaryExpression());this.CONSUME_ASSIGN1(wa,n=>{this.tokenPayload(n,t,l.UnaryExpression_Operator);t.op=n.image});this.SUBRULE_ASSIGN1(this.Expression,{assign:n=>{t.expr=n}});return this.pop()});createLiteral(){return{kind:m.Literal,container:null,multiplier:null,value:null}}Literal=this.RULE("Literal",()=>{let t=this.push(this.createLiteral());this.SUBRULE_ASSIGN1(this.LiteralValue,{assign:n=>{t.value=n}});return this.pop()});LiteralValue=this.OR_RULE("LiteralValue",()=>[this.StringLiteral,this.NumberLiteral]);StringLiteral=this.RULE("StringLiteral",()=>{let t=this.push(ef());this.CONSUME_ASSIGN1(kr,n=>{this.tokenPayload(n,t,l.StringLiteral_ValueString);t.value=n.image});return this.pop()});createNumberLiteral(){return{kind:m.NumberLiteral,container:null,value:null}}NumberLiteral=this.RULE("NumberLiteral",()=>{let t=this.push(this.createNumberLiteral());this.CONSUME_ASSIGN1(ct,n=>{this.tokenPayload(n,t,l.NumberLiteral_ValueNumber);t.value=n.image});return this.pop()});createFQN(){return""}FQN=this.RULE("FQN",()=>{let t=this.push(this.createFQN());this.CONSUME_ASSIGN1(u,n=>{t+=n.image});this.MANY1(()=>{this.CONSUME_ASSIGN1(gl,n=>{t+="."});this.CONSUME_ASSIGN2(u,n=>{t+=n.image})});return this.pop()})}const Do=new Nv;const kv="\n".charCodeAt(0);class Dv{processMargins(t){let n={start:2,end:72};if(t.result&&t.result.options.margins){const a=t.result.options.margins.m;const s=t.result.options.margins.n;if(!isNaN(a)){n.start=a}if(!isNaN(s)){n.end=s}}const r=this.splitLines(t.text);const i=r.map(a=>this.adjustLine(a,n));return i.join("")}splitLines(t){const n=[];for(let r=0;r<t.length;r++){const i=r;while(r<t.length&&t.charCodeAt(r)!==kv){r++}n.push(t.substring(i,r+1))}return n}adjustLine(t,n){let r="";if(t.endsWith("\r\n")){r="\r\n"}else if(t.endsWith("\n")){r="\n"}const i=n.start-1;const a=t.length-r.length;if(a<i){return" ".repeat(a)+r}const s=n.end;const o=" ".repeat(i);let c="";if(a>s){c=" ".repeat(a-s)}return o+t.substring(i,Math.min(s,a))+c+r}}const vv=se("id",/[a-z_][a-z_0-9]*/iy);function se(e,t){return p({name:e,pattern:t})}const N={Procedure:se("procedure",/PROC(EDURE)?/iy),Statement:se("statement",/STATEMENT/iy),Returns:se("returns",/RETURNS/iy),Return:se("return",/RETURN/iy),Leave:se("leave",/LEAVE/iy),By:se("by",/BY/iy),Iterate:se("iterate",/ITERATE/iy),Activate:se("activate",/ACT(IVATE)?/iy),If:se("if",/IF/iy),Go:se("go",/GO/iy),To:se("to",/TO/iy),Loop:se("loop",/LOOP|FOREVER/iy),While:se("while",/WHILE/iy),Until:se("until",/UNTIL/iy),Do:se("do",/DO/iy),End:se("end",/END/iy),Then:se("then",/THEN/iy),Else:se("else",/ELSE/iy),Deactivate:se("deactivate",/DEACT(IVATE)?/iy),Declare:se("declare",/DCL|DECLARE/iy),Builtin:se("builtin",/BUILTIN/iy),Entry:se("builtin",/ENTRY/iy),Character:se("character",/CHAR(ACTER)?/iy),Include:se("include",/INCLUDE/iy),Internal:se("internal",/INT(ERNAL)?/iy),External:se("external",/EXT(ERNAL)?/iy),Directive:se("directive",/PAGE|PRINT|NOPRINT|PUSH|POP/iy),Skip:se("skip",/SKIP/iy),Scan:se("scan",/SCAN/iy),Rescan:se("rescan",/RESCAN/iy),Noscan:se("noscan",/NOSCAN/iy),Fixed:se("fixed",/FIXED/iy),LParen:se("lparen",/\(/iy),RParen:se("rparen",/\)/iy),Semicolon:se("semicolon",/;/iy),Colon:se("colon",/:/iy),Comma:se("comma",/,/iy),Percentage:se("percentage",/%/iy),Plus:se("+",/\+/iy),Minus:se("-",/\-/iy),Divide:se("/",/\//iy),Power:se("**",/\*\*/iy),Multiply:se("*",/\*/iy),Concat:se("||",/\|\|/iy),Or:se("|",/\|/iy),And:se("&",/\&/iy),Eq:se("=",/=/iy),Neq:se("<>",/<>/iy),LE:se("<=",/<=/iy),GE:se(">=",/>=/iy),GT:se(">",/>/iy),LT:se("<",/</iy),String:se("string",/("(""|\\.|[^"\\])*"|'(''|\\.|[^'\\])*')([xX]|[aA]|[eE]|[xX][uU]|[xX][nN]|[bB]4|[bB]3|[bB][xX]|[bB]|[gG][xX]|[gG]|[uU][xX]|[wW][xX]|[xX]|[iI])*/y),Id:vv,Number:se("number",/[0-9]+/iy)};new ge(Object.values(N),{skipValidations:true});const Lv=[N.Power,N.Multiply,N.Divide,N.Plus,N.Minus,N.Concat,N.LT,N.LE,N.GT,N.GE,N.Eq,N.Neq,N.And,N.Or];const Cv=Object.values(N);class Uv{vocabulary;tokenTypeDictionary;hiddenTokenTypes;numberTokenType;idTokenType;normalTokenTypePicker;constructor(t,n){this.vocabulary=n;this.tokenTypeDictionary={};for(const i of this.vocabulary){this.tokenTypeDictionary[i.name]=i;if(i.PATTERN instanceof RegExp&&!i.PATTERN.sticky){i.PATTERN=new RegExp(i.PATTERN.source,i.PATTERN.flags+"y")}}this.hiddenTokenTypes=this.vocabulary.filter(i=>i.GROUP===ge.SKIPPED);const r=[N.Percentage].concat(this.vocabulary);this.numberTokenType=ct;this.idTokenType=u;this.normalTokenTypePicker=t.optimize(r)}skipHiddenTokens(t){while(this.hiddenTokenTypes.some(n=>t.tryConsume(n)!==void 0));}tokenizePliTokensUntilSemicolon(t){let n=void 0;const r=[];do{n=this.getNextPliToken(t);if(n){r.push(n)}}while(n&&n.image!==";");return r}getNextPliToken(t){if(t.eof()){return void 0}for(const n of this.normalTokenTypePicker.pickTokenTypes(t.currentChar())){const r=t.tryConsume(n);if(!r){continue}return r}return void 0}tokenizePreprocessorTokensUntilSemicolon(t){const n=[];let r;do{r=false;this.skipHiddenTokens(t);for(const i of Cv){const a=t.tryConsume(i);if(a){n.push(a);r=true;if(a.image===";"){return n}break}}}while(r);return n}}var Be;(function(e){function t(o){return[Hn(N.Number,o.toString(),0,0,0,0,0,0)]}e.Number=t;function n(){return t(1)}e.True=n;function r(){return t(0)}e.False=r;function i(o,c){return o.name.toLocaleUpperCase()===c.name.toLocaleUpperCase()}e.sameType=i;e.add=s((o,c)=>o+c);e.subtract=s((o,c)=>o-c);e.multiply=s((o,c)=>o*c);e.divide=s((o,c)=>o/c);e.power=s((o,c)=>Math.pow(o,c));e.concat=(o,c)=>o.concat(c);e.lt=a((o,c)=>o<c);e.le=a((o,c)=>o<=c);e.gt=a((o,c)=>o>c);e.ge=a((o,c)=>o>=c);e.eq=a((o,c)=>o===c);e.neq=a((o,c)=>o!==c);e.and=s((o,c)=>o&c);e.or=s((o,c)=>o|c);function a(o){return function c(h,f){if(h.length!==1||!i(h[0].tokenType,N.Number)){return[]}const S=parseFloat(h[0].image);if(f.length!==1||!i(f[0].tokenType,N.Number)){return[]}const g=parseFloat(f[0].image);return o(S,g)?e.True():e.False()}}function s(o){return function c(h,f){if(h.length!==1||!i(h[0].tokenType,N.Number)){return[]}const S=parseFloat(h[0].image);if(f.length!==1||!i(f[0].tokenType,N.Number)){return[]}const g=parseFloat(f[0].image);return t(o(S,g))}}})(Be||(Be={}));var de;(function(e){function t(){return{type:"return"}}e.ret=t;function n(I){return{type:"compute",operator:I}}e.compute=n;function r(I){return{type:"get",variableName:I}}e.get=r;function i(){return{type:"scan"}}e.scan=i;function a(){return{type:"print"}}e.print=a;function s(I,M){return{type:"activate",name:I,scanMode:M}}e.activate=s;function o(I){return{type:"deactivate",name:I}}e.deactivate=o;function c(I){return{type:"set",name:I}}e.set=c;function h(){return{type:"concat"}}e.concat=h;function f(I){return{type:"push",value:I}}e.push=f;function S(){return{type:"halt"}}e.halt=S;function g(I,M=void 0){return{type:"branchIfNEQ",address:I,ifStatement:M}}e.branchIfNotEqual=g;function _(I){return{type:"goto",address:I}}e.goto=_})(de||(de={}));const Mv=5e3;class wv{plainState;idTokenType;evaluationResults;goToCounter=new Map;_halt=false;constructor(t,n){this.plainState=Gv(t);this.idTokenType=n;this.evaluationResults=new Map}getOutput(){return this.plainState.output}goTo(t){const n=t(this.plainState.programCounter);if(n>=0&&n<this.plainState.program.length){this.plainState={...this.plainState,programCounter:n};const r=this.goToCounter.get(n)??0;this.goToCounter.set(n,r+1);if(r>Mv){this._halt=true;console.log("Long running preprocessor code detected. Stopping.")}}}get halt(){return this._halt||this.currentInstruction.type==="halt"}get currentInstruction(){return this.plainState.program[this.plainState.programCounter]}hasVariable(t){return In.hasVariable(this.plainState,t)}getVariable(t){return In.getVariable(this.plainState,t)}activate(t,n="RESCAN"){if(In.hasVariable(this.plainState,t)){const r=In.getVariable(this.plainState,t);Vn.assignVariable(this.plainState,t,{...r,scanMode:n,active:true})}else{Vn.assignVariable(this.plainState,t,{dataType:"CHARACTER",scanMode:n,value:[],active:true})}}deactivate(t){if(In.hasVariable(this.plainState,t)){const n=In.getVariable(this.plainState,t);Vn.assignVariable(this.plainState,t,{...n,active:false})}else{Vn.assignVariable(this.plainState,t,{dataType:"CHARACTER",scanMode:"RESCAN",value:[],active:false})}}assign(t,n){if(In.hasVariable(this.plainState,t)){const r=In.getVariable(this.plainState,t);Vn.assignVariable(this.plainState,t,{...r,value:n})}else{Vn.assignVariable(this.plainState,t,{dataType:typeof n==="string"?"CHARACTER":"FIXED",scanMode:"RESCAN",value:n,active:false})}}declare(t,n){Vn.assignVariable(this.plainState,t,n)}isIdentifier(t){return t.tokenType.name==="ID"||t.tokenType.CATEGORIES&&t.tokenType.CATEGORIES.some(n=>n.name==="ID")}step(){const t=this.currentInstruction;switch(t.type){case"halt":break;case"activate":{if(this.hasVariable(t.name)){const n=this.plainState.variables[t.name];n.active=true;if(t.scanMode){n.scanMode=t.scanMode}}else{this.plainState.variables[t.name]={active:true,dataType:"CHARACTER",scanMode:t.scanMode??"RESCAN",value:[]}}this.goTo(n=>n+1);break}case"deactivate":{if(this.hasVariable(t.name)){this.plainState.variables[t.name].active=false}else{this.plainState.variables[t.name]={active:false,dataType:"CHARACTER",scanMode:"RESCAN",value:[]}}this.goTo(n=>n+1);break}case"compute":{if(this.plainState.stack.length>=2){const n=this.plainState.stack.pop();const r=this.plainState.stack.pop();let i=[];switch(t.operator){case"+":i=Be.add(r,n);break;case"-":i=Be.subtract(r,n);break;case"*":i=Be.multiply(r,n);break;case"/":i=Be.divide(r,n);break;case"**":i=Be.power(r,n);break;case"||":i=Be.concat(r,n);break;case"<":i=Be.lt(r,n);break;case"<=":i=Be.le(r,n);break;case">":i=Be.gt(r,n);break;case">=":i=Be.ge(r,n);break;case"=":i=Be.eq(r,n);break;case"<>":i=Be.neq(r,n);break;case"&":i=Be.and(r,n);break;case"|":i=Be.or(r,n);break;default:console.log("Found unexpected preprocessor operator: ",t.operator)}this.plainState.stack.push(i)}this.goTo(n=>n+1);break}case"get":{if(t.variableName in this.plainState.variables){this.plainState.stack.push(this.plainState.variables[t.variableName].value)}this.goTo(n=>n+1);break}case"set":{if(this.plainState.stack.length>0){const n=this.plainState.stack.pop();if(!this.hasVariable(t.name)){this.plainState.variables[t.name]={active:false,dataType:"CHARACTER",scanMode:"RESCAN",value:[]}}this.plainState.variables[t.name].value=n}this.goTo(n=>n+1);break}case"push":{this.plainState.stack.push(t.value);this.goTo(n=>n+1);break}case"scan":{const n=this.plainState.stack.pop();this.plainState.stack.push(this.scan(n));this.goTo(r=>r+1);break}case"concat":{const n=this.plainState.stack.pop();const r=this.plainState.stack.pop();this.plainState.stack.push(this.concat(r,n));this.goTo(i=>i+1);break}case"print":{if(this.plainState.stack.length>0){const n=this.plainState.stack.pop();this.plainState.output.all.push(...n)}this.goTo(n=>n+1);break}case"goto":{this.goTo(()=>t.address);break}case"branchIfNEQ":{const n=this.plainState.stack.pop();const r=this.plainState.stack.pop();if(this.areEqual(r,n)){this.goTo(i=>i+1);if(t.ifStatement){this.evaluationResults.set(t.ifStatement,true)}}else{this.goTo(()=>t.address);if(t.ifStatement){this.evaluationResults.set(t.ifStatement,false)}}break}case"return":{break}default:rA()}}getEvaluationResults(){return this.evaluationResults}areEqual(t,n){if(t.length!==n.length){return false}return t.every((r,i)=>{const a=n[i];return r.image===a.image&&r.tokenType.name.toLowerCase()===a.tokenType.name.toLowerCase()})}concat(t,n){if(t.length===0){return n}else if(n.length===0){return t}else{const r=t[t.length-1];const i=n[0];if(this.isIdentifier(r)&&(this.isIdentifier(i)||Be.sameType(i.tokenType,N.Number))){const a=t.slice(0,t.length-1);const s=[Hn(this.idTokenType,r.image+i.image,NaN,NaN,NaN,NaN,NaN,NaN)];const o=n.slice(1);return a.concat(s).concat(o)}else{return t.concat(n)}}}scan(t){const n=new Set;const r=new Set;const i=(a,s)=>{return a.flatMap(o=>{if(this.isIdentifier(o)&&s.has(o.image)){const c=this.getVariable(o.image);return i(c.value,r)}return[o]})};for(const[a,s]of Object.entries(this.plainState.variables)){if(s.active){n.add(a);if(s.scanMode==="RESCAN"){r.add(a)}}}return i(t,n)}}const Gv=e=>({program:e,stack:[],output:{all:[],fileTokens:{}},programCounter:0,variables:{}});var In;(function(e){function t(r,i){return i in r.variables}e.hasVariable=t;function n(r,i){return r.variables[i]}e.getVariable=n})(In||(In={}));var Vn;(function(e){function t(n,r,i){n.variables[r]=i}e.assignVariable=t})(Vn||(Vn={}));class Fv{run(t,n){const r=new wv(t.instructions,n);while(!r.halt){r.step()}return{output:r.getOutput(),evaluationResults:r.getEvaluationResults()}}}const vo=[];function Ld(e){if(vo[e.tokenTypeIdx]){return vo[e.tokenTypeIdx]}const t=e.PATTERN;let n;if(t instanceof RegExp){n=(r,i)=>{t.lastIndex=i;const a=t.exec(r);return a?Lo(e,a[0],r,i):void 0}}else if(typeof t==="function"){const r=[];const i={};n=(a,s)=>{const o=t(a,s,r,i);return o?Lo(e,o[0],a,s):void 0}}else if(typeof t==="string"){const r=t.length;n=(i,a)=>{for(let s=0;s<r;s++){if((i.charCodeAt(s+a)|32)!==(t.charCodeAt(s)|32)){return void 0}}return Lo(e,t,i,a)}}else{throw new Error(`Token type "${e.name}" does not have a valid pattern.`)}vo[e.tokenTypeIdx]=n;return n}function Lo(e,t,n,r){if(e.LONGER_ALT){const i=Array.isArray(e.LONGER_ALT)?e.LONGER_ALT:[e.LONGER_ALT];if(i.some(a=>xv(a,t,n,r))){return void 0}}return t}function xv(e,t,n,r){const i=Ld(e);const a=i(n,r);return a!==void 0&&a.length>t.length&&a.startsWith(t)}class Cd{plainState;constructor(t,n){this.plainState=Bv(t,n)}currentChar(){return this.eof()?-1:this.plainState.text.charCodeAt(this.plainState.offset)}eof(){return tr.eof(this.plainState)}position(){return tr.position(this.plainState)}tryConsume(t){const n=this.canConsume(t);if(!n){return void 0}return this.emit(n,t)}emit(t,n){const r=tr.position(this.plainState);this.advanceScan(t);const i=tr.position(this.plainState);const a=Hn(n,t,r,i-1,NaN,NaN,NaN,NaN);a.payload={uri:this.plainState.uri,kind:-1,element:null};return a}canConsume(t){if(tr.eof(this.plainState)){return void 0}const{offset:n,text:r}=this.plainState;const i=Ld(t);return i(r,n)}handleLongerAlternative(t,n){if(t.LONGER_ALT){const r=Array.isArray(t.LONGER_ALT)?t.LONGER_ALT:[t.LONGER_ALT];if(r.some(i=>this.hasLongerAlternative(i,n))){return void 0}}return n}hasLongerAlternative(t,n){const r=this.canConsume(t);return r!==void 0&&r.length>n.length}advanceLines(t){if(tr.eof(this.plainState)){return}const{text:n,offset:r}=this.plainState;const i=aa.advanceLines(r,n,t);aa.advanceCharacters(this.plainState,i-r)}advanceScan(t){aa.advanceCharacters(this.plainState,t.length)}}const Bv=(e,t)=>{return{tokens:[],text:e,length:e.length,offset:0,uri:t}};var tr;(function(e){function t(r){return r.offset>=r.text.length}e.eof=t;function n(r){return r.offset}e.position=n})(tr||(tr={}));var aa;(function(e){function t(a,s){a.offset+=s}e.advanceCharacters=t;const n="\n".charCodeAt(0);function r(a,s,o){while(true){const c=s.charCodeAt(a);if(c===n){o--;if(o<=0){return a+1}}if(isNaN(c)){return a}a++}}e.advanceLines=r;function i(a,s,o){const c=/\r?\n/y;for(;a<s.length&&o(a);){c.lastIndex=a;const h=c.exec(s);if(h){a+=h[0].length}else{a++}}return a}e.countNewLinesWhile=i})(aa||(aa={}));class ea{_uri;_range;_message;get uri(){return this._uri}get range(){return this._range}get message(){return this._message}constructor(t,n,r){this._message=t;if("start"in n){this._range=n}else{this._range={start:n.startOffset,end:n.endOffset}}this._uri=r}}class qv{lexer;lexerState;tokens;perFileTokens={};index;uri;location=[];constructor(t,n,r){this.lexer=t;this.lexerState=new Cd(n,r);this.tokens=[];this.index=0;this.uri=r}consumeUntil(t){const n=[];while(!this.eof&&this.current&&!t(this.current)){n.push(this.current);this.index++}if(this.current&&t(this.current)){n.push(this.current);this.index++}return n}advanceLines(t){this.lexerState.advanceLines(t)}push(t){this.location.push(t)}top(){if(this.location.length>0){return this.location[this.location.length-1]}return void 0}pop(){this.location.pop()}get current(){return this.eof?void 0:this.tokens[this.index]}get last(){return this.eof?this.tokens.length===0?void 0:this.tokens[this.tokens.length-1]:this.tokens[this.index-1]}get eof(){if(this.index>=this.tokens.length&&!this.lexerState.eof()){this.fetchNextChunkOfTokens()}return this.index>=this.tokens.length}canConsume(...t){if(this.index+t.length-1>=this.tokens.length){if(!this.lexerState.eof()){this.fetchNextChunkOfTokens()}}if(this.index+t.length-1>=this.tokens.length){return false}return t.every((n,r)=>Be.sameType(n,this.tokens[this.index+r].tokenType))}fetchNextChunkOfTokens(){this.lexer.skipHiddenTokens(this.lexerState);if(this.isInProcedure()){const t=this.lexer.tokenizePreprocessorTokensUntilSemicolon(this.lexerState);this.tokens.push(...t)}else if(this.isOnlyInStatement()){if(this.lexerState.canConsume(N.Percentage)){const t=this.lexer.tokenizePreprocessorTokensUntilSemicolon(this.lexerState);this.tokens.push(...t)}else{const t=this.lexer.tokenizePliTokensUntilSemicolon(this.lexerState);this.tokens.push(...t)}}}isOnlyInStatement(){return this.location.length===0||this.location.every(t=>t==="in-statement")}isInProcedure(){return this.location.some(t=>t==="in-procedure")}tryConsume(t,n,r){if(!this.canConsume(r)){return false}this.current.payload={uri:this.uri,kind:n,element:t};this.index++;return true}consume(t,n,r){const i=this.current;if(!this.canConsume(r)){const a=this.tokens.slice(this.index,this.index+1).map(o=>o.tokenType.name??"???").join(", ");const s=`Expected token type '${r.name}', got '${a}' instead.`;throw new ea(s,i||this.last,this.uri)}i.payload={uri:this.uri,kind:n,element:t};this.index++;return i}canConsumeKeyword(...t){if(!this.isInProcedure()){t=[N.Percentage,...t]}return this.canConsume(...t)}tryConsumeKeyword(t,n,r){const i=!this.isInProcedure();const a=this.index;if(i){if(!this.canConsume(N.Percentage)){return false}this.index++}if(!this.canConsume(r)){this.index=a;return false}this.index=a;if(i){this.consume(t,l.Percentage,N.Percentage)}this.consume(t,n,r);return true}consumeKeyword(t,n,r){if(!this.isInProcedure()){this.consume(t,l.Percentage,N.Percentage)}return this.consume(t,n,r)}}class Wv{lexer;constructor(t){this.lexer=t}initializeState(t,n){return new qv(this.lexer,t,n)}start(t){const n=[];const r=[];while(!t.eof){try{if(t.isInProcedure()||t.canConsume(N.Percentage)){const i=this.statement(t);if(i.value?.kind===m.IncludeDirective){r.push(...i.value.items.flatMap(a=>a.result?.errors??[]))}n.push(i)}else{n.push(this.consumeTokenStatement(t))}}catch(i){if(i instanceof ea){r.push(i)}else{throw i}}}t.perFileTokens[t.uri.toString()]=t.tokens;return{statements:n,errors:r,perFileTokens:t.perFileTokens}}consumeTokenStatement(t){const n=K_();n.tokens=t.consumeUntil(i=>i.image===";");const r=Oh();r.value=n;return r}statement(t){if(t.isOnlyInStatement()){if(t.tryConsume(void 0,l.Percentage,N.Percentage)){t.push("in-statement");try{return this.commonStatement(t)}finally{t.pop()}}else{return this.consumeTokenStatement(t)}}else{return this.commonStatement(t)}}commonStatement(t){const n=Oh();while(t.canConsume(N.Id,N.Colon)){const i=hE();const a=t.consume(i,l.LabelPrefix_Name,N.Id);i.name=a.image;i.nameToken=a;t.consume(i,l.LabelPrefix_Colon,N.Colon);n.labels.push(i)}let r=void 0;switch(t.current?.tokenType){case N.Activate:r=this.activateStatement(t);break;case N.Deactivate:r=this.deactivateStatement(t);break;case N.Declare:r=this.declareStatement(t);break;case N.Directive:r=this.directive(t);break;case N.Skip:r=this.skipStatement(t);break;case N.Include:r=this.includeStatement(t);break;case N.Id:r=this.assignmentStatement(t);break;case N.If:r=this.ifStatement(t);break;case N.Do:r=this.doStatement(t);break;case N.Go:r=this.goToStatement(t);break;case N.Leave:r=this.leaveStatement(t);break;case N.Iterate:r=this.iterateStatement(t);break;default:if(t.isOnlyInStatement()){if(t.current?.tokenType===N.Procedure){r=this.procedureStatement(t)}}else{const i=NE();if(t.tryConsume(i,l.ReturnStatement_RETURN,N.Return)){t.consume(i,l.ReturnStatement_OpenParen,N.LParen);i.expression=this.expression(t);r=i;t.consume(i,l.ReturnStatement_CloseParen,N.RParen);t.consume(i,l.ReturnStatement_Semicolon,N.Semicolon)}}}if(r===void 0){throw new ea("Unexpected token '"+t.current?.image+"'.",t.current||t.last,t.uri)}n.value=r;return n}procedureStatement(t){const n=Km();t.push("in-procedure");t.consume(n,l.ProcedureStatement_PROCEDURE,N.Procedure);if(t.tryConsume(n,l.ProcedureStatement_OpenParenParams,N.LParen)){do{const a=Zm();const s=t.consume(a,l.ProcedureParameter_Id,N.Id);a.name=s.image;a.nameToken=s;n.parameters.push(a)}while(t.tryConsume(n,l.ProcedureStatement_Comma,N.Comma));t.consume(n,l.ProcedureStatement_CloseParenParams,N.RParen)}n.statement=t.tryConsume(n,l.ProcedureStatement_STATEMENT,N.Statement);const r=bE();if(t.tryConsume(r,l.ReturnsOption_RETURNS,N.Returns)){t.consume(r,l.ReturnsOption_OpenParen,N.LParen);let a=void 0;const s=Ah();if(t.tryConsume(s,l.DefaultAttribute_Value,N.Character)){a="character"}else if(t.tryConsume(s,l.DefaultAttribute_Value,N.Fixed)){a="fixed"}if(a){s.type=a;r.returnAttributes.push(s)}t.consume(r,l.ReturnsOption_CloseParen,N.RParen);n.options.push(r)}t.consume(n,l.ProcedureStatement_Semicolon0,N.Semicolon);const i=this.statements(t);n.statements=i;t.consume(n,l.ProcedureStatement_PROCEDURE_END,N.End);t.consume(n,l.ProcedureStatement_Semicolon1,N.Semicolon);t.pop();return n}iterateStatement(t){const n=uE();t.consume(n,l.IterateStatement_ITERATE,N.Iterate);if(t.canConsume(N.Id)){n.label=this.labelReference(t)}t.consume(n,l.IterateStatement_Semicolon,N.Semicolon);return n}leaveStatement(t){const n=fE();t.consume(n,l.LeaveStatement_LEAVE,N.Leave);if(t.canConsume(N.Id)){n.label=this.labelReference(t)}t.consume(n,l.LeaveStatement_Semicolon,N.Semicolon);return n}goToStatement(t){const n=sE();t.consume(n,l.GoToStatement_GO,N.Go);t.consumeKeyword(n,l.GoToStatement_TO,N.To);n.label=this.labelReference(t);t.consume(n,l.GoToStatement_Semicolon,N.Semicolon);return n}labelReference(t){const n=mE();const r=t.consume(n,l.LabelReference_LabelRef,N.Id);n.label=ln(n,r,true);return n}includeStatement(t){const n=cE();t.consume(n,l.IncludeDirective_INCLUDE,N.Include);while(true){const i=lE();if(t.canConsume(N.Id)){const a=t.consume(i,l.IncludeItem_FileID0,N.Id).image+".pli";i.file=a}else if(t.canConsume(N.String)){const a=t.consume(i,l.IncludeItem_FileString0,N.String).image;const s=a.substring(1,a.length-1);i.file=s;i.string=true}else{break}n.items.push(i);t.tryConsume(n,l.IncludeDirective_Comma,N.Comma)}t.consume(n,l.IncludeDirective_Semicolon,N.Semicolon);const r=Ot.dirname(t.uri);for(const i of n.items){if(!i.file){continue}const a=Ot.joinPath(r,i.file);try{const s=Dt.get(a)?.getText()??Xr.readFileSync(a)??"";const o=this.initializeState(s,a);const c=this.start(o);for(const[h,f]of Object.entries(o.perFileTokens)){t.perFileTokens[h]=f}i.result=c}catch{}}return n}doStatement(t){const n=Xm();t.consume(n,l.DoStatement_DO,N.Do);if(t.canConsumeKeyword(N.While)){const r=this.doWhile(t);t.consume(n,l.DoStatement_Semicolon0,N.Semicolon);const i=this.statements(t);n.doType2=r;n.statements=i;t.consumeKeyword(n,l.EndStatement_END,N.End);t.consume(n,l.DoStatement_Semicolon1,N.Semicolon);return n}else if(t.canConsumeKeyword(N.Until)){const r=this.doUntil(t);t.consume(n,l.DoStatement_Semicolon0,N.Semicolon);const i=this.statements(t);n.doType2=r;n.statements=i;t.consumeKeyword(n,l.EndStatement_END,N.End);t.consume(n,l.DoStatement_Semicolon1,N.Semicolon);return n}else if(t.tryConsumeKeyword(n,l.DoStatement_LOOP,N.Loop)){n.doType4=true;t.consume(n,l.DoStatement_Semicolon0,N.Semicolon);const r=this.statements(t);n.statements=r;t.consumeKeyword(n,l.EndStatement_END,N.End);t.consume(n,l.DoStatement_Semicolon1,N.Semicolon);return n}else if(t.tryConsume(n,l.DoStatement_Semicolon0,N.Semicolon)){const r=this.statements(t);n.statements=r;t.consumeKeyword(n,l.EndStatement_END,N.End);t.consume(n,l.DoStatement_Semicolon1,N.Semicolon);return n}throw new ea("Unexpected token '"+t.current?.image+"'.",t.current||t.last,t.uri)}doWhile(t){const n=Jm();t.consumeKeyword(n,l.DoWhile_WHILE,N.While);t.consume(n,l.DoWhile_OpenParenWhile,N.LParen);n.while=this.expression(t);t.consume(n,l.DoWhile_CloseParenWhile,N.RParen);if(t.tryConsumeKeyword(n,l.DoWhile_UNTIL,N.Until)){t.consume(n,l.DoWhile_OpenParenUntil,N.LParen);n.until=this.expression(t);t.consume(n,l.DoWhile_CloseParenUntil,N.RParen)}return n}doUntil(t){const n=Qm();t.consumeKeyword(n,l.DoUntil_UNTIL,N.Until);t.consume(n,l.DoUntil_OpenParenUntil,N.LParen);n.until=this.expression(t);t.consume(n,l.DoUntil_CloseParenUntil,N.RParen);if(t.tryConsumeKeyword(n,l.DoUntil_WHILE,N.While)){t.consume(n,l.DoUntil_OpenParenWhile,N.LParen);n.while=this.expression(t);t.consume(n,l.DoWhile_CloseParenWhile,N.RParen)}return n}statements(t){const n=[];while(!t.eof&&!t.canConsumeKeyword(N.End)){const r=this.statement(t);n.push(r)}return n}ifStatement(t){const n=oE();t.consume(n,l.IfStatement_IF,N.If);n.expression=this.expression(t);t.consumeKeyword(n,l.IfStatement_THEN,N.Then);n.unitRange={start:t.current.startOffset,end:NaN};n.unit=this.statement(t);n.unitRange.end=t.last.endOffset+1;if(t.canConsumeKeyword(N.Else)){t.consumeKeyword(n,l.IfStatement_ELSE,N.Else);n.elseRange={start:t.current.startOffset,end:NaN};n.else=this.statement(t);n.elseRange.end=t.last.endOffset+1}return n}deactivateStatement(t){const n=Z_();t.consume(n,l.DeactivateStatement_DEACTIVATE,N.Deactivate);n.references.push(this.parseReferenceItem(t,false));while(t.tryConsume(n,l.DeactivateStatement_Comma,N.Comma)){n.references.push(this.parseReferenceItem(t,false))}t.consume(n,l.DeactivateStatement_Semicolon,N.Semicolon);return n}activateStatement(t){const n=Q_();t.consume(n,l.ActivateStatement_ACTIVATE,N.Activate);n.items.push(this.parseActivateItem(t));while(t.tryConsume(n,l.ActivateStatement_Comma,N.Comma)){n.items.push(this.parseActivateItem(t))}t.consume(n,l.ActivateStatement_Semicolon,N.Semicolon);return n}parseActivateItem(t){const n=J_();n.reference=this.parseReferenceItem(t,false);n.scanMode=this.tryScanMode(t);return n}parseReferenceItem(t,n){const r=yE();const i=t.consume(r,l.ReferenceItem_Ref,N.Id);r.ref=ln(r,i,true);i.payload.kind=l.ReferenceItem_Ref;i.payload.element=r;if(n&&t.canConsume(N.LParen)){r.dimensions=this.dimensions(t)}return r}tryScanMode(t){let n=null;switch(t.current.tokenType){case N.Scan:n="SCAN";t.index++;break;case N.Rescan:n="RESCAN";t.index++;break;case N.Noscan:n="NOSCAN";t.index++;break}return n}skipStatement(t){const n=kE();t.consume(n,l.SkipDirective_SKIP,N.Skip);let r=1;if(t.tryConsume(n,l.SkipDirective_OpenParen,N.LParen)){t.consume(n,l.NumberLiteral_ValueNumber,N.Number);r=parseInt(t.last.image,10);n.lineCount=r;t.consume(n,l.SkipDirective_CloseParen,N.RParen)}t.consume(n,l.SkipDirective_Semicolon,N.Semicolon);t.advanceLines(r+1);return n}directive(t){const n=t.consume(void 0,void 0,N.Directive);const r=n.image.toUpperCase();let i;if(r==="PUSH"){i=TE();n.payload.kind=l.PushDirective_PUSH}else if(r==="POP"){i=EE();n.payload.kind=l.PopDirective_POP}else if(r==="PRINT"){i=AE();n.payload.kind=l.PrintDirective_PRINT}else if(r==="NOPRINT"){i=gE();n.payload.kind=l.NoPrintDirective_NOPRINT}else{i=_E();n.payload.kind=l.PageDirective_PAGE}n.payload.element=i;t.consume(i,l.PopDirective_POP,N.Semicolon);return i}assignmentStatement(t){const n=tE();n.refs.push(this.locatorCall(t,false));t.consume(n,l.AssignmentStatement_Operator,N.Eq);n.operator="=";const r=this.expression(t);n.expression=r;t.consume(n,l.AssignmentStatement_Semicolon,N.Semicolon);return n}locatorCall(t,n){const r=pE();r.element=this.memberCall(t,n);return r}memberCall(t,n){const r=SE();r.element=this.parseReferenceItem(t,n);return r}declareStatement(t){const n=nE();const r=zm();n.items.push(r);t.consume(n,l.DeclareStatement_DECLARE,N.Declare);do{if(t.tryConsume(r,l.DeclaredItem_OpenParen,N.LParen)){do{r.elements.push(this.declaredVariable(t))}while(t.tryConsume(r,l.DeclaredItem_Comma,N.Comma));t.consume(r,l.DeclaredItem_CloseParen,N.RParen)}else{r.elements.push(this.declaredVariable(t))}const i=this.attributes(t);for(const a of i){const s=Ah();s.type=a;r.attributes.push(s)}}while(t.tryConsume(n,l.DeclareStatement_Comma,N.Comma));t.consume(n,l.DeclareStatement_Semicolon,N.Semicolon);return n}declaredVariable(t){const n=Ym();const r=t.consume(n,l.DeclaredVariable_Name,N.Id);const i=r.image;n.name=i;n.nameToken=r;return n}dimensions(t){const n=iE();t.consume(n,l.Dimensions_OpenParen,N.LParen);n.dimensions.push(this.parseBound(t));while(t.tryConsume(n,l.Dimensions_Comma,N.Comma)){n.dimensions.push(this.parseBound(t))}t.consume(n,l.Dimensions_CloseParen,N.RParen);return n}parseBound(t){const n=rE();const r=Eh();const i=this.parseExpressionWildcard(r,l.Bound_Star,t);r.expression=i;if(t.tryConsume(n,l.DimensionBound_Colon,N.Colon)){const a=Eh();const s=this.parseExpressionWildcard(a,l.Bound_Star,t);a.expression=s;n.lower=r;n.upper=a}else{n.upper=r}return n}parseExpressionWildcard(t,n,r){if(r.tryConsume(t,n,N.Multiply)){return"*"}else{return this.expression(r)}}attributes(t){const n=[];let r=0;do{r=t.index;switch(t.current?.tokenType){case N.Builtin:n.push("BUILTIN");t.index++;break;case N.Entry:n.push("ENTRY");t.index++;break;case N.Internal:n.push("INTERNAL");t.index++;break;case N.External:n.push("EXTERNAL");t.index++;break;case N.Character:n.push("CHARACTER");t.index++;break;case N.Fixed:n.push("FIXED");t.index++;break;case N.Scan:n.push("SCAN");t.index++;break;case N.Rescan:n.push("RESCAN");t.index++;break;case N.Noscan:n.push("NOSCAN");t.index++;break}}while(r!=t.index);return n}expression(t){return this.parseBinary(t)}parseBinary(t){const n={infix:true,items:[],operators:[]};n.items.push(this.primary(t));while(true){let r=void 0;for(const i of Lv){if(t.tryConsume(n,l.BinaryExpression_Operator,i)){r=i.name;break}}if(r){const i=this.primary(t);n.items.push(i);n.operators.push(r)}else{break}}return qs(n)}primary(t){if(t.canConsume(N.Number)){return this.numberLiteral(t)}else if(t.canConsume(N.String)){return this.stringLiteral(t)}else if(t.canConsumeKeyword(N.Id)){if(t.isOnlyInStatement()){t.consume(void 0,l.Percentage,N.Percentage)}return this.locatorCall(t,true)}else if(t.canConsume(N.LParen)){t.consume(void 0,l.ParenthesizedExpression_OpenParen,N.LParen);const n=this.expression(t);t.consume(void 0,l.ParenthesizedExpression_CloseParen,N.RParen);return n}throw new ea("Cannot handle this type of preprocessor expression yet!",t.current||t.last,t.uri)}numberLiteral(t){const n=Ih();const r=dE();n.value=r;const i=t.consume(r,l.NumberLiteral_ValueNumber,N.Number);r.value=i.image;return n}stringLiteral(t){const n=Ih();const r=ef();n.value=r;const i=t.consume(r,l.StringLiteral_ValueString,N.String);const a=this.unpackCharacterValue(i.image);r.value=a;r.tokens=this.tokenizePurePliCode(a);return n}tokenizePurePliCode(t){const n=[];const r=new Cd(t,void 0);while(!r.eof()){const i=this.lexer.tokenizePliTokensUntilSemicolon(r);n.push(...i)}return n}unpackCharacterValue(t){return t.substring(1,t.length-1)}}class Vv{labelCounter=0;labels={};doGroupStack=[];program;constructor(){this.program={instructions:[]}}lookupDoGroup(t){return this.doGroupStack.find(n=>n.doGroup===t)}topDoGroup(){return this.doGroupStack.length>0?this.doGroupStack[this.doGroupStack.length-1]:void 0}pushInstruction(t){this.program.instructions.push(t)}pushDoGroup(t){const n={doGroup:t,$start$:this.createLabel(),$iterate$:this.createLabel(),$leave$:this.createLabel()};this.doGroupStack.push(n);return n}createLabel(){const t=`$label${this.labelCounter++}$`;const n={address:void 0,doGroup:void 0};this.labels[t]=n;return n}createNamedLabel(t,n){if(t.name){const r=t.name;const i={address:void 0,doGroup:n};this.labels[r]=i;return i}else{return this.createLabel()}}resolveLabel(t){if(t.label?.text){return this.labels[t.label.text]}return void 0}pushLabel(t){t.address=this.program.instructions.length}popDoGroup(){this.doGroupStack.pop()}build(){return{instructions:this.program.instructions.map(t=>{if(t.type==="goto"&&typeof t.address!=="number"||t.type==="branchIfNEQ"&&typeof t.address!=="number"){return{...t,address:t.address.address}}return t})}}}class $v{numberTokenType;constructor(t){this.numberTokenType=t}generateProgram(t){const n=new Vv;const{pureStatements:r,pureProcedures:i}=this.splitStatements(t);for(const a of r){this.handleStatement(a,n)}n.pushInstruction(de.halt());for(const a of i){this.handleProcedure(a,n)}return n.build()}handleProcedure(t,n){for(const r of t.labels){const i=n.createNamedLabel(r);n.pushLabel(i)}if(t.value?.kind!==m.ProcedureStatement){throw new Error("Expected a procedure statement")}this.handleStatements(t.value.statements,n)}splitStatements(t){const n=[];const r=[];for(const i of t){if(this.isLabeledStatementsWithProcedureCall(i)){r.push(i)}else{n.push(i)}}return{pureStatements:n,pureProcedures:r}}isLabeledStatementsWithProcedureCall(t){return t.value?.kind===m.ProcedureStatement}handleStatement(t,n){const r=t.value;if(r===null){return}const i=this.findDoGroup(t);for(const a of t.labels){const s=n.createNamedLabel(a,i);n.pushLabel(s)}switch(r.kind){case m.ActivateStatement:this.handleActivate(r,n);break;case m.DeactivateStatement:this.handleDeactivate(r,n);break;case m.AssignmentStatement:this.handleAssignment(r,n);break;case m.DeclareStatement:for(const a of r.items){this.handleDeclaration(a,n)}break;case m.SkipDirective:case m.PopDirective:case m.PushDirective:case m.PageDirective:case m.PrintDirective:case m.NoPrintDirective:break;case m.IfStatement:this.handleIf(r,n);break;case m.TokenStatement:this.handlePliCode(r,n);break;case m.DoStatement:this.handleDoGroup(r,n);break;case m.IncludeDirective:for(const a of r.items){if(a.result){this.handleStatements(a.result.statements,n)}}break;case m.GoToStatement:this.handleGoTo(r,n);break;case m.LeaveStatement:this.handleLeave(r,n);break;case m.IterateStatement:this.handleIterate(r,n);break;case m.ReturnStatement:this.handleReturn(r,n);break;case m.ProcedureStatement:break}}handleReturn(t,n){if(t.expression){this.handleExpression(t.expression,n)}n.pushInstruction(de.ret())}findDoGroup(t){if(t.value?.kind===m.DoStatement){return t.value}return void 0}handleIterate(t,n){if(t.label){const r=n.resolveLabel(t.label);if(!r){return}if(r.doGroup){const i=n.lookupDoGroup(r.doGroup);if(i){const a=i.$iterate$;n.pushInstruction(de.goto(a));return}}throw new Error(`Label '${t.label}' not found or no valid DO group.`)}else{const r=n.topDoGroup();if(r){n.pushInstruction(de.goto(r.$iterate$));return}throw new Error(`No DO group to iterate.`)}}handleLeave(t,n){if(t.label){const r=n.resolveLabel(t.label);if(!r){return}if(r.doGroup){const i=n.lookupDoGroup(r.doGroup);if(i){const a=i.$leave$;n.pushInstruction(de.goto(a));return}}throw new Error(`Label '${t.label}' not found or no valid DO group.`)}else{const r=n.topDoGroup();if(r){n.pushInstruction(de.goto(r.$leave$));return}throw new Error(`No DO group to leave.`)}}handleGoTo(t,n){if(t.label){const r=n.resolveLabel(t.label);if(r){n.pushInstruction(de.goto(r))}}}handleDoGroup(t,n){const{$iterate$:r,$leave$:i}=n.pushDoGroup(t);n.pushLabel(r);if(t.doType2){const a=t.doType2;if(a.kind===m.DoUntil&&a.until){this.handleExpression(a.until,n);n.pushInstruction(de.push(Be.False()));n.pushInstruction(de.branchIfNotEqual(i));if(a.while){this.handleExpression(a.while,n);n.pushInstruction(de.push(Be.True()));n.pushInstruction(de.branchIfNotEqual(i))}}else if(a.kind===m.DoWhile&&a.while){this.handleExpression(a.while,n);n.pushInstruction(de.push(Be.True()));n.pushInstruction(de.branchIfNotEqual(i));if(a.until){this.handleExpression(a.until,n);n.pushInstruction(de.push(Be.False()));n.pushInstruction(de.branchIfNotEqual(i))}}}this.handleStatements(t.statements,n);if(t.doType4||t.doType2){n.pushInstruction(de.goto(r))}n.pushLabel(i);n.popDoGroup()}handlePliCode(t,n){let r=[];let i=false;t.tokens.forEach(a=>{if(a.image==="%"||a.image===";"){if(a.image===";"){r.push(a)}n.pushInstruction(de.push(r));n.pushInstruction(de.scan());if(i){n.pushInstruction(de.concat());n.pushInstruction(de.scan());i=false}if(a.image==="%"){i=true}else{n.pushInstruction(de.print())}r=[]}else{r.push(a)}})}handleStatements(t,n){for(const r of t){this.handleStatement(r,n)}}handleIf(t,n){if(!t.expression){return}this.handleExpression(t.expression,n);n.pushInstruction(de.push(Be.True()));if(t.else){const r=n.createLabel();n.pushInstruction(de.branchIfNotEqual(r,t));if(t.unit){this.handleStatement(t.unit,n)}const i=n.createLabel();n.pushInstruction(de.goto(i));n.pushLabel(r);this.handleStatement(t.else,n);n.pushLabel(i)}else{const r=n.createLabel();n.pushInstruction(de.branchIfNotEqual(r,t));if(t.unit){this.handleStatement(t.unit,n)}n.pushLabel(r)}}handleDeactivate(t,n){for(const r of t.references){if(r.ref?.text){n.pushInstruction(de.deactivate(r.ref.text))}}}handleActivate(t,n){for(const r of t.items){const i=r.reference?.ref?.text;if(i){n.pushInstruction(de.activate(i,r.scanMode??"SCAN"))}}}handleAssignment(t,n){const r=t.expression;const i=t.refs[0];const a=i?.element?.element?.ref?.text;if(r&&a){this.handleExpression(r,n);n.pushInstruction(de.set(a))}}handleExpression(t,n){switch(t.kind){case m.Literal:{switch(t.value?.kind){case m.StringLiteral:this.handleStringLiteral(t.value,n);break;case m.NumberLiteral:this.handleNumberLiteral(t.value,n);break}break}case m.LocatorCall:{this.handleVariableUsage(t,n);break}case m.BinaryExpression:{this.handleBinaryExpression(t,n);break}}}handleBinaryExpression(t,n){this.handleExpression(t.left,n);this.handleExpression(t.right,n);n.pushInstruction(de.compute(t.op))}handleVariableUsage(t,n){const r=t.element;if(r){const i=r.element;if(i){const a=i.ref?.text;if(a){n.pushInstruction(de.get(a))}}}}handleNumberLiteral(t,n){n.pushInstruction(de.push([Hn(this.numberTokenType,t.value?.toString()??"0",0,0,0,0,0,0)]))}handleStringLiteral(t,n){n.pushInstruction(de.push(t.tokens))}getVariableNames(t){const n=[];for(const r of t.elements){if(r.kind===m.WildcardItem){continue}if(r.kind===m.DeclaredItem){n.push(...this.getVariableNames(r))}else if(r.name){n.push(r.name)}}return n}handleDeclaration(t,n){const r=[];for(const a of t.attributes){if(a.kind===m.ComputationDataAttribute&&a.type){r.push(a.type)}}let i="RESCAN";if(r.includes("SCAN")){i="SCAN"}else if(r.includes("NOSCAN")){i="NOSCAN"}if(r.includes("CHARACTER")||r.includes("FIXED")){const a=this.getVariableNames(t);for(const s of a){if(r.includes("FIXED")){n.pushInstruction(de.push([Hn(this.numberTokenType,"0",0,0,0,0,0,0)]))}n.pushInstruction(de.set(s));n.pushInstruction(de.activate(s,i))}}}}let Co={};const Hv=new Qf;function Ud(e){const t=e.toString();if(Co.hasOwnProperty(t)){return Co[t]}else{const n=Hv.pattern(t);Co[t]=n;return n}}const ta=256;const Md=new Array(65536);for(let e=0;e<65536;e++){Md[e]=e>255?255+~~(e/255):e}function ci(e){return e<ta?e:Md[e]}const wd="Complement Sets are not supported for first char optimization";const jv='Unable to use "first char" lexer optimizations:\n';function zv(e,t=false){try{const n=Ud(e);const r=dl(n.value,{},n.flags.ignoreCase);return r}catch(n){if(n instanceof Error&&n.message===wd){if(t){$l(`${jv}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`)}}}return[]}function dl(e,t,n){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++){dl(e.value[i],t,n)}break;case"Alternative":const r=e.value;for(let i=0;i<r.length;i++){const a=r[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=a;switch(s.type){case"Character":as(s.value,t,n);break;case"Set":if(s.complement===true){throw Error(wd)}s.value.forEach(c=>{if(typeof c==="number"){as(c,t,n)}else{const h=c;if(n===true){for(let f=h.from;f<=h.to;f++){as(f,t,n)}}else{for(let f=h.from;f<=h.to&&f<ta;f++){as(f,t,n)}if(h.to>=ta){const f=h.from>=ta?h.from:ta;const S=h.to;const g=ci(f);const _=ci(S);for(let I=g;I<=_;I++){t[I]=I}}}}});break;case"Group":dl(s.value,t,n);break;default:throw Error("Non Exhaustive Match")}const o=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&_l(s)===false||s.type!=="Group"&&o===false){break}}break;default:throw Error("non exhaustive match!")}return Object.values(t)}function as(e,t,n){const r=ci(e);t[r]=r;if(n===true){Yv(e,t)}}function Yv(e,t){const n=String.fromCharCode(e);const r=n.toUpperCase();if(r!==n){const i=ci(r.charCodeAt(0));t[i]=i}else{const i=n.toLowerCase();if(i!==n){const a=ci(i.charCodeAt(0));t[a]=a}}}function Lm(e,t){return e.value.find(n=>{if(typeof n==="number"){return t.includes(n)}else{const r=n;return t.find(i=>r.from<=i&&i<=r.to)!==void 0}})}function _l(e){const t=e.quantifier;if(t&&t.atLeast===0){return true}if(!e.value){return false}return Array.isArray(e.value)?e.value.every(_l):_l(e.value)}class Xv extends ro{targetCharCodes;found=false;constructor(t){super();this.targetCharCodes=t}visitChildren(t){if(this.found===true){return}switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}visitCharacter(t){if(this.targetCharCodes.includes(t.value)){this.found=true}}visitSet(t){if(t.complement){if(Lm(t,this.targetCharCodes)===void 0){this.found=true}}else{if(Lm(t,this.targetCharCodes)!==void 0){this.found=true}}}}function Gd(e,t){if(t instanceof RegExp){const n=Ud(t);const r=new Xv(e);r.visit(n);return r.found}else{for(const n of t){const r=n.charCodeAt(0);if(e.includes(r)){return true}}return false}}const Cm="PATTERN";let Qv=typeof new RegExp("(?:)").sticky==="boolean";function Jv(e,t){t=eo(t,{useSticky:Qv,debug:false,safeMode:false,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(T,O)=>O()});const n=t.tracer;n("initCharCodeToOptimizedIndexMap",()=>{nL()});let r;n("Reject Lexer.NA",()=>{r=ka(e,T=>{return T[Cm]===ge.NA})});let i=false;let a;n("Transform Patterns",()=>{i=false;a=Y(r,T=>{const O=T[Cm];if(jt(O)){const F=O.source;if(F.length===1&&F!=="^"&&F!=="$"&&F!=="."&&!O.ignoreCase){return F}else if(F.length===2&&F[0]==="\\"&&!Pt(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],F[1])){return F[1]}else{return t.useSticky?Mm(O):Um(O)}}else if(Sn(O)){i=true;return{exec:O}}else if(typeof O==="object"){i=true;return O}else if(typeof O==="string"){if(O.length===1){return O}else{const F=O.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&");const Z=new RegExp(F);return t.useSticky?Mm(Z):Um(Z)}}else{throw Error("non exhaustive match")}})});let s;let o;let c;let h;let f;n("misc mapping",()=>{s=Y(r,T=>T.tokenTypeIdx);o=Y(r,T=>{const O=T.GROUP;if(O===ge.SKIPPED){return void 0}else if(tt(O)){return O}else if(yn(O)){return false}else{throw Error("non exhaustive match")}});c=Y(r,T=>{const O=T.LONGER_ALT;if(O){const F=_e(O)?Y(O,Z=>Ns(r,Z)):[Ns(r,O)];return F}return void 0});h=Y(r,T=>T.PUSH_MODE);f=Y(r,T=>oe(T,"POP_MODE"))});let S;n("Line Terminator Handling",()=>{const T=eL(t.lineTerminatorCharacters);S=Y(r,O=>false);if(t.positionTracking!=="onlyOffset"){S=Y(r,O=>{if(oe(O,"LINE_BREAKS")){return!!O.LINE_BREAKS}else{return Kv(O,T)===false&&Gd(T,O.PATTERN)}})}});let g;let _;let I;let M;n("Misc Mapping #2",()=>{g=Y(r,Fd);_=Y(a,Zv);I=At(r,(T,O)=>{const F=O.GROUP;if(tt(F)&&!(F===ge.SKIPPED)){T[F]=[]}return T},{});M=Y(a,(T,O)=>{return{...r[O],pattern:a[O],longerAlt:c[O],canLineTerminator:S[O],isCustom:g[O],short:_[O],group:o[O],push:h[O],pop:f[O],tokenTypeIdx:s[O],tokenType:r[O]}})});let W=[];let C=[];if(!t.safeMode){n("First Char Optimization",()=>{C=At(r,(T,O,F)=>{if(typeof O.PATTERN==="string"){const Z=O.PATTERN.charCodeAt(0);const Q=wm(Z);zr(T,Q,M[F])}else if(_e(O.START_CHARS_HINT)){let Z;ae(O.START_CHARS_HINT,Q=>{const le=typeof Q==="string"?Q.charCodeAt(0):Q;const pe=wm(le);if(Z!==pe){Z=pe;zr(T,pe,M[F])}})}else if(jt(O.PATTERN)){if(O.PATTERN.unicode){ae(Object.keys(T),Z=>{zr(T,Number(Z),M[F])});W.push(M[F])}else{const Z=zv(O.PATTERN,t.ensureOptimizations);if(Ne(Z)){ae(Object.keys(T),Q=>{zr(T,Number(Q),M[F])});W.push(M[F])}ae(Z,Q=>{zr(T,Q,M[F])})}}else{ae(Object.keys(T),Z=>{zr(T,Number(Z),M[F])});W.push(M[F])}return T},[])})}return{emptyGroups:I,patternIdxToConfig:M,charCodeToPatternIdxToConfig:C,hasCustom:i,unoptimizedPatterns:W}}function Um(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function Mm(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function Fd(e){const t=e.PATTERN;if(jt(t)){return false}else if(Sn(t)){return true}else if(oe(t,"exec")){return true}else if(tt(t)){return false}else{throw Error("non exhaustive match")}}function Zv(e){if(tt(e)&&e.length===1){return e.charCodeAt(0)}else{return false}}function Kv(e,t){if(oe(e,"LINE_BREAKS")){return false}else{if(jt(e.PATTERN)){try{Gd(t,e.PATTERN)}catch(n){return{issue:we.IDENTIFY_TERMINATOR,errMsg:n.message}}return false}else if(tt(e.PATTERN)){return false}else if(Fd(e)){return{issue:we.CUSTOM_LINE_BREAK}}else{throw Error("non exhaustive match")}}}function eL(e){const t=Y(e,n=>{if(tt(n)){return n.charCodeAt(0)}else{return n}});return t}function zr(e,t,n,r){if(e[t]===void 0){e[t]=[n]}else{e[t].push(n)}}const tL=256;let Ss=[];function wm(e){return e<tL?e:Ss[e]}function nL(){if(Ne(Ss)){Ss=new Array(65536);for(let e=0;e<65536;e++){Ss[e]=e>255?255+~~(e/255):e}}}class rL{optimize(t){const{charCodeToPatternIdxToConfig:n,unoptimizedPatterns:r}=Jv(t,{useSticky:true});return{pickTokenTypes:i=>{const a=ci(i);const s=n[a];if(s===void 0){return r}else{return s}}}}}const El=p({name:"comma",pattern:","});const xd=p({name:"string",pattern:/("(""|\\.|[^"\\])*"|'(''|\\.|[^'\\])*')/});const Bd=p({name:"value",pattern:/[\w\d\-+_]+/});const qd=p({name:"parenOpen",pattern:"("});const Wd=p({name:"parenClose",pattern:")"});const iL=p({name:"ws",pattern:/\s+/,group:ge.SKIPPED});const Vd=[iL,El,xd,qd,Wd,Bd];const aL=new ge(Vd,{positionTracking:"full"});class sL extends bp{constructor(){super(Vd,{recoveryEnabled:true});this.performSelfAnalysis()}compilerOptions=this.RULE("compilerOptions",()=>{const t=[];this.OPTION1(()=>{const n=this.SUBRULE1(this.compilerOption,{ARGS:[false]});t.push(n);this.MANY(()=>{this.OPTION2(()=>{const i=this.CONSUME(El);this.ACTION(()=>{i.payload={kind:l.CompilerOptions_Comma,element:t}})});const r=this.SUBRULE2(this.compilerOption,{ARGS:[false]});t.push(r)})});return{options:t}},{recoveryValueFunc:()=>({options:[]})});compilerOption=this.RULE("compilerOption",t=>{const n=this.CONSUME(Bd);const r=[];let i=t?{container:null,kind:m.CompilerOptionText,token:n,value:n.image}:{container:null,kind:m.CompilerOption,name:n.image,token:n,values:r};this.ACTION(()=>{const a=Number(n.image);n.payload={kind:isNaN(a)?l.CompilerOption_Name:l.CompilerOption_Number,element:i}});this.OPTION1(()=>{if(t){i={container:null,kind:m.CompilerOption,name:n.image,token:n,values:r};this.ACTION(()=>n.payload.element=i)}const a=this.CONSUME(qd);this.ACTION(()=>{a.payload={kind:l.CompilerOption_OpenParen,element:i}});this.OPTION2(()=>{const o=this.SUBRULE1(this.compilerValue);this.ACTION(()=>{o.container=i});r.push(o);this.MANY(()=>{const c=this.CONSUME(El);this.ACTION(()=>{c.payload={kind:l.CompilerOption_Comma,element:i}});const h=this.SUBRULE2(this.compilerValue);this.ACTION(()=>{h.container=i});r.push(h)})});const s=this.CONSUME(Wd);this.ACTION(()=>{s.payload={kind:l.CompilerOption_CloseParen,element:i}})});return i},{recoveryValueFunc:()=>({container:null,kind:m.CompilerOptionText,token:this.LA(1),value:""})});compilerValue=this.RULE("compilerValue",()=>{return this.OR([{ALT:()=>{const t=this.CONSUME(xd);const n={container:null,kind:m.CompilerOptionString,token:t,value:t.image.slice(1,-1)};this.ACTION(()=>{t.payload={kind:l.CompilerOptionsValue_STRING,element:n}});return n}},{ALT:()=>{return this.SUBRULE(this.compilerOption,{ARGS:[true]})}},{ALT:()=>{const t={container:null,kind:m.CompilerOptionText,value:"",token:this.LA(1)};return t}}])},{recoveryValueFunc:()=>({container:null,kind:m.CompilerOptionText,value:"",token:this.LA(1)})})}const Uo=new sL;function oL(e,t){const n=aL.tokenize(" ".repeat(t??0)+e);Uo.input=n.tokens;const r=Uo.compilerOptions();const i=[];for(const a of n.errors){i.push({message:a.message,range:{start:a.offset,end:a.offset+a.length},severity:Re.E})}for(const a of Uo.errors){i.push({message:a.message,range:tn(a.token),severity:1})}return{options:r.options,tokens:n.tokens,issues:i}}var sa;(function(e){e[e["POSITIVE"]=1]="POSITIVE";e[e["NEGATIVE"]=-1]="NEGATIVE"})(sa||(sa={}));class cL{options={};issues=[];appliedRules=new Map;rules=[];rule(t,n,r,i){this.rules.push({positive:t,negative:r,positiveTranslate:n,negativeTranslate:i})}flag(t,n,r){this.rules.push({positive:n,positiveTranslate:(i,a)=>{nt(i,0,0);a[t]=true},negative:r,negativeTranslate:(i,a)=>{nt(i,0,0);a[t]=false}})}isRuleApplied(t){return this.appliedRules.get(t)!==void 0}isRuleAppliedPositively(t){return this.appliedRules.get(t)===sa.POSITIVE}translate(t){const n=t.name.toUpperCase();let r=false;try{for(const i of this.rules){if(i.positive&&i.positive.includes(n)){r=true;i.positiveTranslate?.(t,this.options);if(!this.isRuleApplied(i)){this.appliedRules.set(i,sa.POSITIVE)}else if(this.isRuleAppliedPositively(i)){this.reportDupeOptIssue(t,n)}else{this.reportMutexOptIssue(t,n)}return}if(i.negative&&i.negative.includes(n)){r=true;i.negativeTranslate?.(t,this.options);if(!this.isRuleApplied(i)){this.appliedRules.set(i,sa.NEGATIVE)}else if(!this.isRuleAppliedPositively(i)){this.reportDupeOptIssue(t,n)}else{this.reportMutexOptIssue(t,n)}return}}}catch(i){if(i instanceof Ge){this.issues.push({range:tn(i.token),message:i.message,severity:i.severity})}else{console.error("Encountered unexpected error during compiler options translation:",String(i))}}if(!r){this.issues.push({range:tn(t.token),message:da.IBM1159I.message(t.name),severity:Re.W})}}reportDupeOptIssue(t,n){this.issues.push({range:tn(t.token),message:`Duplicate compiler option ${n}`,severity:Re.W})}reportMutexOptIssue(t,n){this.issues.push({range:tn(t.token),message:`Mutually exclusive compiler options found for ${n}, only the last one will take effect.`,severity:Re.W})}}class Ge{token;message;severity;constructor(t,n,r){this.token=t;this.message=n;this.severity=r}}function nt(e,t,n){if(e.values.length<t||e.values.length>n){let r;if(t===n){r=`Expected ${t} arguments, but received ${e.values.length}.`}else{r=`Expected between ${t} and ${n} arguments, but received ${e.values.length}.`}throw new Ge(e.token,r,1)}}function Ke(e,t){if(t==="option"){if(e.kind!==m.CompilerOption){throw new Ge(e.token,`Expected a compiler option with arguments.`,1)}}else if(t==="plain"){if(e.kind!==m.CompilerOptionText){throw new Ge(e.token,`Expected a plain text value.`,1)}}else if(t==="string"){if(e.kind!==m.CompilerOptionString){throw new Ge(e.token,`Expected a string value.`,1)}}else if(t==="plainOrString"){if(e.kind!==m.CompilerOptionText&&e.kind!==m.CompilerOptionString){throw new Ge(e.token,`Expected a plain text or string value.`,1)}}}const me=new cL;function Fa(e){return(t,n)=>{nt(t,1,1);const r=t.values[0];Ke(r,"string");e(n,r)}}function xt(e,...t){return(n,r)=>{nt(n,1,1);const i=n.values[0];Ke(i,"plain");if(t.length>0&&!t.includes(i.value)){throw new Ge(i.token,`Expected one of '${t.join("', '")}', but received '${i.value}'.`,1)}e(r,i)}}me.rule(["AGGREGATE","AG"],(e,t)=>{nt(e,0,1);const n=e.values[0];if(n){Ke(n,"plain");const r=n.value;if(r==="DECIMAL"||r==="HEXADEC"){t.aggregate={offsets:r}}else{throw new Ge(n.token,"Invalid aggregate value. Expected DECIMAL or HEXADEC.",1)}}},["NOAGGREGATE","NAG"],(e,t)=>{t.aggregate=false});me.rule(["ARCH"],xt((e,t)=>{e.arch=Number(t)},"10","11","12","13","14"));me.rule(["ASSERT"],xt((e,t)=>{e.assert=t.value},"ENTRY","CONDITION"));me.rule(["ATTRIBUTES","A","NOATTRIBUTES","NA"],(e,t)=>{nt(e,0,1);const n=e.name.startsWith("A");let r=void 0;const i=e.values[0];if(i){Ke(i,"plain");const a=i.value;if(a==="F"||a==="FULL"){r="FULL"}else if(a==="S"||a==="SHORT"){r="SHORT"}else{throw new Ge(i.token,"Invalid attribute value. Expected FULL or SHORT.",1)}}t.attributes={include:n,identifiers:r}});me.rule(["BACKREG"],xt((e,t)=>{e.backreg=Number(t)},"5","11"));me.rule(["BIFPREC"],xt((e,t)=>{e.bifprec=Number(t)},"31","15"));me.rule(["BLANK"],Fa((e,t)=>{e.blank=t.value}));me.flag("blkoff",["BLKOFF"],["NOBLKOFF"]);me.rule(["BRACKETS"],Fa((e,t)=>{const n=t.value.length;if(n!==2){throw new Ge(t.token,"Expected two characters.",1)}const r=t.value.charAt(0);const i=t.value.charAt(1);e.brackets=[r,i]}));me.rule(["CASE"],xt((e,t)=>{e.case=t.value},"UPPER","ASIS"));me.rule(["CASERULES"],(e,t)=>{nt(e,1,1);const n=e.values[0];Ke(n,"option");if(n.name!=="KEYWORD"){throw new Ge(n.token,`Expected "KEYWORD" as compiler option value.`,1)}nt(n,1,1);const r=n.values[0];Ke(r,"plain");xt((i,a)=>{i.caserules=a.value},"MIXED","UPPER","LOWER","START")(n,t)});me.rule(["CHECK"],xt((e,t)=>{let n=t.value;if(n==="STG"){n="STORAGE"}else if(n==="NSTG"){n="NOSTORAGE"}e.check={storage:n}},"STORAGE","STG","NOSTORAGE","NSTG"));me.rule(["CMPAT","CMP"],xt((e,t)=>{e.cmpat=t.value},"V1","V2","V3","LE"));me.rule(["CODEPAGE","CP"],xt((e,t)=>{e.codepage=t.value}));me.flag("common",["COMMON"],["NOCOMMON"]);me.rule(["COMPILE","C"],(e,t)=>{nt(e,0,0);t.compile=true},["NOCOMPILE","NC"],(e,t)=>{nt(e,0,1);const n=e.values[0];let r;if(n){Ke(n,"plain");const i=n.value;if(i==="S"){r="SEVERE"}else if(i==="W"){r="WARNING"}else if(i==="E"){r="ERROR"}else{throw new Ge(n.token,`Invalid severity value. Expected S, W or E, but received '${i}'`,1)}}t.compile={severity:r}});me.rule(["COPYRIGHT"],(e,t)=>{nt(e,1,1);const n=e.values[0];Ke(n,"string");t.copyright=n.value},["NOCOPYRIGHT"],(e,t)=>{nt(e,0,0);t.copyright=false});me.flag("csect",["CSECT","CSE"],["NOCSECT","NOCSE"]);me.rule(["CSECTCUT"],xt((e,t)=>{if(!["0","1","2","3","4","5","6","7"].includes(t.value)){throw new Ge(t.token,`Invalid csectcut value. Expected a number between 0 and 7, but received '${t.value}'.`,1)}e.csectcut=Number(t)}));me.rule(["CURRENCY","CURR"],Fa((e,t)=>{if(t.value.length===0){throw new Ge(t.token,"Currency character required.",1)}else if(t.value.length>1){throw new Ge(t.token,`Currency character must be a single character, but received '${t.value}'.`,1)}e.currency=t.value}));me.flag("dbcs",["DBCS"],["NODBCS"]);me.rule(["DBRMLIB"],(e,t)=>{nt(e,0,1);const n=e.values[0];Ke(n,"string");t.dbrmlib=n.value},["NODBRMLIB"],(e,t)=>{t.dbrmlib=false});me.rule(["DD"],(e,t)=>{nt(e,0,8);t.dd={};const n=["sysprint","sysin","syslib","syspunch","syslin","sysadata","sysxmlsd","sysdebug"];for(let r=0;r<e.values.length;r++){const i=e.values[r];Ke(i,"plain");if(!/^[a-z]+$/i.test(i.value)){throw new Ge(i.token,`Invalid DD name. Expected a text containing only letters, but received '${i.value}'.`,1)}t.dd[n[r]]=i.value}});me.rule(["DDSQL"],(e,t)=>{nt(e,1,1);const n=e.values[0];Ke(n,"plainOrString");t.ddsql=n.value});me.rule(["DECIMAL","DEC"],(e,t)=>{t.decimal={};for(const n of e.values){Ke(n,"plain");const r=n.value;switch(r){case"CHECKFLOAT":t.decimal.checkfloat=true;break;case"NOCHECKFLOAT":t.decimal.checkfloat=false;break;case"FOFLONADD":t.decimal.foflonadd=true;break;case"NOFOFLONADD":t.decimal.foflonadd=false;break;case"FOFLONASGN":t.decimal.foflonasgn=true;break;case"NOFOFLONASGN":t.decimal.foflonasgn=false;break;case"FOFLONDIV":t.decimal.foflondiv=true;break;case"NOFOFLONDIV":t.decimal.foflondiv=false;break;case"FOFLONMULT":t.decimal.foflonmult=true;break;case"NOFOFLONMULT":t.decimal.foflonmult=false;break;case"FORCEDSIGN":t.decimal.forcedsign=true;break;case"NOFORCEDSIGN":t.decimal.forcedsign=false;break;case"KEEPMINUS":t.decimal.keepminus=true;break;case"NOKEEPMINUS":t.decimal.keepminus=false;break;case"TRUNCFLOAT":t.decimal.truncfloat=true;break;case"NOTRUNCFLOAT":t.decimal.truncfloat=false;break;default:throw new Ge(n.token,`Invalid decimal option. Expected one of 'CHECKFLOAT', 'NOCHECKFLOAT', 'FOFLONADD', 'NOFOFLONADD', 'FOFLONASGN', 'NOFOFLONASGN', 'FOFLONDIV', 'NOFOFLONDIV', 'FOFLONMULT', 'NOFOFLONMULT', 'FORCEDSIGN', 'NOFORCEDSIGN', 'KEEPMINUS', 'NOKEEPMINUS', 'TRUNCFLOAT', 'NOTRUNCFLOAT', but received '${r}'.`,1)}}});me.flag("decomp",["DECOMP"],["NODECOMP"]);me.rule(["DEFAULT","DFT"],(e,t)=>{const n=t.default={};for(const r of e.values){if(r.kind===m.CompilerOptionText){const i=r.value;switch(i){case"ALIGNED":n.aligned=true;break;case"UNALIGNED":n.aligned=false;break;case"IBM":case"ANS":n.architecture=i;break;case"EBCDIC":case"ASCII":n.encoding=i;break;case"ASSIGNABLE":n.assignable=true;break;case"NONASSIGNABLE":n.assignable=false;break;case"BIN1ARG":n.bin1arg=true;break;case"NOBIN1ARG":n.bin1arg=false;break;case"BYADDR":case"BYVALUE":n.allocator=i;break;case"CONNECTED":n.connected=true;break;case"NONCONNECTED":n.connected=false;break;case"DESCLIST":n.desc="LIST";break;case"DESCLOCATOR":n.desc="LOCATOR";break;case"DESCRIPTOR":n.descriptor=true;break;case"NODESCRIPTOR":n.descriptor=false;break;case"EVENDEC":n.evendec=true;break;case"NOEVENDEC":n.evendec=false;break;case"HEXADEC":case"IEEE":n.format=i;break;case"INLINE":n.inline=true;break;case"NOINLINE":n.inline=false;break;case"LAXQUAL":n.laxqual=true;break;case"NOLAXQUAL":n.laxqual=false;break;case"LOWERINC":case"UPPERINC":n.inc=i;break;case"NATIVE":n.native=true;break;case"NONNATIVE":n.native=false;break;case"NATIVEADDR":n.nativeAddr=true;break;case"NONNATIVEADDR":n.nativeAddr=false;break;case"NULLSYS":case"NULL370":n.nullsys=i;break;case"NULLSTRADDR":n.nullStrAddr=true;break;case"NONULLSTRADDR":n.nullStrAddr=false;break;case"ORDER":case"REORDER":n.order=i;break;case"OVERLAP":n.overlap=true;break;case"NOOVERLAP":n.overlap=false;break;case"PADDING":n.padding=true;break;case"NOPADDING":n.padding=false;break;case"PSEUDODUMMY":n.pseudodummy=true;break;case"NOPSEUDODUMMY":n.pseudodummy=false;break;case"RECURSIVE":n.recursive=true;break;case"NORECURSIVE":n.recursive=false;break;case"RETCODE":n.retcode=true;break;case"NORETCODE":n.retcode=false;break;default:throw new Ge(r.token,`Invalid default option value: ${i}`,1)}}}});me.rule(["DEPRECATE","DEPRECATENEXT"],(e,t)=>{const n=[];for(const r of e.values){Ke(r,"option");if(!["BUILTIN","ENTRY","INCLUDE","STMT","VARIABLE"].includes(r.name)){throw new Ge(r.token,`Invalid DEPRECATE option. Expected one of BUILTIN, ENTRY, INCLUDE, STMT or VARIABLE, but received '${r.name}'`,1)}nt(r,0,1);const i=r.values[0];Ke(i,"plain");n.push({type:r.name,value:i.value})}if(e.name==="DEPRECATE"){t.deprecate={items:n}}else{t.deprecateNext={items:n}}});me.rule(["DISPLAY"],(e,t)=>{const n=t.display={};nt(e,1,1);const r=e.values[0];if(r.kind===m.CompilerOptionText){if(r.value==="STD"){n.std=true}else if(r.value==="WTO"){n.wto=true}else{throw new Ge(r.token,`Invalid display value. Expected STD or WTO, but received '${r.value}'.`,1)}}else if(r.kind===m.CompilerOption){if(r.name!=="WTO"){throw new Ge(r.token,`Invalid display option. Expected WTO, but received '${r.name}'.`,1)}n.wto=true;for(const i of r.values){Ke(i,"option");const a=[];for(const s of i.values){Ke(s,"plain");a.push(s.value)}if(i.name==="ROUTCDE"){n.routcde=a}else if(i.name==="DESC"){n.desc=a}else if(i.name==="REPLY"){n.reply=a}else{throw new Ge(i.token,`Invalid display option. Expected ROUTCDE, DESC or REPLY, but received '${i.name}'.`,1)}}}else{throw new Ge(r.token,`Invalid display value. Expected a text or an option.`,1)}});me.flag("dll",["DLL"],["NODLL"]);me.flag("dllInit",["DLLINIT"],["NODLLINIT"]);me.rule(["EXIT"],(e,t)=>{nt(e,0,1);const n=e.values[0];if(n){Ke(n,"string");t.exit={inparm:n.value}}else{t.exit={}}},["NOEXIT"],(e,t)=>{t.exit=false});me.flag("exportAll",["EXPORTALL"],["NOEXPORTALL"]);me.rule(["EXTRN"],xt((e,t)=>{e.extrn=t.value},"FULL","SHORT"));me.rule(["FILEREF"],xt((e,t)=>{e.fileRef={hash:t.value==="HASH"}},"HASH","NOHASH"),["NOFILEREF"],(e,t)=>{t.fileRef=false});me.rule(["FLAG","F"],(e,t)=>{nt(e,0,1);const n=e.values[0];if(n){Ke(n,"plain");const r=n.value;if(r==="S"||r==="E"||r==="I"||r==="W"){t.flag=r}else{throw new Ge(n.token,`Invalid flag value. Expected S, E, I or W, but received '${r}'.`,1)}}});me.rule(["FLOAT"],xt((e,t)=>{e.float={dfp:t.value==="DFP"}},"DFP","NODFP"));me.rule(["FLOATINMATH"],xt((e,t)=>{e.floatInMath={type:t.value}},"ASIS","LONG","EXTENDED"));me.flag("goff",["GOFF"],["NOGOFF"]);me.flag("list",["LIST"],["NOLIST"]);me.rule(["MARGINS","MAR"],(e,t)=>{nt(e,2,3);const n=e.values[0];const r=e.values[1];const i=e.values[2];Ke(n,"plain");Ke(r,"plain");let a=void 0;if(i){Ke(i,"plain");a=i.value}const s=n.value?Number(n.value):NaN;const o=r.value?Number(r.value):NaN;t.margins={m:s,n:o,c:a}},["NOMARGINS"],(e,t)=>{t.margins=false});me.rule(["NOT"],Fa((e,t)=>{e.not=t.value}));me.rule(["OR"],Fa((e,t)=>{e.or=t.value}));function lL(e){me.options={};me.appliedRules.clear();me.issues=[...e.issues];for(const t of e.options){me.translate(t)}return{options:me.options,tokens:e.tokens,issues:me.issues}}class uL{extractCompilerOptions(t){const n=this.getCompilerOptionsRange(t);if(n){const r=n.start+8;const i=t.substring(r,n.end);const a=t.substring(0,n.start)+" ".repeat(n.end-n.start)+t.substring(n.end);const s=oL(i,r);const o=lL(s);o.tokens.unshift(n.token);return{result:o,text:a}}else{return{result:void 0,text:t}}}getCompilerOptionsRange(t){let n=0;const r=/\s+/y;r.lastIndex=0;const i=r.exec(t);if(i){n=i.index}const a=t.charAt(n);if(a==="*"||a==="%"){const s="PROCESS".length;let o=n+1;const c=t.substring(o,o+s).toUpperCase();if(c==="PROCESS"){o+=s;const h=Hn(Kl,t.substring(n,o),n,o,NaN,NaN,NaN,NaN);h.payload={kind:l.ProcessDirective_PROCESS};for(let f=o;f<t.length;f++){const S=t.charAt(f);if(S===";"||S==="\n"){return{token:h,start:n,end:f}}}}}return void 0}}class hL{compilerOptionsPreprocessor;marginsProcessor;preprocessorLexer;preprocessorParser;preprocessorGenerator;preprocessorInterpreter;constructor(){this.compilerOptionsPreprocessor=new uL;this.marginsProcessor=new Dv;this.preprocessorLexer=new Uv(new rL,eu);this.preprocessorParser=new Wv(this.preprocessorLexer);this.preprocessorGenerator=new $v(ct);this.preprocessorInterpreter=new Fv}tokenize(t,n,r){const i=this.compilerOptionsPreprocessor.extractCompilerOptions(n);xp(i.result?.options??{});const a=this.marginsProcessor.processMargins(i);const s=this.preprocessorParser.initializeState(a,r);const{statements:o,errors:c}=this.preprocessorParser.start(s);const h=this.preprocessorGenerator.generateProgram(o);const{output:f,evaluationResults:S}=this.preprocessorInterpreter.run(h,this.preprocessorLexer.idTokenType);for(const g in s.perFileTokens){s.perFileTokens[g]=this.filterHiddenTokens(s.perFileTokens[g])}if(i.result){s.perFileTokens[r.toString()].unshift(...i.result.tokens)}return{all:this.filterHiddenTokens(f.all),compilerOptions:i,errors:c,statements:o,fileTokens:s.perFileTokens,evaluationResults:S}}filterHiddenTokens(t){return t.filter(n=>{const r=n.tokenType;return r.GROUP!==ge.SKIPPED})}}function mL(e,t){return{message:e.message,range:e.range,severity:e.severity,uri:t}}function fL(e,t){e.references.clear();e.scopeCaches.clear();SL(e,t);gL(e);dL(e);_L(e);EL(e)}const pL=new hL;function SL(e,t){const n=pL.tokenize(e,t,e.uri);e.files=Object.keys(n.fileTokens).map(i=>ht.parse(i));e.tokens.all=n.all;e.tokens.fileTokens=n.fileTokens;e.preprocessorAst.statements=n.statements;e.preprocessorEvaluationResults=n.evaluationResults;e.compilerOptions=n.compilerOptions.result?.options??{};const r=e.uri.toString();e.diagnostics.lexer=jE(n.errors);e.diagnostics.compilerOptions=n.compilerOptions.result?.issues.map(i=>mL(i,r))??[];return n}function gL(e){Do.input=e.tokens.all;const t=Do.parse();e.ast=t;e.diagnostics.parser=zE(Do.errors);return t}function dL(e){const t=cA(e);e.diagnostics.symbolTable=t}function _L(e){const t=KE(e);const n=XE(e.references,e.scopeCaches);e.diagnostics.linking=[...t,...n];return e.references}function EL(e){HE(e)}const AL=new Zt.NotificationType("pli/skippedCode");function IL(e,t){const n=t?OL(t):[];const r=t.requestCaches.get("skippedCodeRanges");if(!r?.length||r.length!==n.length||!r.every((i,a)=>NT(i,n[a]))){t.requestCaches.set("skippedCodeRanges",n);e.sendNotification(AL,{uri:t.uri.toString(),ranges:n})}}function OL(e){const t=Dt.get(e.uri.toString());if(!t){return[]}const n=e.tokens.fileTokens[t.uri]??[];const r=[];for(const i of n){if(i.payload?.kind===l.SkipDirective_SKIP){const a=t.positionAt(i.startOffset).line+1;r.push({start:{line:a,character:0},end:{line:a+i.payload.element.lineCount,character:0}})}else if(i.payload?.kind===l.IfStatement_IF){const a=e.preprocessorEvaluationResults.get(i.payload.element);if(a!==void 0){const{elseRange:s,unitRange:o}=i.payload.element;const c=a?s?.start??0:o?.start??0;const h=a?s?.end??0:o?.end??0;r.push({start:t.positionAt(c),end:t.positionAt(h)})}}}return r}const RL=new Zt.NotificationType("pli/marginIndicator");function PL(e,t){const n=t.compilerOptions.margins;const r={uri:t.uri.toString(),m:n?n.m:2,n:n?n.n:72};const i=t.requestCaches.get("margins");if(i?.m!==r.m||i?.n!==r.n){t.requestCaches.set("margins",r);e.sendNotification(RL,r)}}class TL{cache={};callbacks=new Map;constructor(t){if(t){this.cache=t}}get(t){return this.cache[t]}set(t,n){this.cache[t]=n}onRevalidate(t,n){this.callbacks.set(t,n);return this}revalidateAll(t){for(const n of Object.keys(this.cache)){const r=this.callbacks.get(n);if(r){r(t)}else{this.cache[n]=void 0}}}}function yL(){return new TL}function bL(e){return[...e.diagnostics.lexer,...e.diagnostics.compilerOptions,...e.diagnostics.parser,...e.diagnostics.symbolTable,...e.diagnostics.linking,...e.diagnostics.validation]}function NL(e){return{uri:e,files:[],compilerOptions:{},ast:{kind:m.PliProgram,container:null,statements:[]},preprocessorAst:{kind:m.PliProgram,container:null,statements:[]},preprocessorEvaluationResults:new Map,tokens:{fileTokens:{},all:[]},references:new QE,scopeCaches:new sA,diagnostics:{lexer:[],compilerOptions:[],parser:[],symbolTable:[],linking:[],validation:[]},requestCaches:yL().onRevalidate("margins",({connection:t,unit:n})=>{PL(t,n)}).onRevalidate("skippedCodeRanges",({connection:t,unit:n})=>{IL(t,n)})}}class kL{compilationUnits=new Map;getCompilationUnit(t){return this.compilationUnits.get(t.toString())}getOrCreateCompilationUnit(t){return this.compilationUnits.get(t.toString())||this.createAndStoreCompilationUnit(t)}createAndStoreCompilationUnit(t){const n=NL(t);this.compilationUnits.set(t.toString(),n);return n}deleteCompilationUnit(t){const n=this.compilationUnits.get(t.toString());if(!n){return false}for(const r of n.files??[]){this.compilationUnits.delete(r.toString())}this.compilationUnits.delete(t.toString());return true}getAllCompilationUnits(){return Array.from(this.compilationUnits.values())}listen(t){const n=Dt;n.listen(t);n.onDidChangeContent(r=>{const i=this.getOrCreateCompilationUnit(ht.parse(r.document.uri));const a=n.get(i.uri)??r.document;fL(i,a.getText());i.files.forEach(o=>{this.compilationUnits.set(o.toString(),i)});const s=CE(bL(i));for(const o of i.files){const c=s.get(o.toString());t.sendDiagnostics({uri:o.toString(),diagnostics:c??[]})}i.requestCaches.revalidateAll({connection:t,unit:i})});n.onDidClose(r=>{this.compilationUnits.delete(r.document.uri);t.sendDiagnostics({uri:r.document.uri,diagnostics:[]})})}}function DL(e,t,n){const r=e.tokens.fileTokens[t.toString()]??[];const i=Tl(r,n);const a=i?.payload;if(!a||!i){return[]}if(sf(a.kind)&&a.uri){return[{uri:a.uri.toString(),range:{start:i.startOffset,end:i.endOffset+1}}]}else if(of(a.kind)){const s=Pl(a.element);if(!s||!s.node){return[]}const o=Ws(s.node);if(!o?.payload?.uri){return[]}return[{uri:o.payload.uri.toString(),range:{start:o.startOffset,end:o.endOffset+1}}]}return[]}function vL(e,t,n){return bl(e,t,n)}const LL=[hn.variable,hn.keyword,hn.number,hn.function];const $d=new Map(LL.map((e,t)=>[e,t]));const CL=new Map([]);const UL={tokenTypes:Array.from($d.keys()),tokenModifiers:Array.from(CL.keys())};function ML(e,t,n){const r=new Zt.SemanticTokensBuilder;const i=t.tokens.fileTokens[e.uri]??[];for(const a of i){const s=wL(a);if(s!==void 0){const o=Sa(e,a.startOffset);r.push(o.line,o.character,a.image.length,$d.get(s),0)}}return r.build().data}function wL(e){const t=e.payload;if(!t){return void 0}if(GL(t)){return hn.function}if(FL(t)){return hn.variable}else if(t.kind===l.CompilerOption_Name){return hn.keyword}else if(t.kind===l.CompilerOption_Number){return hn.number}return void 0}function GL(e){if(e.kind===l.LabelPrefix_Name&&e.element.container?.kind===m.Statement&&e.element.container.value?.kind===m.ProcedureStatement){return true}if(e.kind===l.LabelReference_LabelRef&&e.element.container?.kind===m.EndStatement&&e.element.container.container?.kind===m.ProcedureStatement){return true}if(e.kind===l.ProcedureCall_ProcedureRef){return true}return false}function FL(e){switch(e.kind){case l.DeclaredVariable_Name:case l.ReferenceItem_Ref:case l.TypeAttribute_TypeId0:case l.TypeAttribute_TypeId1:case l.OrdinalTypeAttribute_TypeId0:case l.OrdinalTypeAttribute_TypeId1:case l.HandleAttribute_TypeId0:case l.HandleAttribute_TypeId1:case l.LabelReference_LabelRef:return true}return false}function xL(e,t,n){const r=bl(e,t,n);const i=hf(r,a=>a.uri);return i}class BL{canHandle(t){return t.payload.kind===l.ProcedureStatement_PROCEDURE&&t.payload.element.kind===m.ProcedureStatement}buildSymbols(t,n,r,i){const a=t.payload?.element.container;const s=a.labels.map(h=>h.name).join(" ");const o=Mt(a.labels[0]);if(!s||!o){return[]}const c=tu(s,Tn.Function,o,i,r);c.range.end=Qr(r,tn(n[n.length-1])).end;return[c]}}class qL{canHandle(t){if(t.payload.kind!==l.DeclareStatement_DECLARE||t.payload.element.kind!==m.DeclareStatement){return false}return true}buildSymbols(t,n,r,i){const a=[];const s=[];const o=new WL;const c=t.payload?.element;for(const h of c.items.filter(f=>f.kind===m.DeclaredItem)){s.push(...this.retrieveLevelSymbols(h,null,i,r))}for(const h of s){o.addSymbol(h.level,h.symbol)}a.push(...o.getRootSymbols());return a}retrieveLevelSymbols(t,n,r,i){const a=[];let s=Tn.Variable;if(t.attributes.some(o=>o.kind===m.ComputationDataAttribute&&o.type?.toString().toLowerCase()==="constant")){s=Tn.Constant}for(const o of t.elements.filter(c=>c.kind!==m.WildcardItem)){if(o.kind===m.DeclaredItem){a.push(...this.retrieveLevelSymbols(o,t.level??n,r,i))}else if(o.kind===m.DeclaredVariable&&o.nameToken&&af(o.nameToken)){const c=Mt(o);if(!o.name||!c){continue}a.push({level:t.level??n,symbol:tu(o.name,s,c,r,i)})}}return a}}class WL{levelMap;rootSymbols;constructor(){this.levelMap=new Map;this.rootSymbols=[]}addSymbol(t,n){if(!t){this.rootSymbols.push(n);return}let r=t-1;while(!this.levelMap.has(r)&&r>0){r--}if(r>0){const i=this.levelMap.get(r);if(i){i.children=[n,...i.children??[]];i.kind=Tn.Struct;i.range.end=Hd(i.children,n.range.end)}}else{this.rootSymbols.push(n)}this.levelMap.set(t,n);for(const i of this.levelMap.keys()){if(i>t){this.levelMap.delete(i)}}}getRootSymbols(){return this.rootSymbols}}class VL{canHandle(t){if(t.payload.kind!==l.LabelPrefix_Name||t.payload.element.kind!==m.LabelPrefix){return false}const n=t.payload?.element.container;if(!n||n.kind!==m.Statement){return true}return n.value?.kind!==m.ProcedureStatement}buildSymbols(t,n,r,i){const a=t.payload?.element.container;if(!a?.labels?.length){return[]}const s=[];for(const o of a.labels){const c=Mt(o);if(!o.name||!c){continue}s.push(tu(o.name,Tn.Key,c,i,r))}return s}}function tu(e,t,n,r,i){const a=Qr(i,n);const s={start:a.start,end:Hd(r,a.end)};return Os.create(e,void 0,t,s,a,r)}function Hd(e,t){if(e.length===0){return t}const n=Math.max(...e.map(a=>a.range.end.line));const r=e.filter(a=>a.range.end.line===n);const i=Math.max(...r.map(a=>a.range.end.character));return{line:n,character:i}}const $L=[new BL,new qL,new VL];function jd(e,t){const n=Dt.get(e.toString());if(!n){return[]}const r=[];const i=new Map;const a=t.tokens.fileTokens[n.uri].filter(o=>o.payload?.element).map(o=>{const c=o.payload.element;if(!i.has(c)){i.set(c,[])}i.get(c)?.push(o);return o});let s=[];for(const o of a){const c=$L.find(S=>S.canHandle(o));if(!c)continue;const h=c.buildSymbols(o,i.get(o.payload.element),n,[]);for(const S of h){const g=s.find(_=>HL(_.range,S.range));if(g){g.children.push(S)}else{r.push(S);if(S.kind===Tn.Function){s=[]}}}const f=h.filter(S=>S.kind===Tn.Function);s.unshift(...f)}return r}function HL(e,t){return(e.start.line<=t.start.line||e.start.line===t.start.line&&e.start.character<=t.start.character)&&(e.end.line>=t.end.line||e.end.line===t.end.line&&e.end.character>=t.end.character)}function jL(e,t){return t.flatMap(n=>{if(!n.requestCaches.get("workspaceSymbols")){n.requestCaches.set("workspaceSymbols",zL(n))}const r=n.requestCaches.get("workspaceSymbols")??[];return r.filter(i=>i.name.toLowerCase().includes(e.toLowerCase()))})}function zL(e){const t=e.files.flatMap(n=>{const r=YL(n,e);return r.map(i=>({symbol:i,uri:n}))});return t.map(({symbol:n,uri:r})=>{return Is.create(n.name,n.kind,n.selectionRange,r.toString())})}function YL(e,t){const n=jd(e,t);return n.flatMap(r=>{const i=[];function a(s){i.push(s);if(s.children){s.children.forEach(a)}}a(r);return i})}class XL{programConfigs;processGroupConfigs;constructor(){this.programConfigs=new Map;this.processGroupConfigs=new Map}async init(t){const n=t+"/.pliplugin";const r=n+"/pgm_conf.json";const i=n+"/proc_grps.json";this.loadProgramConfig(r,t);this.loadProcessGroupConfig(i)}loadProgramConfig(t,n){const r=ht.parse(t);if(Xr.fileExistsSync(r)){const i=Xr.readFileSync(ht.parse(t));if(i!==void 0){try{const a=JSON.parse(i.toString()).pgms;this.setProgramConfigs(n,a)}catch(a){console.error("Failed to load program config, skipping:",a)}}else{console.warn("No program config found.")}}}loadProcessGroupConfig(t){const n=ht.parse(t);if(Xr.fileExistsSync(n)){const r=Xr.readFileSync(ht.parse(t));if(r!==void 0){try{const i=JSON.parse(r.toString()).pgroups;this.setProcessGroupConfigs(i)}catch(i){console.error("Failed to load process group config, skipping:",i)}}else{console.warn("No process group config found.")}}}setProgramConfigs(t,n){for(const r of n){const i=ht.parse(t);const a=Ot.joinPath(i,r.program);this.programConfigs.set(a.toString(),r)}}setProcessGroupConfigs(t){for(const n of t){this.processGroupConfigs.set(n.name,n)}}getProgramConfig(t){return this.programConfigs.get(t)}hasProgramConfig(t){return this.programConfigs.has(t)}hasRegisteredProgramConfigs(){return this.programConfigs.size>0}getProcessGroupConfig(t){return this.processGroupConfigs.get(t)}}const QL=new XL;var ir;(function(e){e[e["CstNode"]=0]="CstNode";e[e["LocalReference"]=1]="LocalReference";e[e["QualifiedReference"]=2]="QualifiedReference"})(ir||(ir={}));function JL(e,t){const n=[];const r=t.payload?.kind;switch(r){case l.AssignmentStatement_Operator:case l.BinaryExpression_Operator:case l.UnaryExpression_Operator:case l.InitialAttribute_OpenParenDirect:case l.Percentage:n.push({kind:ir.LocalReference});break;case l.MemberCall_Dot:if(e?.kind===m.MemberCall){const i=e.previous;if(i){n.push({kind:ir.QualifiedReference,previous:i})}}break}return n}function ZL(){return[]}function KL(e,t,n){const r=[];if(n.kind===ir.CstNode){return[]}if(n.kind===ir.QualifiedReference){t=n.previous}else if(!t){return[]}const i=eC(t,e)?e.scopeCaches.preprocessor:e.scopeCaches.regular;const a=i.get(t);if(!a){return[]}if(n.kind===ir.LocalReference){const s=a.allDistinctSymbols([]);for(const o of s){if(o.name){r.push({label:o.name,kind:Gm(o.node),text:o.name})}}}else if(n.kind===ir.QualifiedReference){const s=n.previous.element?.ref;if(!s){return[]}const o=yl(s);const c=a.allDistinctSymbols(o);for(const h of c){if(h.name){r.push({label:h.name,kind:Gm(h.node),text:h.name})}}}return r}function Gm(e){switch(e.kind){case m.LabelPrefix:{const t=e.container;const n=t.value;if(n&&n.kind===m.ProcedureStatement){return Jr.Function}return Jr.Variable}}return Jr.Variable}function eC(e,t){let n=e;while(n.container){n=n.container}return t.preprocessorAst===n}function tC(e,t,n){const r=e.tokens.fileTokens[t.toString()]??[];const i=GE(r,n);const a=Tl(r,n);const s=r[i];const o=[];let c;if(s){c=nC(r,i);o.push(...JL(c,s))}else{o.push(...ZL())}const h=o.flatMap(f=>KL(e,c,f));return rC(h,n,a)}function nC(e,t){for(let n=0;n<5;n++){let r=e[t-n];if(!r){return void 0}else if(r.payload?.element){return r.payload.element}}return void 0}function rC(e,t,n){let r="";let i={start:t,end:t};if(n){r=n.image.substring(0,t-n.startOffset);i.start=n.startOffset;i.end=n.endOffset+1}const a=[];for(const s of e){if(s.text.startsWith(r)){const o={label:s.label,kind:s.kind,detail:s.detail,documentation:s.documentation,edit:{range:i,text:s.text}};a.push(o)}}return a}function iC(e){const t=new kL;t.listen(e);e.onInitialize(n=>{for(const r of n.workspaceFolders?.reverse()??[]){QL.init(r.uri)}return{capabilities:{workspace:{workspaceFolders:{supported:true},fileOperations:{}},textDocumentSync:{change:Zt.TextDocumentSyncKind.Incremental,openClose:true},completionProvider:{triggerCharacters:[".","%"]},renameProvider:true,definitionProvider:true,referencesProvider:true,documentHighlightProvider:true,semanticTokensProvider:{legend:UL,full:true,range:false},documentSymbolProvider:true,workspaceSymbolProvider:true,experimental:{skippedPliCode:true}}}});e.onCompletion(n=>{const r=n.textDocument.uri;const i=n.position;const a=Dt.get(r);const s=ht.parse(r);const o=t.getCompilationUnit(s);if(a&&o){const c=a.offsetAt(i);return tC(o,s,c)}return[]});e.onDefinition(n=>{const r=n.position;const i=Dt.get(n.textDocument.uri);const a=ht.parse(n.textDocument.uri);const s=t.getCompilationUnit(a);if(i&&s){const o=i.offsetAt(r);const c=DL(s,a,o);const h=[];for(const f of c){const S=Dt.get(f.uri,{loadFromURI:true});if(S){const g=Qr(S,f.range);h.push({uri:f.uri,range:g})}}return h}return[]});e.onReferences(n=>{const r=n.textDocument.uri;const i=n.position;const a=Dt.get(r);const s=ht.parse(r);const o=t.getCompilationUnit(s);if(a&&o){const c=a.offsetAt(i);const h=vL(o,s,c);const f=[];for(const S of h){const g=Dt.get(S.uri,{loadFromURI:true});if(g){const _=Qr(g,S.range);f.push({uri:S.uri,range:_})}}return f}return[]});e.languages.semanticTokens.on(n=>{const r=n.textDocument.uri;const i=Dt.get(r);const a=t.getCompilationUnit(ht.parse(r));if(i&&a){return{data:ML(i,a)}}return{data:[]}});e.onDocumentHighlight(n=>{const r=Ot.normalize(n.textDocument.uri);const i=n.position;const a=Dt.get(r);const s=ht.parse(r);const o=t.getCompilationUnit(s);if(a&&o){const c=a.offsetAt(i);const h=bl(o,s,c);return h.filter(f=>f.uri===r).map(f=>Zt.DocumentHighlight.create(Qr(a,f.range)))}return[]});e.onRenameRequest(n=>{const r=n.textDocument.uri;const i=n.position;const a=Dt.get(r);const s=ht.parse(r);const o=t.getCompilationUnit(s);if(a&&o){const c=a.offsetAt(i);const h=xL(o,s,c);const f=nA(h,(S,g)=>{const _=Dt.get(g,{loadFromURI:true});if(!_){return[]}else{return S.map(I=>({range:Qr(_,I.range),newText:n.newName}))}});return{changes:f}}return null});e.onDocumentSymbol(n=>{const r=n.textDocument.uri;const i=Dt.get(r);const a=ht.parse(r);const s=t.getCompilationUnit(a);if(i&&s){return jd(a,s)}return[]});e.onWorkspaceSymbol(n=>{return jL(n.query,t.getAllCompilationUnits())});e.listen()}const aC=new Rl.BrowserMessageReader(self);const sC=new Rl.BrowserMessageWriter(self);const oC=Rl.createConnection(aC,sC);iC(oC)});export default cC();
